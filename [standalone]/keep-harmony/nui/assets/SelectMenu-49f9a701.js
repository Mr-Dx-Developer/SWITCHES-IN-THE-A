import{F as _e,h as oe}from"./FocusDetector-bd94bb6c.js";import{R as fe,aD as ie,aE as he,f as j,l as y,i as ve,aF as Z,ao as V,ay as ge,p as Ie,Y as Be,s as L,v as _,a2 as A,x as I,a4 as $e,a3 as De,y as re,k as K,am as je,A as $,h as z,Q as le,P as He,aG as Ve,aa as B,aH as q,B as ae,aI as qe,j as Ue,m as We,aJ as Je,S as Qe,r as Ye}from"./index-1c6b3dd3.js";import{V as Ze}from"./VirtualList-e7fe5725.js";import{N as Xe}from"./Empty-168292b7.js";function U(e){const t=e.filter(n=>n!==void 0);if(t.length!==0)return t.length===1?t[0]:n=>{e.forEach(o=>{o&&o(n)})}}function en(e,t){t&&(fe(()=>{const{value:n}=e;n&&ie.registerHandler(n,t)}),he(()=>{const{value:n}=e;n&&ie.unregisterHandler(n)}))}const nn=j({name:"Checkmark",render(){return y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},y("g",{fill:"none"},y("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}});function se(e){return Array.isArray(e)?e:[e]}const Y={STOP:"STOP"};function pe(e,t){const n=t(e);e.children!==void 0&&n!==Y.STOP&&e.children.forEach(o=>pe(o,t))}function tn(e,t={}){const{preserveGroup:n=!1}=t,o=[],l=n?i=>{i.isLeaf||(o.push(i.key),s(i.children))}:i=>{i.isLeaf||(i.isGroup||o.push(i.key),s(i.children))};function s(i){i.forEach(l)}return s(e),o}function on(e,t){const{isLeaf:n}=e;return n!==void 0?n:!t(e)}function rn(e){return e.children}function ln(e){return e.key}function an(){return!1}function sn(e,t){const{isLeaf:n}=e;return!(n===!1&&!Array.isArray(t(e)))}function dn(e){return e.disabled===!0}function cn(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function W(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function J(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function un(e,t){const n=new Set(e);return t.forEach(o=>{n.has(o)||n.add(o)}),Array.from(n)}function fn(e,t){const n=new Set(e);return t.forEach(o=>{n.has(o)&&n.delete(o)}),Array.from(n)}function hn(e){return(e==null?void 0:e.type)==="group"}function vn(e){const t=new Map;return e.forEach((n,o)=>{t.set(n.key,o)}),n=>{var o;return(o=t.get(n))!==null&&o!==void 0?o:null}}class gn extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function pn(e,t,n,o){return D(t.concat(e),n,o,!1)}function yn(e,t){const n=new Set;return e.forEach(o=>{const l=t.treeNodeMap.get(o);if(l!==void 0){let s=l.parent;for(;s!==null&&!(s.disabled||n.has(s.key));)n.add(s.key),s=s.parent}}),n}function mn(e,t,n,o){const l=D(t,n,o,!1),s=D(e,n,o,!0),i=yn(e,n),d=[];return l.forEach(p=>{(s.has(p)||i.has(p))&&d.push(p)}),d.forEach(p=>l.delete(p)),l}function Q(e,t){const{checkedKeys:n,keysToCheck:o,keysToUncheck:l,indeterminateKeys:s,cascade:i,leafOnly:d,checkStrategy:p,allowNotLoaded:f}=e;if(!i)return o!==void 0?{checkedKeys:un(n,o),indeterminateKeys:Array.from(s)}:l!==void 0?{checkedKeys:fn(n,l),indeterminateKeys:Array.from(s)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(s)};const{levelTreeNodeMap:v}=t;let h;l!==void 0?h=mn(l,n,t,f):o!==void 0?h=pn(o,n,t,f):h=D(n,t,f,!1);const x=p==="parent",R=p==="child"||d,g=h,C=new Set,F=Math.max.apply(null,Array.from(v.keys()));for(let m=F;m>=0;m-=1){const b=m===0,w=v.get(m);for(const c of w){if(c.isLeaf)continue;const{key:u,shallowLoaded:N}=c;if(R&&N&&c.children.forEach(k=>{!k.disabled&&!k.isLeaf&&k.shallowLoaded&&g.has(k.key)&&g.delete(k.key)}),c.disabled||!N)continue;let M=!0,P=!1,O=!0;for(const k of c.children){const T=k.key;if(!k.disabled){if(O&&(O=!1),g.has(T))P=!0;else if(C.has(T)){P=!0,M=!1;break}else if(M=!1,P)break}}M&&!O?(x&&c.children.forEach(k=>{!k.disabled&&g.has(k.key)&&g.delete(k.key)}),g.add(u)):P&&C.add(u),b&&R&&g.has(u)&&g.delete(u)}}return{checkedKeys:Array.from(g),indeterminateKeys:Array.from(C)}}function D(e,t,n,o){const{treeNodeMap:l,getChildren:s}=t,i=new Set,d=new Set(e);return e.forEach(p=>{const f=l.get(p);f!==void 0&&pe(f,v=>{if(v.disabled)return Y.STOP;const{key:h}=v;if(!i.has(h)&&(i.add(h),d.add(h),cn(v.rawNode,s))){if(o)return Y.STOP;if(!n)throw new gn}})}),d}function bn(e,{includeGroup:t=!1,includeSelf:n=!0},o){var l;const s=o.treeNodeMap;let i=e==null?null:(l=s.get(e))!==null&&l!==void 0?l:null;const d={keyPath:[],treeNodePath:[],treeNode:i};if(i!=null&&i.ignored)return d.treeNode=null,d;for(;i;)!i.ignored&&(t||!i.isGroup)&&d.treeNodePath.push(i),i=i.parent;return d.treeNodePath.reverse(),n||d.treeNodePath.pop(),d.keyPath=d.treeNodePath.map(p=>p.key),d}function kn(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function xn(e,t){const n=e.siblings,o=n.length,{index:l}=e;return t?n[(l+1)%o]:l===n.length-1?null:n[l+1]}function de(e,t,{loop:n=!1,includeDisabled:o=!1}={}){const l=t==="prev"?Sn:xn,s={reverse:t==="prev"};let i=!1,d=null;function p(f){if(f!==null){if(f===e){if(!i)i=!0;else if(!e.disabled&&!e.isGroup){d=e;return}}else if((!f.disabled||o)&&!f.ignored&&!f.isGroup){d=f;return}if(f.isGroup){const v=X(f,s);v!==null?d=v:p(l(f,n))}else{const v=l(f,!1);if(v!==null)p(v);else{const h=Nn(f);h!=null&&h.isGroup?p(l(h,n)):n&&p(l(f,!0))}}}}return p(e),d}function Sn(e,t){const n=e.siblings,o=n.length,{index:l}=e;return t?n[(l-1+o)%o]:l===0?null:n[l-1]}function Nn(e){return e.parent}function X(e,t={}){const{reverse:n=!1}=t,{children:o}=e;if(o){const{length:l}=o,s=n?l-1:0,i=n?-1:l,d=n?-1:1;for(let p=s;p!==i;p+=d){const f=o[p];if(!f.disabled&&!f.ignored)if(f.isGroup){const v=X(f,t);if(v!==null)return v}else return f}}return null}const wn={getChild(){return this.ignored?null:X(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return de(this,"next",e)},getPrev(e={}){return de(this,"prev",e)}};function Cn(e,t){const n=t?new Set(t):void 0,o=[];function l(s){s.forEach(i=>{o.push(i),!(i.isLeaf||!i.children||i.ignored)&&(i.isGroup||n===void 0||n.has(i.key))&&l(i.children)})}return l(e),o}function Pn(e,t){const n=e.key;for(;t;){if(t.key===n)return!0;t=t.parent}return!1}function ye(e,t,n,o,l,s=null,i=0){const d=[];return e.forEach((p,f)=>{var v;const h=Object.create(o);if(h.rawNode=p,h.siblings=d,h.level=i,h.index=f,h.isFirstChild=f===0,h.isLastChild=f+1===e.length,h.parent=s,!h.ignored){const x=l(p);Array.isArray(x)&&(h.children=ye(x,t,n,o,l,h,i+1))}d.push(h),t.set(h.key,h),n.has(i)||n.set(i,[]),(v=n.get(i))===null||v===void 0||v.push(h)}),d}function Ln(e,t={}){var n;const o=new Map,l=new Map,{getDisabled:s=dn,getIgnored:i=an,getIsGroup:d=hn,getKey:p=ln}=t,f=(n=t.getChildren)!==null&&n!==void 0?n:rn,v=t.ignoreEmptyChildren?c=>{const u=f(c);return Array.isArray(u)?u.length?u:null:u}:f,h=Object.assign({get key(){return p(this.rawNode)},get disabled(){return s(this.rawNode)},get isGroup(){return d(this.rawNode)},get isLeaf(){return on(this.rawNode,v)},get shallowLoaded(){return sn(this.rawNode,v)},get ignored(){return i(this.rawNode)},contains(c){return Pn(this,c)}},wn),x=ye(e,o,l,h,v);function R(c){if(c==null)return null;const u=o.get(c);return u&&!u.isGroup&&!u.ignored?u:null}function g(c){if(c==null)return null;const u=o.get(c);return u&&!u.ignored?u:null}function C(c,u){const N=g(c);return N?N.getPrev(u):null}function F(c,u){const N=g(c);return N?N.getNext(u):null}function m(c){const u=g(c);return u?u.getParent():null}function b(c){const u=g(c);return u?u.getChild():null}const w={treeNodes:x,treeNodeMap:o,levelTreeNodeMap:l,maxLevel:Math.max(...l.keys()),getChildren:v,getFlattenedNodes(c){return Cn(x,c)},getNode:R,getPrev:C,getNext:F,getParent:m,getChild:b,getFirstAvailableNode(){return kn(x)},getPath(c,u={}){return bn(c,u,w)},getCheckedKeys(c,u={}){const{cascade:N=!0,leafOnly:M=!1,checkStrategy:P="all",allowNotLoaded:O=!1}=u;return Q({checkedKeys:W(c),indeterminateKeys:J(c),cascade:N,leafOnly:M,checkStrategy:P,allowNotLoaded:O},w)},check(c,u,N={}){const{cascade:M=!0,leafOnly:P=!1,checkStrategy:O="all",allowNotLoaded:k=!1}=N;return Q({checkedKeys:W(u),indeterminateKeys:J(u),keysToCheck:c==null?[]:se(c),cascade:M,leafOnly:P,checkStrategy:O,allowNotLoaded:k},w)},uncheck(c,u,N={}){const{cascade:M=!0,leafOnly:P=!1,checkStrategy:O="all",allowNotLoaded:k=!1}=N;return Q({checkedKeys:W(u),indeterminateKeys:J(u),keysToUncheck:c==null?[]:se(c),cascade:M,leafOnly:P,checkStrategy:O,allowNotLoaded:k},w)},getNonLeafKeys(c={}){return tn(x,c)}};return w}function Rn(e,t){return y(Be,{name:"fade-in-scale-up-transition"},{default:()=>e?y(Ie,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>y(nn)}):null})}const ce=j({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:n,multipleRef:o,valueSetRef:l,renderLabelRef:s,renderOptionRef:i,labelFieldRef:d,valueFieldRef:p,showCheckmarkRef:f,nodePropsRef:v,handleOptionClick:h,handleOptionMouseEnter:x}=ve(Z),R=V(()=>{const{value:m}=n;return m?e.tmNode.key===m.key:!1});function g(m){const{tmNode:b}=e;b.disabled||h(m,b)}function C(m){const{tmNode:b}=e;b.disabled||x(m,b)}function F(m){const{tmNode:b}=e,{value:w}=R;b.disabled||w||x(m,b)}return{multiple:o,isGrouped:V(()=>{const{tmNode:m}=e,{parent:b}=m;return b&&b.rawNode.type==="group"}),showCheckmark:f,nodeProps:v,isPending:R,isSelected:V(()=>{const{value:m}=t,{value:b}=o;if(m===null)return!1;const w=e.tmNode.rawNode[p.value];if(b){const{value:c}=l;return c.has(w)}else return m===w}),labelField:d,renderLabel:s,renderOption:i,handleMouseMove:F,handleMouseEnter:C,handleClick:g}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:n,isPending:o,isGrouped:l,showCheckmark:s,nodeProps:i,renderOption:d,renderLabel:p,handleClick:f,handleMouseEnter:v,handleMouseMove:h}=this,x=Rn(n,e),R=p?[p(t,n),s&&x]:[ge(t[this.labelField],t,n),s&&x],g=i==null?void 0:i(t),C=y("div",Object.assign({},g,{class:[`${e}-base-select-option`,t.class,g==null?void 0:g.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:n,[`${e}-base-select-option--grouped`]:l,[`${e}-base-select-option--pending`]:o,[`${e}-base-select-option--show-checkmark`]:s}],style:[(g==null?void 0:g.style)||"",t.style||""],onClick:U([f,g==null?void 0:g.onClick]),onMouseenter:U([v,g==null?void 0:g.onMouseenter]),onMousemove:U([h,g==null?void 0:g.onMousemove])}),y("div",{class:`${e}-base-select-option__content`},R));return t.render?t.render({node:C,option:t,selected:n}):d?d({node:C,option:t,selected:n}):C}}),ue=j({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:n,nodePropsRef:o}=ve(Z);return{labelField:n,nodeProps:o,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:n,nodeProps:o,tmNode:{rawNode:l}}=this,s=o==null?void 0:o(l),i=t?t(l,!1):ge(l[this.labelField],l,!1),d=y("div",Object.assign({},s,{class:[`${e}-base-select-group-header`,s==null?void 0:s.class]}),i);return l.render?l.render({node:d,option:l}):n?n({node:d,option:l,selected:!1}):d}}),Mn=L("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[L("scrollbar",`
 max-height: var(--n-height);
 `),L("virtual-list",`
 max-height: var(--n-height);
 `),L("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[_("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),L("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),L("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),_("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),_("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),_("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),L("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),L("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[A("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),I("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),I("&:active",`
 color: var(--n-option-text-color-pressed);
 `),A("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),A("pending",[I("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),A("selected",`
 color: var(--n-option-text-color-active);
 `,[I("&::before",`
 background-color: var(--n-option-color-active);
 `),A("pending",[I("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),A("disabled",`
 cursor: not-allowed;
 `,[$e("selected",`
 color: var(--n-option-text-color-disabled);
 `),A("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),_("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[De({enterScale:"0.5"})])])]),zn=j({name:"InternalSelectMenu",props:Object.assign(Object.assign({},re.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const t=re("InternalSelectMenu","-internal-select-menu",Mn,je,e,K(e,"clsPrefix")),n=$(null),o=$(null),l=$(null),s=z(()=>e.treeMate.getFlattenedNodes()),i=z(()=>vn(s.value)),d=$(null);function p(){const{treeMate:r}=e;let a=null;const{value:S}=e;S===null?a=r.getFirstAvailableNode():(e.multiple?a=r.getNode((S||[])[(S||[]).length-1]):a=r.getNode(S),(!a||a.disabled)&&(a=r.getFirstAvailableNode())),T(a||null)}function f(){const{value:r}=d;r&&!e.treeMate.getNode(r.key)&&(d.value=null)}let v;le(()=>e.show,r=>{r?v=le(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?p():f(),He(ee)):f()},{immediate:!0}):v==null||v()},{immediate:!0}),he(()=>{v==null||v()});const h=z(()=>Ve(t.value.self[B("optionHeight",e.size)])),x=z(()=>q(t.value.self[B("padding",e.size)])),R=z(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),g=z(()=>{const r=s.value;return r&&r.length===0});function C(r){const{onToggle:a}=e;a&&a(r)}function F(r){const{onScroll:a}=e;a&&a(r)}function m(r){var a;(a=l.value)===null||a===void 0||a.sync(),F(r)}function b(){var r;(r=l.value)===null||r===void 0||r.sync()}function w(){const{value:r}=d;return r||null}function c(r,a){a.disabled||T(a,!1)}function u(r,a){a.disabled||C(a)}function N(r){var a;oe(r,"action")||(a=e.onKeyup)===null||a===void 0||a.call(e,r)}function M(r){var a;oe(r,"action")||(a=e.onKeydown)===null||a===void 0||a.call(e,r)}function P(r){var a;(a=e.onMousedown)===null||a===void 0||a.call(e,r),!e.focusable&&r.preventDefault()}function O(){const{value:r}=d;r&&T(r.getNext({loop:!0}),!0)}function k(){const{value:r}=d;r&&T(r.getPrev({loop:!0}),!0)}function T(r,a=!1){d.value=r,a&&ee()}function ee(){var r,a;const S=d.value;if(!S)return;const G=i.value(S.key);G!==null&&(e.virtualScroll?(r=o.value)===null||r===void 0||r.scrollTo({index:G}):(a=l.value)===null||a===void 0||a.scrollTo({index:G,elSize:h.value}))}function me(r){var a,S;!((a=n.value)===null||a===void 0)&&a.contains(r.target)&&((S=e.onFocus)===null||S===void 0||S.call(e,r))}function be(r){var a,S;!((a=n.value)===null||a===void 0)&&a.contains(r.relatedTarget)||(S=e.onBlur)===null||S===void 0||S.call(e,r)}ae(Z,{handleOptionMouseEnter:c,handleOptionClick:u,valueSetRef:R,pendingTmNodeRef:d,nodePropsRef:K(e,"nodeProps"),showCheckmarkRef:K(e,"showCheckmark"),multipleRef:K(e,"multiple"),valueRef:K(e,"value"),renderLabelRef:K(e,"renderLabel"),renderOptionRef:K(e,"renderOption"),labelFieldRef:K(e,"labelField"),valueFieldRef:K(e,"valueField")}),ae(qe,n),fe(()=>{const{value:r}=l;r&&r.sync()});const ne=z(()=>{const{size:r}=e,{common:{cubicBezierEaseInOut:a},self:{height:S,borderRadius:G,color:xe,groupHeaderTextColor:Se,actionDividerColor:Ne,optionTextColorPressed:we,optionTextColor:Ce,optionTextColorDisabled:Pe,optionTextColorActive:Re,optionOpacityDisabled:Me,optionCheckColor:Oe,actionTextColor:Ke,optionColorPending:Fe,optionColorActive:Te,loadingColor:Le,loadingSize:ze,optionColorActivePending:Ae,[B("optionFontSize",r)]:Ee,[B("optionHeight",r)]:Ge,[B("optionPadding",r)]:H}}=t.value;return{"--n-height":S,"--n-action-divider-color":Ne,"--n-action-text-color":Ke,"--n-bezier":a,"--n-border-radius":G,"--n-color":xe,"--n-option-font-size":Ee,"--n-group-header-text-color":Se,"--n-option-check-color":Oe,"--n-option-color-pending":Fe,"--n-option-color-active":Te,"--n-option-color-active-pending":Ae,"--n-option-height":Ge,"--n-option-opacity-disabled":Me,"--n-option-text-color":Ce,"--n-option-text-color-active":Re,"--n-option-text-color-disabled":Pe,"--n-option-text-color-pressed":we,"--n-option-padding":H,"--n-option-padding-left":q(H,"left"),"--n-option-padding-right":q(H,"right"),"--n-loading-color":Le,"--n-loading-size":ze}}),{inlineThemeDisabled:te}=e,E=te?Ue("internal-select-menu",z(()=>e.size[0]),ne,e):void 0,ke={selfRef:n,next:O,prev:k,getPendingTmNode:w};return en(n,e.onResize),Object.assign({mergedTheme:t,virtualListRef:o,scrollbarRef:l,itemSize:h,padding:x,flattenedNodes:s,empty:g,virtualListContainer(){const{value:r}=o;return r==null?void 0:r.listElRef},virtualListContent(){const{value:r}=o;return r==null?void 0:r.itemsElRef},doScroll:F,handleFocusin:me,handleFocusout:be,handleKeyUp:N,handleKeyDown:M,handleMouseDown:P,handleVirtualListResize:b,handleVirtualListScroll:m,cssVars:te?void 0:ne,themeClass:E==null?void 0:E.themeClass,onRender:E==null?void 0:E.onRender},ke)},render(){const{$slots:e,virtualScroll:t,clsPrefix:n,mergedTheme:o,themeClass:l,onRender:s}=this;return s==null||s(),y("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${n}-base-select-menu`,l,this.multiple&&`${n}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?y("div",{class:`${n}-base-select-menu__loading`},y(Je,{clsPrefix:n,strokeWidth:20})):this.empty?y("div",{class:`${n}-base-select-menu__empty`,"data-empty":!0},Ye(e.empty,()=>[y(Xe,{theme:o.peers.Empty,themeOverrides:o.peerOverrides.Empty})])):y(Qe,{ref:"scrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?y(Ze,{ref:"virtualListRef",class:`${n}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:i})=>i.isGroup?y(ue,{key:i.key,clsPrefix:n,tmNode:i}):i.ignored?null:y(ce,{clsPrefix:n,key:i.key,tmNode:i})}):y("div",{class:`${n}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(i=>i.isGroup?y(ue,{key:i.key,clsPrefix:n,tmNode:i}):y(ce,{clsPrefix:n,key:i.key,tmNode:i})))}),We(e.action,i=>i&&[y("div",{class:`${n}-base-select-menu__action`,"data-action":!0,key:"action"},i),y(_e,{onFocus:this.onTabOut,key:"focus-detector"})]))}});export{zn as N,Ln as c,U as m,en as u};
