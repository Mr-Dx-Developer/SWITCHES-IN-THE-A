import{f as b,o as d,b as h,w as t,a as c,n as _,b7 as v,I as u,u as i,N as k,t as N,E as I,c as g,_ as C,h as B,L as $,M as w,d as A,H as m,b8 as M,b9 as S}from"./index-1c6b3dd3.js";import{N as y}from"./Icon-20171aa1.js";const x=b({__name:"HeaderAction",props:{action:{},loading:{type:Boolean},status:{}},setup(s){function p(e){let a="";return e.color&&(a+=`background-color: ${e.color};`),e.text_color&&(a+=`color: ${e.text_color};`),a||null}function f(e){let a="icon";return e.disabled&&(a+=" disabled"),a||null}return(e,a)=>e.action.description?(d(),h(i(I),{key:0,trigger:"hover"},{trigger:t(()=>[c("div",{class:_(f(e.action)),style:v(p(e.action))},[u(i(k),{bordered:!1,loading:e.loading,type:e.status,dashed:"",onClick:a[0]||(a[0]=r=>e.$emit("action",e.action,r))},{icon:t(()=>[u(i(y),null,{default:t(()=>[c("i",{class:_(e.action.icon)},null,2)]),_:1})]),_:1},8,["loading","type"])],6)]),default:t(()=>[c("span",null,N(e.action.description),1)]),_:1})):(d(),g("div",{key:1,class:_(f(e.action)),style:v(p(e.action))},[u(i(k),{bordered:!1,loading:e.loading,onClick:a[1]||(a[1]=r=>e.$emit("action",e.action,r))},{icon:t(()=>[u(i(y),null,{default:t(()=>[c("i",{class:_(e.action.icon)},null,2)]),_:1})]),_:1},8,["loading"])],6))}});const V=C(x,[["__scopeId","data-v-059f7553"]]),z=s=>(M("data-v-e80c8aaf"),s=s(),S(),s),E={class:"title-container"},L={class:"title",style:{"flex-grow":"0.95",cursor:"auto"}},q=z(()=>c("i",{class:"fa-solid fa-xmark"},null,-1)),D=b({__name:"Header",props:{menu:{}},emits:["update"],setup(s,{emit:p}){const f=s;function e(){m.send("contextMenu:close")}const a=B(()=>{let o=f.menu.actions;for(let l=0;l<o.length;l++){const n=o[l];switch(n.index=l,n.type){case"back":n.icon=n.icon||"fa-solid fa-left-long";break;case"pin":n.icon=n.icon||"fa-solid fa-location-dot";break;default:n.icon=n.icon;break}}return o});async function r(o,l){o.update?o.update&&(a.value[o.index].loading=!0,m.send("contextMenu:updateRequest",{action:"update",type:"action",id:o.type},n=>{if(!n||typeof n=="boolean"){a.value[o.index].loading=!1;return}n.id=o.id,n.type=o.type,p("update",n),a.value[o.index].loading=!1},n=>{a.value[o.index].loading=!1})):m.send("contextMenu:execute",{action:o.type,id:o.id})}return(o,l)=>(d(),g("div",E,[(d(!0),g($,null,w(a.value,(n,H)=>(d(),h(V,{key:H,action:n,onAction:F=>r(n),loading:n.loading,status:"default"},null,8,["action","onAction","loading"]))),128)),c("div",L,N(o.menu.title),1),o.menu.cancelable?(d(),g("div",{key:0,class:"icon",onClick:e},[u(i(y),null,{default:t(()=>[q]),_:1})])):A("",!0)]))}});const j=C(D,[["__scopeId","data-v-e80c8aaf"]]);export{j as default};
