(function(t){function e(e){for(var s,o,i=e[0],c=e[1],l=e[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],s=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var s={},n={app:0},a=[];function o(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=s,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(r,s,function(e){return t[e]}.bind(null,s));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/assets/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var s=r("85ec"),n=r.n(s);n.a},"075b":function(t,e,r){},"18b7":function(t,e,r){"use strict";var s=r("93bd"),n=r.n(s);n.a},"1bd6":function(t,e,r){},"1d95":function(t,e,r){"use strict";var s=r("1bd6"),n=r.n(s);n.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{"app-closed":!t.isShown,"app-visible":t.isShown},attrs:{id:"app"}},["free"==t.status||"configuring"==t.status||"registration"==t.status?r("Basketball"):t._e(),"playing"==t.status||"thrown"==t.status?r("Score"):t._e()],1)},a=[],o=(r("ac1f"),r("5319"),r("1157")),i=r("2f62");s["a"].use(i["a"]);var c=new i["a"].Store({state:{isShown:!1,gameMode:2,difficulty:0,wager:null,allowWager:!0,translations:{TOTAL:"Total"},status:"free",players:[],throwPoints:[],ownerServerId:null,myServerId:null,horseLetters:[],turnServerId:null},mutations:{showBasketball:function(t){s["a"].set(t,"isShown",!0)},hideBasketball:function(t){s["a"].set(t,"isShown",!1)},setGameMode:function(t,e){s["a"].set(t,"gameMode",e)},setDifficulty:function(t,e){s["a"].set(t,"difficulty",e)},setWager:function(t,e){s["a"].set(t,"wager",e)},update:function(t,e){s["a"].set(t,"gameMode",e.gameMode),s["a"].set(t,"difficulty",e.difficulty),s["a"].set(t,"wager",e.wager),s["a"].set(t,"status",e.status),s["a"].set(t,"players",e.players),s["a"].set(t,"throwPoints",e.throwPoints),s["a"].set(t,"ownerServerId",e.ownerServerId),s["a"].set(t,"myServerId",e.myServerId),s["a"].set(t,"horseLetters",e.horseLetters),s["a"].set(t,"turnServerId",e.turnServerId),s["a"].set(t,"translations",e.translations),s["a"].set(t,"allowWager",e.allowWager)}},actions:{},modules:{}});function l(){o["post"]("https://rcore_basketball/close")}function u(t){o["post"]("https://rcore_basketball/initGame",JSON.stringify({name:t,gameMode:c.state.gameMode,difficulty:c.state.difficulty,wager:c.state.wager}))}function d(){o["post"]("https://rcore_basketball/startGame",JSON.stringify({}))}function f(t){o["post"]("https://rcore_basketball/joinGame",JSON.stringify({name:t}))}function v(t){o["post"]("https://rcore_basketball/removePlayer",JSON.stringify({id:t}))}var h=r("1e5c"),p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"basketball"},[r("div",{staticClass:"basketball-ball"}),r("div",{staticClass:"header"},[r("div",{staticClass:"header-inner"},[t._v(t._s(t.translations["BASKETBALL"]))])]),r("div",{staticClass:"content"},[r("GameSetup"),t.players.length>0?r("PlayerList"):t._e(),r("BottomButton")],1)])},m=[],_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bottom-button"},[t.isRegistered?t._e():r("div",{staticClass:"register"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.registerName,expression:"registerName"}],class:{"register-name":!0,"input-error":t.nameTaken},attrs:{type:"text",placeholder:"Your name"},domProps:{value:t.registerName},on:{input:function(e){e.target.composing||(t.registerName=e.target.value)}}}),r("button",{class:{disabled:!this.canRegister},on:{click:t.register}},[t._v(t._s(t.translations["REGISTER"]))])]),r("div",{staticClass:"interaction-buttons"},[t.myServerId==t.ownerServerId?r("button",{class:{disabled:0==t.players.length},on:{click:t.start}},[t._v(t._s(t.translations["START"]))]):t._e(),r("button",{on:{click:t.close}},[t._v(t._s(t.translations["CLOSE"]))])])])},y=[],g=r("b85c"),w={data:function(){return{registerName:""}},computed:{translations:function(){return this.$store.state.translations},myServerId:function(){return this.$store.state.myServerId},ownerServerId:function(){return this.$store.state.ownerServerId},isRegistered:function(){var t,e=Object(g["a"])(this.$store.state.players);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(r.ServerId==this.$store.state.myServerId)return!0}}catch(s){e.e(s)}finally{e.f()}return!1},players:function(){return this.$store.state.players},nameTaken:function(){var t,e=Object(g["a"])(this.players);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(r.Name.toLowerCase()==this.registerName.toLowerCase())return!0}}catch(s){e.e(s)}finally{e.f()}return!1},canRegister:function(){return!!this.registerName&&(0!=this.registerName.length&&!this.nameTaken)}},methods:{close:function(){l()},register:function(){this.canRegister&&(this.ownerServerId?f(this.registerName):u(this.registerName))},start:function(){this.myServerId==this.ownerServerId&&0!=this.players.length&&d()}}},b=w,S=(r("cc8e"),r("2877")),I=Object(S["a"])(b,_,y,!1,null,"65c28027",null),M=I.exports,$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"content-header"},[r("div",{class:{"col-3":t.allowWager,"col-6":!t.allowWager}},[t._v(t._s(t.translations["GAME_MODE"]))]),r("div",{class:{"col-3":t.allowWager,"col-6":!t.allowWager}},[t._v(t._s(t.translations["DIFFICULTY"]))]),t.allowWager?r("div",{staticClass:"col-3"},[t._v(t._s(t.translations["WAGER"]))]):t._e(),r("div",{staticStyle:{clear:"both"}})]),0==t.players.length?r("div",{staticClass:"content-modes"},[r("div",{staticClass:"content-col"},[r("button",{class:{active:0==t.curGameMode},on:{click:function(e){return t.setGameMode(0)}}},[t._v(t._s(t.translations["horse"]))]),r("br"),r("button",{class:{active:1==t.curGameMode},on:{click:function(e){return t.setGameMode(1)}}},[t._v(t._s(t.translations["atw"]))]),r("br"),r("button",{class:{active:2==t.curGameMode},on:{click:function(e){return t.setGameMode(2)}}},[t._v(t._s(t.translations["free-throw"]))])]),r("div",{staticClass:"content-col"},[r("div",{staticClass:"difficulty-container"},[r("button",{class:{active:0==t.curDifficulty},on:{click:function(e){return t.setDifficulty(0)}}},[t._v(t._s(t.translations["DIF_EASY"]))]),r("br"),r("button",{class:{active:1==t.curDifficulty},on:{click:function(e){return t.setDifficulty(1)}}},[t._v(t._s(t.translations["DIF_MEDIUM"]))]),r("br"),r("button",{class:{active:2==t.curDifficulty},on:{click:function(e){return t.setDifficulty(2)}}},[t._v(t._s(t.translations["DIF_HARD"]))])])]),t.allowWager?r("div",{staticClass:"content-col"},[r("div",{staticClass:"wager-container"},[r("div",{staticClass:"wager-currency"},[t._v("$")]),r("div",{staticClass:"wager-input"},[r("input",{attrs:{disabled:2==t.curGameMode,type:"number",placeholder:"0"},domProps:{value:t.wagerAmount},on:{input:t.wagerAmountChange}})])])]):t._e()]):t._e(),t.players.length>0?r("table",{staticClass:"mode-summary"},[r("tr",[r("td",[0==t.curGameMode?r("button",{class:{active:0==t.curGameMode},on:{click:function(e){return t.setGameMode(0)}}},[t._v(t._s(t.translations["horse"]))]):t._e(),1==t.curGameMode?r("button",{class:{active:1==t.curGameMode},on:{click:function(e){return t.setGameMode(1)}}},[t._v(t._s(t.translations["atw"]))]):t._e(),2==t.curGameMode?r("button",{class:{active:2==t.curGameMode},on:{click:function(e){return t.setGameMode(2)}}},[t._v(t._s(t.translations["free-throw"]))]):t._e()]),r("td",[r("div",{staticClass:"difficulty-container"},[0==t.curDifficulty?r("button",{class:{active:0==t.curDifficulty},on:{click:function(e){return t.setDifficulty(0)}}},[t._v(t._s(t.translations["DIF_EASY"]))]):t._e(),1==t.curDifficulty?r("button",{class:{active:1==t.curDifficulty},on:{click:function(e){return t.setDifficulty(1)}}},[t._v(t._s(t.translations["DIF_MEDIUM"]))]):t._e(),2==t.curDifficulty?r("button",{class:{active:2==t.curDifficulty},on:{click:function(e){return t.setDifficulty(2)}}},[t._v(t._s(t.translations["DIF_HARD"]))]):t._e()])]),t.allowWager&&t.wagerAmount&&t.wagerAmount>0?r("td",{staticClass:"summary-wager"},[t._v(" $"+t._s(t.wagerAmount)+" ")]):t._e(),!t.allowWager||t.wagerAmount&&t.wagerAmount>0?t._e():r("td",{staticClass:"summary-wager"},[t._v(" "+t._s(t.translations["WAGER_NONE"])+" ")])])]):t._e()])},k=[],C={computed:{translations:function(){return this.$store.state.translations},players:function(){return this.$store.state.players},allowWager:function(){return this.$store.state.allowWager},curGameMode:function(){return this.$store.state.gameMode},curDifficulty:function(){return this.$store.state.difficulty},wagerAmount:function(){return this.$store.state.wager}},methods:{setGameMode:function(t){2==t&&this.$store.commit("setWager",null),this.$store.commit("setGameMode",t)},setDifficulty:function(t){this.$store.commit("setDifficulty",t)},wagerAmountChange:function(t){this.$store.commit("setWager",t.target.value)}}},x=C,D=(r("1d95"),Object(S["a"])(x,$,k,!1,null,"ee2600c0",null)),O=D.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"player-list"},[r("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[t._l(t.players,(function(e){return[r("PlayerLine",{key:e.ServerId,attrs:{"server-id":e.ServerId,name:e.Name,"allow-remove":e.ServerId!=t.ownerServerId}}),r("tr",{key:e.ServerId+"_space",staticClass:"spacer"},[r("td")])]}))],2)])},E=[],j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("td",[t._v(t._s(t.name))]),t.myServerId==t.ownerServerId?r("td",{staticClass:"remove-player"},[t.allowRemove?r("div",{staticClass:"remove",on:{click:t.remove}},[r("svg",{attrs:{"enable-background":"new 0 0 32 32",height:"32px",id:"svg2",version:"1.1",viewBox:"0 0 32 32",width:"32px","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:cc":"http://creativecommons.org/ns#","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:svg":"http://www.w3.org/2000/svg"}},[r("g",{attrs:{id:"background"}},[r("rect",{attrs:{fill:"none",height:"32",width:"32"}})]),r("g",{attrs:{id:"user_x5F_close_x5F_remove"}},[r("path",{attrs:{d:"M32,23c-0.002-4.973-4.029-9-9-9c-0.025,0-0.049,0.003-0.074,0.004C23.608,12.826,24,11.459,24,10c0-4.418-3.582-8-8-8   c-4.418,0-8,3.582-8,8c0,4.26,3.332,7.732,7.531,7.977c-0.419,0.622-0.753,1.304-1.008,2.023H4c-4,0-4,4-4,4v8h32v-8   C32,24,32,23.207,32,23z M29.883,23c-0.009,3.799-3.084,6.874-6.883,6.883c-3.801-0.009-6.876-3.084-6.885-6.883   c0.009-3.801,3.084-6.876,6.885-6.884C26.799,16.124,29.874,19.199,29.883,23z"}}),r("g",[r("rect",{attrs:{height:"2",width:"10",x:"18",y:"22"}})])])])]):t._e()]):t._e()])},P=[],A={props:["name","allowRemove","serverId"],computed:{translations:function(){return this.$store.state.translations},myServerId:function(){return this.$store.state.myServerId},ownerServerId:function(){return this.$store.state.ownerServerId}},methods:{remove:function(){v(this.serverId)}}},L=A,N=Object(S["a"])(L,j,P,!1,null,null,null),T=N.exports,W={components:{PlayerLine:T},computed:{translations:function(){return this.$store.state.translations},players:function(){return this.$store.state.players},myServerId:function(){return this.$store.state.myServerId},ownerServerId:function(){return this.$store.state.ownerServerId}}},R=W,B=(r("18b7"),Object(S["a"])(R,G,E,!1,null,null,null)),F=B.exports,z={computed:{players:function(){return this.$store.state.players},translations:function(){return this.$store.state.translations}},components:{GameSetup:O,BottomButton:M,PlayerList:F}},H=z,J=(r("992e"),Object(S["a"])(H,p,m,!1,null,null,null)),Y=J.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"score"},[r("div",{staticClass:"vertical-center"},[r("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[r("tr",[r("td",{staticClass:"score-header",attrs:{colspan:"3"}},[0==t.curGameMode?[t._v(t._s(t.translations["horse"]))]:t._e(),1==t.curGameMode?[t._v(t._s(t.translations["atw"]))]:t._e(),2==t.curGameMode?[t._v(t._s(t.translations["free-throw"]))]:t._e()],2)]),t._m(0),t._l(t.players,(function(e){return[r("score-line",{key:e.ServerId+"_space",attrs:{name:e.Name,throws:e.Throws,"is-turn":t.curTurnServerId==e.ServerId}}),r("tr",{key:e.ServerId+"_pspace",staticClass:"spacer"},[r("td",{attrs:{colspan:"3"}})])]}))],2)])])},K=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",{staticClass:"spacer"},[r("td",{attrs:{colspan:"3"}})])}],q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t.isTurn?s("img",{attrs:{src:r("c8ef")}}):t._e()]),s("td",[t._v(t._s(t.name))]),s("td",[t._v(t._s(t.displayScore))])])},Q=[],V=(r("a15b"),{props:["name","isTurn","score","throws"],computed:{translations:function(){return this.$store.state.translations},gameMode:function(){return this.$store.state.gameMode},horseLetters:function(){return this.$store.state.horseLetters},displayScore:function(){if(0===this.gameMode){var t,e=0,r=Object(g["a"])(this.throws);try{for(r.s();!(t=r.n()).done;){var s=t.value;-1==s&&(e+=1)}}catch(_){r.e(_)}finally{r.f()}for(var n=[],a=1;a<=e;a++)n.push(this.$store.state.horseLetters[a-1]);return n.join("-")}if(1===this.gameMode){var o,i=0,c=Object(g["a"])(this.throws);try{for(c.s();!(o=c.n()).done;){var l,u=o.value,d=Object(g["a"])(u);try{for(d.s();!(l=d.n()).done;){var f=l.value;i+=f}}catch(_){d.e(_)}finally{d.f()}}}catch(_){c.e(_)}finally{c.f()}return i+" / "+this.$store.state.throwPoints.length}if(2===this.gameMode){var v,h=0,p=Object(g["a"])(this.throws);try{for(p.s();!(v=p.n()).done;){var m=v.value;h+=m}}catch(_){p.e(_)}finally{p.f()}return h}return""}}}),X=V,Z=Object(S["a"])(X,q,Q,!1,null,null,null),tt=Z.exports,et={components:{ScoreLine:tt},computed:{translations:function(){return this.$store.state.translations},players:function(){return this.$store.state.players},curGameMode:function(){return this.$store.state.gameMode},curTurnServerId:function(){return this.$store.state.turnServerId}}},rt=et,st=(r("5b06"),Object(S["a"])(rt,U,K,!1,null,null,null)),nt=st.exports;function at(t){return t[Math.floor(Math.random()*Math.floor(t.length))]}String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,(function(e,r){return"undefined"!=typeof t[r]?t[r]:e}))};var ot={name:"App",components:{Basketball:Y,Score:nt},computed:{isShown:function(){return this.$store.state.isShown},status:function(){return this.$store.state.status}},data:function(){return{audioPlayer:null,rollSounds:{}}},mounted:function(){window.addEventListener("message",this.onEvent),o(window).on("keyup",(function(t){113!=t.which&&27!=t.which||(t.preventDefault(),l())})),this.audioPlayer=new h["Howl"]({src:["/assets/basketball.ogg"],sprite:{hoop_net_1:[0,433],hoop_net_2:[690,500],hoop_net_3:[1441,480],hoop_net_4:[1977,470],hoop_net_5:[2588,550],backboard:[3224,680],bounce_1:[4006,350],bounce_2:[4860,350],bounce_3:[5603,350],bounce_4:[6419,350],bounce_5:[7231,350]}})},beforeDestroy:function(){window.removeEventListener("message",this.onEvent)},methods:{onEvent:function(t){if("showui"==t.data.type)this.show();else if("hideui"==t.data.type)this.hide();else if("update"==t.data.type)this.$store.commit("update",t.data);else if("playSound"==t.data.type){var e=this.audioPlayer.play(at(t.data.sounds));this.audioPlayer.pos(t.data.position.x,t.data.position.y,t.data.position.z,e),this.audioPlayer.volume(t.data.volume,e)}else"setOrientation"==t.data.type&&(h["Howler"].orientation(t.data.fwd.x,t.data.fwd.y,t.data.fwd.z,t.data.up.x,t.data.up.y,t.data.up.z),h["Howler"].pos(t.data.coord.x,t.data.coord.y,t.data.coord.z))},show:function(){this.$store.commit("showBasketball")},hide:function(){this.$store.commit("hideBasketball")}}},it=ot,ct=(r("034f"),Object(S["a"])(it,n,a,!1,null,null,null)),lt=ct.exports;s["a"].config.productionTip=!1,new s["a"]({store:c,render:function(t){return t(lt)}}).$mount("#app")},"5b06":function(t,e,r){"use strict";var s=r("ad80"),n=r.n(s);n.a},"85ec":function(t,e,r){},"93bd":function(t,e,r){},"992e":function(t,e,r){"use strict";var s=r("fe07"),n=r.n(s);n.a},ad80:function(t,e,r){},c8ef:function(t,e,r){t.exports=r.p+"assets/img/basketball.png"},cc8e:function(t,e,r){"use strict";var s=r("075b"),n=r.n(s);n.a},fe07:function(t,e,r){}});