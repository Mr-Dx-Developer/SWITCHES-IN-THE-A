var n3=Object.defineProperty;var r3=(e,t,n)=>t in e?n3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ES=(e,t,n)=>(r3(e,typeof t!="symbol"?t+"":t,n),n);function i3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var o3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ud(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var yT={exports:{}},vv={},_T={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=Symbol.for("react.element"),a3=Symbol.for("react.portal"),s3=Symbol.for("react.fragment"),l3=Symbol.for("react.strict_mode"),u3=Symbol.for("react.profiler"),c3=Symbol.for("react.provider"),f3=Symbol.for("react.context"),d3=Symbol.for("react.forward_ref"),h3=Symbol.for("react.suspense"),p3=Symbol.for("react.memo"),m3=Symbol.for("react.lazy"),MS=Symbol.iterator;function v3(e){return e===null||typeof e!="object"?null:(e=MS&&e[MS]||e["@@iterator"],typeof e=="function"?e:null)}var xT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wT=Object.assign,bT={};function Xu(e,t,n){this.props=e,this.context=t,this.refs=bT,this.updater=n||xT}Xu.prototype.isReactComponent={};Xu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ST(){}ST.prototype=Xu.prototype;function n1(e,t,n){this.props=e,this.context=t,this.refs=bT,this.updater=n||xT}var r1=n1.prototype=new ST;r1.constructor=n1;wT(r1,Xu.prototype);r1.isPureReactComponent=!0;var AS=Array.isArray,ET=Object.prototype.hasOwnProperty,i1={current:null},MT={key:!0,ref:!0,__self:!0,__source:!0};function AT(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)ET.call(t,r)&&!MT.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:jd,type:e,key:o,ref:a,props:i,_owner:i1.current}}function g3(e,t){return{$$typeof:jd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function o1(e){return typeof e=="object"&&e!==null&&e.$$typeof===jd}function y3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var TS=/\/+/g;function Sy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y3(""+e.key):t.toString(36)}function ap(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case jd:case a3:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Sy(a,0):r,AS(i)?(n="",e!=null&&(n=e.replace(TS,"$&/")+"/"),ap(i,t,n,"",function(c){return c})):i!=null&&(o1(i)&&(i=g3(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(TS,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",AS(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+Sy(o,l);a+=ap(o,t,n,u,i)}else if(u=v3(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+Sy(o,l++),a+=ap(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Th(e,t,n){if(e==null)return e;var r=[],i=0;return ap(e,r,"","",function(o){return t.call(n,o,i++)}),r}function _3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},sp={transition:null},x3={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:sp,ReactCurrentOwner:i1};ft.Children={map:Th,forEach:function(e,t,n){Th(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Th(e,function(){t++}),t},toArray:function(e){return Th(e,function(t){return t})||[]},only:function(e){if(!o1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=Xu;ft.Fragment=s3;ft.Profiler=u3;ft.PureComponent=n1;ft.StrictMode=l3;ft.Suspense=h3;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x3;ft.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wT({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=i1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)ET.call(t,u)&&!MT.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:jd,type:e.type,key:i,ref:o,props:r,_owner:a}};ft.createContext=function(e){return e={$$typeof:f3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c3,_context:e},e.Consumer=e};ft.createElement=AT;ft.createFactory=function(e){var t=AT.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:d3,render:e}};ft.isValidElement=o1;ft.lazy=function(e){return{$$typeof:m3,_payload:{_status:-1,_result:e},_init:_3}};ft.memo=function(e,t){return{$$typeof:p3,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=sp.transition;sp.transition={};try{e()}finally{sp.transition=t}};ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ft.useCallback=function(e,t){return wr.current.useCallback(e,t)};ft.useContext=function(e){return wr.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};ft.useEffect=function(e,t){return wr.current.useEffect(e,t)};ft.useId=function(){return wr.current.useId()};ft.useImperativeHandle=function(e,t,n){return wr.current.useImperativeHandle(e,t,n)};ft.useInsertionEffect=function(e,t){return wr.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return wr.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return wr.current.useMemo(e,t)};ft.useReducer=function(e,t,n){return wr.current.useReducer(e,t,n)};ft.useRef=function(e){return wr.current.useRef(e)};ft.useState=function(e){return wr.current.useState(e)};ft.useSyncExternalStore=function(e,t,n){return wr.current.useSyncExternalStore(e,t,n)};ft.useTransition=function(){return wr.current.useTransition()};ft.version="18.2.0";_T.exports=ft;var O=_T.exports;const Ge=Ud(O),z0=i3({__proto__:null,default:Ge},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w3=O,b3=Symbol.for("react.element"),S3=Symbol.for("react.fragment"),E3=Object.prototype.hasOwnProperty,M3=w3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A3={key:!0,ref:!0,__self:!0,__source:!0};function TT(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)E3.call(t,r)&&!A3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:b3,type:e,key:o,ref:a,props:i,_owner:M3.current}}vv.Fragment=S3;vv.jsx=TT;vv.jsxs=TT;yT.exports=vv;var w=yT.exports,PT={exports:{}},ii={},CT={exports:{}},LT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,I){var k=V.length;V.push(I);e:for(;0<k;){var q=k-1>>>1,H=V[q];if(0<i(H,I))V[q]=I,V[k]=H,k=q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var I=V[0],k=V.pop();if(k!==I){V[0]=k;e:for(var q=0,H=V.length,ue=H>>>1;q<ue;){var Q=2*(q+1)-1,ne=V[Q],re=Q+1,ve=V[re];if(0>i(ne,k))re<H&&0>i(ve,ne)?(V[q]=ve,V[re]=k,q=re):(V[q]=ne,V[Q]=k,q=Q);else if(re<H&&0>i(ve,k))V[q]=ve,V[re]=k,q=re;else break e}}return I}function i(V,I){var k=V.sortIndex-I.sortIndex;return k!==0?k:V.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,p=3,v=!1,g=!1,y=!1,M=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=V)r(c),I.sortIndex=I.expirationTime,t(u,I);else break;I=n(c)}}function E(V){if(y=!1,b(V),!g)if(n(u)!==null)g=!0,X(A);else{var I=n(c);I!==null&&J(E,I.startTime-V)}}function A(V,I){g=!1,y&&(y=!1,_(R),R=-1),v=!0;var k=p;try{for(b(I),h=n(u);h!==null&&(!(h.expirationTime>I)||V&&!z());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var H=q(h.expirationTime<=I);I=e.unstable_now(),typeof H=="function"?h.callback=H:h===n(u)&&r(u),b(I)}else r(u);h=n(u)}if(h!==null)var ue=!0;else{var Q=n(c);Q!==null&&J(E,Q.startTime-I),ue=!1}return ue}finally{h=null,p=k,v=!1}}var C=!1,P=null,R=-1,N=5,F=-1;function z(){return!(e.unstable_now()-F<N)}function G(){if(P!==null){var V=e.unstable_now();F=V;var I=!0;try{I=P(!0,V)}finally{I?K():(C=!1,P=null)}}else C=!1}var K;if(typeof x=="function")K=function(){x(G)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=G,K=function(){$.postMessage(null)}}else K=function(){M(G,0)};function X(V){P=V,C||(C=!0,K())}function J(V,I){R=M(function(){V(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,X(A))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var k=p;p=I;try{return V()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,I){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var k=p;p=V;try{return I()}finally{p=k}},e.unstable_scheduleCallback=function(V,I,k){var q=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?q+k:q):k=q,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=k+H,V={id:d++,callback:I,priorityLevel:V,startTime:k,expirationTime:H,sortIndex:-1},k>q?(V.sortIndex=k,t(c,V),n(u)===null&&V===n(c)&&(y?(_(R),R=-1):y=!0,J(E,k-q))):(V.sortIndex=H,t(u,V),g||v||(g=!0,X(A))),V},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(V){var I=p;return function(){var k=p;p=I;try{return V.apply(this,arguments)}finally{p=k}}}})(LT);CT.exports=LT;var T3=CT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT=O,Qr=T3;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OT=new Set,wf={};function Qs(e,t){pu(e,t),pu(e+"Capture",t)}function pu(e,t){for(wf[e]=t,e=0;e<t.length;e++)OT.add(t[e])}var Jo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U0=Object.prototype.hasOwnProperty,P3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PS={},CS={};function C3(e){return U0.call(CS,e)?!0:U0.call(PS,e)?!1:P3.test(e)?CS[e]=!0:(PS[e]=!0,!1)}function L3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R3(e,t,n,r){if(t===null||typeof t>"u"||L3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function br(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yn[e]=new br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yn[t]=new br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yn[e]=new br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yn[e]=new br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yn[e]=new br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yn[e]=new br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yn[e]=new br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yn[e]=new br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yn[e]=new br(e,5,!1,e.toLowerCase(),null,!1,!1)});var a1=/[\-:]([a-z])/g;function s1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(a1,s1);Yn[t]=new br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(a1,s1);Yn[t]=new br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(a1,s1);Yn[t]=new br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yn[e]=new br(e,1,!1,e.toLowerCase(),null,!1,!1)});Yn.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yn[e]=new br(e,1,!1,e.toLowerCase(),null,!0,!0)});function l1(e,t,n,r){var i=Yn.hasOwnProperty(t)?Yn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R3(t,n,i,r)&&(n=null),r||i===null?C3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ua=RT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ph=Symbol.for("react.element"),Dl=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),u1=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),NT=Symbol.for("react.provider"),kT=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),H0=Symbol.for("react.suspense"),G0=Symbol.for("react.suspense_list"),f1=Symbol.for("react.memo"),ba=Symbol.for("react.lazy"),IT=Symbol.for("react.offscreen"),LS=Symbol.iterator;function bc(e){return e===null||typeof e!="object"?null:(e=LS&&e[LS]||e["@@iterator"],typeof e=="function"?e:null)}var cn=Object.assign,Ey;function Hc(e){if(Ey===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ey=t&&t[1]||""}return`
`+Ey+e}var My=!1;function Ay(e,t){if(!e||My)return"";My=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{My=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hc(e):""}function O3(e){switch(e.tag){case 5:return Hc(e.type);case 16:return Hc("Lazy");case 13:return Hc("Suspense");case 19:return Hc("SuspenseList");case 0:case 2:case 15:return e=Ay(e.type,!1),e;case 11:return e=Ay(e.type.render,!1),e;case 1:return e=Ay(e.type,!0),e;default:return""}}function V0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fl:return"Fragment";case Dl:return"Portal";case j0:return"Profiler";case u1:return"StrictMode";case H0:return"Suspense";case G0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kT:return(e.displayName||"Context")+".Consumer";case NT:return(e._context.displayName||"Context")+".Provider";case c1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case f1:return t=e.displayName||null,t!==null?t:V0(e.type)||"Memo";case ba:t=e._payload,e=e._init;try{return V0(e(t))}catch{}}return null}function N3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V0(t);case 8:return t===u1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function DT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k3(e){var t=DT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ch(e){e._valueTracker||(e._valueTracker=k3(e))}function FT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=DT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Op(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function W0(e,t){var n=t.checked;return cn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function RS(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function BT(e,t){t=t.checked,t!=null&&l1(e,"checked",t,!1)}function $0(e,t){BT(e,t);var n=qa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Y0(e,t.type,n):t.hasOwnProperty("defaultValue")&&Y0(e,t.type,qa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function OS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Y0(e,t,n){(t!=="number"||Op(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gc=Array.isArray;function Jl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Z0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return cn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function NS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(pe(92));if(Gc(n)){if(1<n.length)throw Error(pe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qa(n)}}function zT(e,t){var n=qa(t.value),r=qa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function UT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function X0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?UT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lh,jT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lh=Lh||document.createElement("div"),Lh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I3=["Webkit","ms","Moz","O"];Object.keys(Kc).forEach(function(e){I3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kc[t]=Kc[e]})});function HT(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kc.hasOwnProperty(e)&&Kc[e]?(""+t).trim():t+"px"}function GT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HT(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var D3=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function q0(e,t){if(t){if(D3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function K0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J0=null;function d1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Q0=null,Ql=null,eu=null;function IS(e){if(e=Vd(e)){if(typeof Q0!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=wv(t),Q0(e.stateNode,e.type,t))}}function VT(e){Ql?eu?eu.push(e):eu=[e]:Ql=e}function WT(){if(Ql){var e=Ql,t=eu;if(eu=Ql=null,IS(e),t)for(e=0;e<t.length;e++)IS(t[e])}}function $T(e,t){return e(t)}function YT(){}var Ty=!1;function ZT(e,t,n){if(Ty)return e(t,n);Ty=!0;try{return $T(e,t,n)}finally{Ty=!1,(Ql!==null||eu!==null)&&(YT(),WT())}}function Sf(e,t){var n=e.stateNode;if(n===null)return null;var r=wv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(pe(231,t,typeof n));return n}var e_=!1;if(Jo)try{var Sc={};Object.defineProperty(Sc,"passive",{get:function(){e_=!0}}),window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{e_=!1}function F3(e,t,n,r,i,o,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Jc=!1,Np=null,kp=!1,t_=null,B3={onError:function(e){Jc=!0,Np=e}};function z3(e,t,n,r,i,o,a,l,u){Jc=!1,Np=null,F3.apply(B3,arguments)}function U3(e,t,n,r,i,o,a,l,u){if(z3.apply(this,arguments),Jc){if(Jc){var c=Np;Jc=!1,Np=null}else throw Error(pe(198));kp||(kp=!0,t_=c)}}function el(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function XT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function DS(e){if(el(e)!==e)throw Error(pe(188))}function j3(e){var t=e.alternate;if(!t){if(t=el(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return DS(i),e;if(o===r)return DS(i),t;o=o.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?e:t}function qT(e){return e=j3(e),e!==null?KT(e):null}function KT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KT(e);if(t!==null)return t;e=e.sibling}return null}var JT=Qr.unstable_scheduleCallback,FS=Qr.unstable_cancelCallback,H3=Qr.unstable_shouldYield,G3=Qr.unstable_requestPaint,bn=Qr.unstable_now,V3=Qr.unstable_getCurrentPriorityLevel,h1=Qr.unstable_ImmediatePriority,QT=Qr.unstable_UserBlockingPriority,Ip=Qr.unstable_NormalPriority,W3=Qr.unstable_LowPriority,e2=Qr.unstable_IdlePriority,gv=null,vo=null;function $3(e){if(vo&&typeof vo.onCommitFiberRoot=="function")try{vo.onCommitFiberRoot(gv,e,void 0,(e.current.flags&128)===128)}catch{}}var $i=Math.clz32?Math.clz32:X3,Y3=Math.log,Z3=Math.LN2;function X3(e){return e>>>=0,e===0?32:31-(Y3(e)/Z3|0)|0}var Rh=64,Oh=4194304;function Vc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Vc(l):(o&=a,o!==0&&(r=Vc(o)))}else a=n&~i,a!==0?r=Vc(a):o!==0&&(r=Vc(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$i(t),i=1<<n,r|=e[n],t&=~i;return r}function q3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-$i(o),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=q3(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function n_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function t2(){var e=Rh;return Rh<<=1,!(Rh&4194240)&&(Rh=64),e}function Py(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$i(t),e[t]=n}function J3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$i(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function p1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$i(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Dt=0;function n2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var r2,m1,i2,o2,a2,r_=!1,Nh=[],Fa=null,Ba=null,za=null,Ef=new Map,Mf=new Map,Ma=[],Q3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BS(e,t){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Ef.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mf.delete(t.pointerId)}}function Ec(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Vd(t),t!==null&&m1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ek(e,t,n,r,i){switch(t){case"focusin":return Fa=Ec(Fa,e,t,n,r,i),!0;case"dragenter":return Ba=Ec(Ba,e,t,n,r,i),!0;case"mouseover":return za=Ec(za,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ef.set(o,Ec(Ef.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mf.set(o,Ec(Mf.get(o)||null,e,t,n,r,i)),!0}return!1}function s2(e){var t=Ss(e.target);if(t!==null){var n=el(t);if(n!==null){if(t=n.tag,t===13){if(t=XT(n),t!==null){e.blockedOn=t,a2(e.priority,function(){i2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=i_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);J0=r,n.target.dispatchEvent(r),J0=null}else return t=Vd(n),t!==null&&m1(t),e.blockedOn=n,!1;t.shift()}return!0}function zS(e,t,n){lp(e)&&n.delete(t)}function tk(){r_=!1,Fa!==null&&lp(Fa)&&(Fa=null),Ba!==null&&lp(Ba)&&(Ba=null),za!==null&&lp(za)&&(za=null),Ef.forEach(zS),Mf.forEach(zS)}function Mc(e,t){e.blockedOn===t&&(e.blockedOn=null,r_||(r_=!0,Qr.unstable_scheduleCallback(Qr.unstable_NormalPriority,tk)))}function Af(e){function t(i){return Mc(i,e)}if(0<Nh.length){Mc(Nh[0],e);for(var n=1;n<Nh.length;n++){var r=Nh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fa!==null&&Mc(Fa,e),Ba!==null&&Mc(Ba,e),za!==null&&Mc(za,e),Ef.forEach(t),Mf.forEach(t),n=0;n<Ma.length;n++)r=Ma[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ma.length&&(n=Ma[0],n.blockedOn===null);)s2(n),n.blockedOn===null&&Ma.shift()}var tu=ua.ReactCurrentBatchConfig,Fp=!0;function nk(e,t,n,r){var i=Dt,o=tu.transition;tu.transition=null;try{Dt=1,v1(e,t,n,r)}finally{Dt=i,tu.transition=o}}function rk(e,t,n,r){var i=Dt,o=tu.transition;tu.transition=null;try{Dt=4,v1(e,t,n,r)}finally{Dt=i,tu.transition=o}}function v1(e,t,n,r){if(Fp){var i=i_(e,t,n,r);if(i===null)By(e,t,r,Bp,n),BS(e,r);else if(ek(i,e,t,n,r))r.stopPropagation();else if(BS(e,r),t&4&&-1<Q3.indexOf(e)){for(;i!==null;){var o=Vd(i);if(o!==null&&r2(o),o=i_(e,t,n,r),o===null&&By(e,t,r,Bp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else By(e,t,r,null,n)}}var Bp=null;function i_(e,t,n,r){if(Bp=null,e=d1(r),e=Ss(e),e!==null)if(t=el(e),t===null)e=null;else if(n=t.tag,n===13){if(e=XT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bp=e,null}function l2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V3()){case h1:return 1;case QT:return 4;case Ip:case W3:return 16;case e2:return 536870912;default:return 16}default:return 16}}var Pa=null,g1=null,up=null;function u2(){if(up)return up;var e,t=g1,n=t.length,r,i="value"in Pa?Pa.value:Pa.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return up=i.slice(e,1<r?1-r:void 0)}function cp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kh(){return!0}function US(){return!1}function oi(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?kh:US,this.isPropagationStopped=US,this}return cn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),t}var qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y1=oi(qu),Gd=cn({},qu,{view:0,detail:0}),ik=oi(Gd),Cy,Ly,Ac,yv=cn({},Gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ac&&(Ac&&e.type==="mousemove"?(Cy=e.screenX-Ac.screenX,Ly=e.screenY-Ac.screenY):Ly=Cy=0,Ac=e),Cy)},movementY:function(e){return"movementY"in e?e.movementY:Ly}}),jS=oi(yv),ok=cn({},yv,{dataTransfer:0}),ak=oi(ok),sk=cn({},Gd,{relatedTarget:0}),Ry=oi(sk),lk=cn({},qu,{animationName:0,elapsedTime:0,pseudoElement:0}),uk=oi(lk),ck=cn({},qu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fk=oi(ck),dk=cn({},qu,{data:0}),HS=oi(dk),hk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mk[e])?!!t[e]:!1}function _1(){return vk}var gk=cn({},Gd,{key:function(e){if(e.key){var t=hk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_1,charCode:function(e){return e.type==="keypress"?cp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yk=oi(gk),_k=cn({},yv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GS=oi(_k),xk=cn({},Gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_1}),wk=oi(xk),bk=cn({},qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sk=oi(bk),Ek=cn({},yv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mk=oi(Ek),Ak=[9,13,27,32],x1=Jo&&"CompositionEvent"in window,Qc=null;Jo&&"documentMode"in document&&(Qc=document.documentMode);var Tk=Jo&&"TextEvent"in window&&!Qc,c2=Jo&&(!x1||Qc&&8<Qc&&11>=Qc),VS=String.fromCharCode(32),WS=!1;function f2(e,t){switch(e){case"keyup":return Ak.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bl=!1;function Pk(e,t){switch(e){case"compositionend":return d2(t);case"keypress":return t.which!==32?null:(WS=!0,VS);case"textInput":return e=t.data,e===VS&&WS?null:e;default:return null}}function Ck(e,t){if(Bl)return e==="compositionend"||!x1&&f2(e,t)?(e=u2(),up=g1=Pa=null,Bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c2&&t.locale!=="ko"?null:t.data;default:return null}}var Lk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $S(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lk[e.type]:t==="textarea"}function h2(e,t,n,r){VT(r),t=zp(t,"onChange"),0<t.length&&(n=new y1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ef=null,Tf=null;function Rk(e){E2(e,0)}function _v(e){var t=jl(e);if(FT(t))return e}function Ok(e,t){if(e==="change")return t}var p2=!1;if(Jo){var Oy;if(Jo){var Ny="oninput"in document;if(!Ny){var YS=document.createElement("div");YS.setAttribute("oninput","return;"),Ny=typeof YS.oninput=="function"}Oy=Ny}else Oy=!1;p2=Oy&&(!document.documentMode||9<document.documentMode)}function ZS(){ef&&(ef.detachEvent("onpropertychange",m2),Tf=ef=null)}function m2(e){if(e.propertyName==="value"&&_v(Tf)){var t=[];h2(t,Tf,e,d1(e)),ZT(Rk,t)}}function Nk(e,t,n){e==="focusin"?(ZS(),ef=t,Tf=n,ef.attachEvent("onpropertychange",m2)):e==="focusout"&&ZS()}function kk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _v(Tf)}function Ik(e,t){if(e==="click")return _v(t)}function Dk(e,t){if(e==="input"||e==="change")return _v(t)}function Fk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xi=typeof Object.is=="function"?Object.is:Fk;function Pf(e,t){if(Xi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!U0.call(t,i)||!Xi(e[i],t[i]))return!1}return!0}function XS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qS(e,t){var n=XS(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XS(n)}}function v2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?v2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g2(){for(var e=window,t=Op();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Op(e.document)}return t}function w1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bk(e){var t=g2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&v2(n.ownerDocument.documentElement,n)){if(r!==null&&w1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=qS(n,o);var a=qS(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zk=Jo&&"documentMode"in document&&11>=document.documentMode,zl=null,o_=null,tf=null,a_=!1;function KS(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a_||zl==null||zl!==Op(r)||(r=zl,"selectionStart"in r&&w1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tf&&Pf(tf,r)||(tf=r,r=zp(o_,"onSelect"),0<r.length&&(t=new y1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zl)))}function Ih(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ul={animationend:Ih("Animation","AnimationEnd"),animationiteration:Ih("Animation","AnimationIteration"),animationstart:Ih("Animation","AnimationStart"),transitionend:Ih("Transition","TransitionEnd")},ky={},y2={};Jo&&(y2=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function xv(e){if(ky[e])return ky[e];if(!Ul[e])return e;var t=Ul[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in y2)return ky[e]=t[n];return e}var _2=xv("animationend"),x2=xv("animationiteration"),w2=xv("animationstart"),b2=xv("transitionend"),S2=new Map,JS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(e,t){S2.set(e,t),Qs(t,[e])}for(var Iy=0;Iy<JS.length;Iy++){var Dy=JS[Iy],Uk=Dy.toLowerCase(),jk=Dy[0].toUpperCase()+Dy.slice(1);os(Uk,"on"+jk)}os(_2,"onAnimationEnd");os(x2,"onAnimationIteration");os(w2,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(b2,"onTransitionEnd");pu("onMouseEnter",["mouseout","mouseover"]);pu("onMouseLeave",["mouseout","mouseover"]);pu("onPointerEnter",["pointerout","pointerover"]);pu("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wc));function QS(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,U3(r,t,void 0,e),e.currentTarget=null}function E2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;QS(i,l,c),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;QS(i,l,c),o=u}}}if(kp)throw e=t_,kp=!1,t_=null,e}function Xt(e,t){var n=t[f_];n===void 0&&(n=t[f_]=new Set);var r=e+"__bubble";n.has(r)||(M2(t,e,2,!1),n.add(r))}function Fy(e,t,n){var r=0;t&&(r|=4),M2(n,e,r,t)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function Cf(e){if(!e[Dh]){e[Dh]=!0,OT.forEach(function(n){n!=="selectionchange"&&(Hk.has(n)||Fy(n,!1,e),Fy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dh]||(t[Dh]=!0,Fy("selectionchange",!1,t))}}function M2(e,t,n,r){switch(l2(t)){case 1:var i=nk;break;case 4:i=rk;break;default:i=v1}n=i.bind(null,t,n,e),i=void 0,!e_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function By(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ss(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}ZT(function(){var c=o,d=d1(n),h=[];e:{var p=S2.get(e);if(p!==void 0){var v=y1,g=e;switch(e){case"keypress":if(cp(n)===0)break e;case"keydown":case"keyup":v=yk;break;case"focusin":g="focus",v=Ry;break;case"focusout":g="blur",v=Ry;break;case"beforeblur":case"afterblur":v=Ry;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=jS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=wk;break;case _2:case x2:case w2:v=uk;break;case b2:v=Sk;break;case"scroll":v=ik;break;case"wheel":v=Mk;break;case"copy":case"cut":case"paste":v=fk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=GS}var y=(t&4)!==0,M=!y&&e==="scroll",_=y?p!==null?p+"Capture":null:p;y=[];for(var x=c,b;x!==null;){b=x;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,_!==null&&(E=Sf(x,_),E!=null&&y.push(Lf(x,E,b)))),M)break;x=x.return}0<y.length&&(p=new v(p,g,null,n,d),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==J0&&(g=n.relatedTarget||n.fromElement)&&(Ss(g)||g[Qo]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=c,g=g?Ss(g):null,g!==null&&(M=el(g),g!==M||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=c),v!==g)){if(y=jS,E="onMouseLeave",_="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=GS,E="onPointerLeave",_="onPointerEnter",x="pointer"),M=v==null?p:jl(v),b=g==null?p:jl(g),p=new y(E,x+"leave",v,n,d),p.target=M,p.relatedTarget=b,E=null,Ss(d)===c&&(y=new y(_,x+"enter",g,n,d),y.target=b,y.relatedTarget=M,E=y),M=E,v&&g)t:{for(y=v,_=g,x=0,b=y;b;b=yl(b))x++;for(b=0,E=_;E;E=yl(E))b++;for(;0<x-b;)y=yl(y),x--;for(;0<b-x;)_=yl(_),b--;for(;x--;){if(y===_||_!==null&&y===_.alternate)break t;y=yl(y),_=yl(_)}y=null}else y=null;v!==null&&eE(h,p,v,y,!1),g!==null&&M!==null&&eE(h,M,g,y,!0)}}e:{if(p=c?jl(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var A=Ok;else if($S(p))if(p2)A=Dk;else{A=kk;var C=Nk}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=Ik);if(A&&(A=A(e,c))){h2(h,A,n,d);break e}C&&C(e,p,c),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Y0(p,"number",p.value)}switch(C=c?jl(c):window,e){case"focusin":($S(C)||C.contentEditable==="true")&&(zl=C,o_=c,tf=null);break;case"focusout":tf=o_=zl=null;break;case"mousedown":a_=!0;break;case"contextmenu":case"mouseup":case"dragend":a_=!1,KS(h,n,d);break;case"selectionchange":if(zk)break;case"keydown":case"keyup":KS(h,n,d)}var P;if(x1)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Bl?f2(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(c2&&n.locale!=="ko"&&(Bl||R!=="onCompositionStart"?R==="onCompositionEnd"&&Bl&&(P=u2()):(Pa=d,g1="value"in Pa?Pa.value:Pa.textContent,Bl=!0)),C=zp(c,R),0<C.length&&(R=new HS(R,e,null,n,d),h.push({event:R,listeners:C}),P?R.data=P:(P=d2(n),P!==null&&(R.data=P)))),(P=Tk?Pk(e,n):Ck(e,n))&&(c=zp(c,"onBeforeInput"),0<c.length&&(d=new HS("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=P))}E2(h,t)})}function Lf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Sf(e,n),o!=null&&r.unshift(Lf(e,o,i)),o=Sf(e,t),o!=null&&r.push(Lf(e,o,i))),e=e.return}return r}function yl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eE(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Sf(n,o),u!=null&&a.unshift(Lf(n,u,l))):i||(u=Sf(n,o),u!=null&&a.push(Lf(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Gk=/\r\n?/g,Vk=/\u0000|\uFFFD/g;function tE(e){return(typeof e=="string"?e:""+e).replace(Gk,`
`).replace(Vk,"")}function Fh(e,t,n){if(t=tE(t),tE(e)!==t&&n)throw Error(pe(425))}function Up(){}var s_=null,l_=null;function u_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var c_=typeof setTimeout=="function"?setTimeout:void 0,Wk=typeof clearTimeout=="function"?clearTimeout:void 0,nE=typeof Promise=="function"?Promise:void 0,$k=typeof queueMicrotask=="function"?queueMicrotask:typeof nE<"u"?function(e){return nE.resolve(null).then(e).catch(Yk)}:c_;function Yk(e){setTimeout(function(){throw e})}function zy(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Af(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Af(t)}function Ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ku=Math.random().toString(36).slice(2),uo="__reactFiber$"+Ku,Rf="__reactProps$"+Ku,Qo="__reactContainer$"+Ku,f_="__reactEvents$"+Ku,Zk="__reactListeners$"+Ku,Xk="__reactHandles$"+Ku;function Ss(e){var t=e[uo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qo]||n[uo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rE(e);e!==null;){if(n=e[uo])return n;e=rE(e)}return t}e=n,n=e.parentNode}return null}function Vd(e){return e=e[uo]||e[Qo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function wv(e){return e[Rf]||null}var d_=[],Hl=-1;function as(e){return{current:e}}function qt(e){0>Hl||(e.current=d_[Hl],d_[Hl]=null,Hl--)}function Yt(e,t){Hl++,d_[Hl]=e.current,e.current=t}var Ka={},or=as(Ka),Dr=as(!1),Bs=Ka;function mu(e,t){var n=e.type.contextTypes;if(!n)return Ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fr(e){return e=e.childContextTypes,e!=null}function jp(){qt(Dr),qt(or)}function iE(e,t,n){if(or.current!==Ka)throw Error(pe(168));Yt(or,t),Yt(Dr,n)}function A2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(pe(108,N3(e)||"Unknown",i));return cn({},n,r)}function Hp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ka,Bs=or.current,Yt(or,e),Yt(Dr,Dr.current),!0}function oE(e,t,n){var r=e.stateNode;if(!r)throw Error(pe(169));n?(e=A2(e,t,Bs),r.__reactInternalMemoizedMergedChildContext=e,qt(Dr),qt(or),Yt(or,e)):qt(Dr),Yt(Dr,n)}var Ho=null,bv=!1,Uy=!1;function T2(e){Ho===null?Ho=[e]:Ho.push(e)}function qk(e){bv=!0,T2(e)}function ss(){if(!Uy&&Ho!==null){Uy=!0;var e=0,t=Dt;try{var n=Ho;for(Dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ho=null,bv=!1}catch(i){throw Ho!==null&&(Ho=Ho.slice(e+1)),JT(h1,ss),i}finally{Dt=t,Uy=!1}}return null}var Gl=[],Vl=0,Gp=null,Vp=0,vi=[],gi=0,zs=null,Wo=1,$o="";function ys(e,t){Gl[Vl++]=Vp,Gl[Vl++]=Gp,Gp=e,Vp=t}function P2(e,t,n){vi[gi++]=Wo,vi[gi++]=$o,vi[gi++]=zs,zs=e;var r=Wo;e=$o;var i=32-$i(r)-1;r&=~(1<<i),n+=1;var o=32-$i(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wo=1<<32-$i(t)+i|n<<i|r,$o=o+e}else Wo=1<<o|n<<i|r,$o=e}function b1(e){e.return!==null&&(ys(e,1),P2(e,1,0))}function S1(e){for(;e===Gp;)Gp=Gl[--Vl],Gl[Vl]=null,Vp=Gl[--Vl],Gl[Vl]=null;for(;e===zs;)zs=vi[--gi],vi[gi]=null,$o=vi[--gi],vi[gi]=null,Wo=vi[--gi],vi[gi]=null}var Xr=null,Yr=null,rn=!1,Hi=null;function C2(e,t){var n=wi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function aE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xr=e,Yr=Ua(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xr=e,Yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zs!==null?{id:Wo,overflow:$o}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xr=e,Yr=null,!0):!1;default:return!1}}function h_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function p_(e){if(rn){var t=Yr;if(t){var n=t;if(!aE(e,t)){if(h_(e))throw Error(pe(418));t=Ua(n.nextSibling);var r=Xr;t&&aE(e,t)?C2(r,n):(e.flags=e.flags&-4097|2,rn=!1,Xr=e)}}else{if(h_(e))throw Error(pe(418));e.flags=e.flags&-4097|2,rn=!1,Xr=e}}}function sE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xr=e}function Bh(e){if(e!==Xr)return!1;if(!rn)return sE(e),rn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!u_(e.type,e.memoizedProps)),t&&(t=Yr)){if(h_(e))throw L2(),Error(pe(418));for(;t;)C2(e,t),t=Ua(t.nextSibling)}if(sE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yr=Ua(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yr=null}}else Yr=Xr?Ua(e.stateNode.nextSibling):null;return!0}function L2(){for(var e=Yr;e;)e=Ua(e.nextSibling)}function vu(){Yr=Xr=null,rn=!1}function E1(e){Hi===null?Hi=[e]:Hi.push(e)}var Kk=ua.ReactCurrentBatchConfig;function Ui(e,t){if(e&&e.defaultProps){t=cn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Wp=as(null),$p=null,Wl=null,M1=null;function A1(){M1=Wl=$p=null}function T1(e){var t=Wp.current;qt(Wp),e._currentValue=t}function m_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nu(e,t){$p=e,M1=Wl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kr=!0),e.firstContext=null)}function Mi(e){var t=e._currentValue;if(M1!==e)if(e={context:e,memoizedValue:t,next:null},Wl===null){if($p===null)throw Error(pe(308));Wl=e,$p.dependencies={lanes:0,firstContext:e}}else Wl=Wl.next=e;return t}var Es=null;function P1(e){Es===null?Es=[e]:Es.push(e)}function R2(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,P1(t)):(n.next=i.next,i.next=n),t.interleaved=n,ea(e,r)}function ea(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sa=!1;function C1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ja(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_t&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ea(e,n)}return i=r.interleaved,i===null?(t.next=t,P1(r)):(t.next=i.next,i.next=t),r.interleaved=t,ea(e,n)}function fp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,p1(e,n)}}function lE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yp(e,t,n,r){var i=e.updateQueue;Sa=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?o=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;a=0,d=c=u=null,l=o;do{var p=l.lane,v=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(p=t,v=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(v,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(v,h,p):g,p==null)break e;h=cn({},h,p);break e;case 2:Sa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);js|=a,e.lanes=a,e.memoizedState=h}}function uE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var N2=new RT.Component().refs;function v_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:cn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sv={isMounted:function(e){return(e=e._reactInternals)?el(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_r(),i=Ga(e),o=Xo(r,i);o.payload=t,n!=null&&(o.callback=n),t=ja(e,o,i),t!==null&&(Yi(t,e,i,r),fp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_r(),i=Ga(e),o=Xo(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ja(e,o,i),t!==null&&(Yi(t,e,i,r),fp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_r(),r=Ga(e),i=Xo(n,r);i.tag=2,t!=null&&(i.callback=t),t=ja(e,i,r),t!==null&&(Yi(t,e,r,n),fp(t,e,r))}};function cE(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Pf(n,r)||!Pf(i,o):!0}function k2(e,t,n){var r=!1,i=Ka,o=t.contextType;return typeof o=="object"&&o!==null?o=Mi(o):(i=Fr(t)?Bs:or.current,r=t.contextTypes,o=(r=r!=null)?mu(e,i):Ka),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sv.enqueueReplaceState(t,t.state,null)}function g_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=N2,C1(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Mi(o):(o=Fr(t)?Bs:or.current,i.context=mu(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(v_(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Sv.enqueueReplaceState(i,i.state,null),Yp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Tc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;l===N2&&(l=i.refs={}),a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,e))}return e}function zh(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dE(e){var t=e._init;return t(e._payload)}function I2(e){function t(_,x){if(e){var b=_.deletions;b===null?(_.deletions=[x],_.flags|=16):b.push(x)}}function n(_,x){if(!e)return null;for(;x!==null;)t(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=Va(_,x),_.index=0,_.sibling=null,_}function o(_,x,b){return _.index=b,e?(b=_.alternate,b!==null?(b=b.index,b<x?(_.flags|=2,x):b):(_.flags|=2,x)):(_.flags|=1048576,x)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function l(_,x,b,E){return x===null||x.tag!==6?(x=Yy(b,_.mode,E),x.return=_,x):(x=i(x,b),x.return=_,x)}function u(_,x,b,E){var A=b.type;return A===Fl?d(_,x,b.props.children,E,b.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ba&&dE(A)===x.type)?(E=i(x,b.props),E.ref=Tc(_,x,b),E.return=_,E):(E=gp(b.type,b.key,b.props,null,_.mode,E),E.ref=Tc(_,x,b),E.return=_,E)}function c(_,x,b,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Zy(b,_.mode,E),x.return=_,x):(x=i(x,b.children||[]),x.return=_,x)}function d(_,x,b,E,A){return x===null||x.tag!==7?(x=Ns(b,_.mode,E,A),x.return=_,x):(x=i(x,b),x.return=_,x)}function h(_,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Yy(""+x,_.mode,b),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ph:return b=gp(x.type,x.key,x.props,null,_.mode,b),b.ref=Tc(_,null,x),b.return=_,b;case Dl:return x=Zy(x,_.mode,b),x.return=_,x;case ba:var E=x._init;return h(_,E(x._payload),b)}if(Gc(x)||bc(x))return x=Ns(x,_.mode,b,null),x.return=_,x;zh(_,x)}return null}function p(_,x,b,E){var A=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return A!==null?null:l(_,x,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ph:return b.key===A?u(_,x,b,E):null;case Dl:return b.key===A?c(_,x,b,E):null;case ba:return A=b._init,p(_,x,A(b._payload),E)}if(Gc(b)||bc(b))return A!==null?null:d(_,x,b,E,null);zh(_,b)}return null}function v(_,x,b,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return _=_.get(b)||null,l(x,_,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ph:return _=_.get(E.key===null?b:E.key)||null,u(x,_,E,A);case Dl:return _=_.get(E.key===null?b:E.key)||null,c(x,_,E,A);case ba:var C=E._init;return v(_,x,b,C(E._payload),A)}if(Gc(E)||bc(E))return _=_.get(b)||null,d(x,_,E,A,null);zh(x,E)}return null}function g(_,x,b,E){for(var A=null,C=null,P=x,R=x=0,N=null;P!==null&&R<b.length;R++){P.index>R?(N=P,P=null):N=P.sibling;var F=p(_,P,b[R],E);if(F===null){P===null&&(P=N);break}e&&P&&F.alternate===null&&t(_,P),x=o(F,x,R),C===null?A=F:C.sibling=F,C=F,P=N}if(R===b.length)return n(_,P),rn&&ys(_,R),A;if(P===null){for(;R<b.length;R++)P=h(_,b[R],E),P!==null&&(x=o(P,x,R),C===null?A=P:C.sibling=P,C=P);return rn&&ys(_,R),A}for(P=r(_,P);R<b.length;R++)N=v(P,_,R,b[R],E),N!==null&&(e&&N.alternate!==null&&P.delete(N.key===null?R:N.key),x=o(N,x,R),C===null?A=N:C.sibling=N,C=N);return e&&P.forEach(function(z){return t(_,z)}),rn&&ys(_,R),A}function y(_,x,b,E){var A=bc(b);if(typeof A!="function")throw Error(pe(150));if(b=A.call(b),b==null)throw Error(pe(151));for(var C=A=null,P=x,R=x=0,N=null,F=b.next();P!==null&&!F.done;R++,F=b.next()){P.index>R?(N=P,P=null):N=P.sibling;var z=p(_,P,F.value,E);if(z===null){P===null&&(P=N);break}e&&P&&z.alternate===null&&t(_,P),x=o(z,x,R),C===null?A=z:C.sibling=z,C=z,P=N}if(F.done)return n(_,P),rn&&ys(_,R),A;if(P===null){for(;!F.done;R++,F=b.next())F=h(_,F.value,E),F!==null&&(x=o(F,x,R),C===null?A=F:C.sibling=F,C=F);return rn&&ys(_,R),A}for(P=r(_,P);!F.done;R++,F=b.next())F=v(P,_,R,F.value,E),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?R:F.key),x=o(F,x,R),C===null?A=F:C.sibling=F,C=F);return e&&P.forEach(function(G){return t(_,G)}),rn&&ys(_,R),A}function M(_,x,b,E){if(typeof b=="object"&&b!==null&&b.type===Fl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ph:e:{for(var A=b.key,C=x;C!==null;){if(C.key===A){if(A=b.type,A===Fl){if(C.tag===7){n(_,C.sibling),x=i(C,b.props.children),x.return=_,_=x;break e}}else if(C.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ba&&dE(A)===C.type){n(_,C.sibling),x=i(C,b.props),x.ref=Tc(_,C,b),x.return=_,_=x;break e}n(_,C);break}else t(_,C);C=C.sibling}b.type===Fl?(x=Ns(b.props.children,_.mode,E,b.key),x.return=_,_=x):(E=gp(b.type,b.key,b.props,null,_.mode,E),E.ref=Tc(_,x,b),E.return=_,_=E)}return a(_);case Dl:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(_,x.sibling),x=i(x,b.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else t(_,x);x=x.sibling}x=Zy(b,_.mode,E),x.return=_,_=x}return a(_);case ba:return C=b._init,M(_,x,C(b._payload),E)}if(Gc(b))return g(_,x,b,E);if(bc(b))return y(_,x,b,E);zh(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(_,x.sibling),x=i(x,b),x.return=_,_=x):(n(_,x),x=Yy(b,_.mode,E),x.return=_,_=x),a(_)):n(_,x)}return M}var gu=I2(!0),D2=I2(!1),Wd={},go=as(Wd),Of=as(Wd),Nf=as(Wd);function Ms(e){if(e===Wd)throw Error(pe(174));return e}function L1(e,t){switch(Yt(Nf,t),Yt(Of,e),Yt(go,Wd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:X0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=X0(t,e)}qt(go),Yt(go,t)}function yu(){qt(go),qt(Of),qt(Nf)}function F2(e){Ms(Nf.current);var t=Ms(go.current),n=X0(t,e.type);t!==n&&(Yt(Of,e),Yt(go,n))}function R1(e){Of.current===e&&(qt(go),qt(Of))}var ln=as(0);function Zp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jy=[];function O1(){for(var e=0;e<jy.length;e++)jy[e]._workInProgressVersionPrimary=null;jy.length=0}var dp=ua.ReactCurrentDispatcher,Hy=ua.ReactCurrentBatchConfig,Us=0,un=null,Ln=null,Dn=null,Xp=!1,nf=!1,kf=0,Jk=0;function Kn(){throw Error(pe(321))}function N1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xi(e[n],t[n]))return!1;return!0}function k1(e,t,n,r,i,o){if(Us=o,un=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dp.current=e===null||e.memoizedState===null?nI:rI,e=n(r,i),nf){o=0;do{if(nf=!1,kf=0,25<=o)throw Error(pe(301));o+=1,Dn=Ln=null,t.updateQueue=null,dp.current=iI,e=n(r,i)}while(nf)}if(dp.current=qp,t=Ln!==null&&Ln.next!==null,Us=0,Dn=Ln=un=null,Xp=!1,t)throw Error(pe(300));return e}function I1(){var e=kf!==0;return kf=0,e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?un.memoizedState=Dn=e:Dn=Dn.next=e,Dn}function Ai(){if(Ln===null){var e=un.alternate;e=e!==null?e.memoizedState:null}else e=Ln.next;var t=Dn===null?un.memoizedState:Dn.next;if(t!==null)Dn=t,Ln=e;else{if(e===null)throw Error(pe(310));Ln=e,e={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Dn===null?un.memoizedState=Dn=e:Dn=Dn.next=e}return Dn}function If(e,t){return typeof t=="function"?t(e):t}function Gy(e){var t=Ai(),n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=e;var r=Ln,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var d=c.lane;if((Us&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,a=r):u=u.next=h,un.lanes|=d,js|=d}c=c.next}while(c!==null&&c!==o);u===null?a=r:u.next=l,Xi(r,t.memoizedState)||(kr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,un.lanes|=o,js|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vy(e){var t=Ai(),n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Xi(o,t.memoizedState)||(kr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function B2(){}function z2(e,t){var n=un,r=Ai(),i=t(),o=!Xi(r.memoizedState,i);if(o&&(r.memoizedState=i,kr=!0),r=r.queue,D1(H2.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,Df(9,j2.bind(null,n,r,i,t),void 0,null),Un===null)throw Error(pe(349));Us&30||U2(n,t,i)}return i}function U2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=un.updateQueue,t===null?(t={lastEffect:null,stores:null},un.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function j2(e,t,n,r){t.value=n,t.getSnapshot=r,G2(t)&&V2(e)}function H2(e,t,n){return n(function(){G2(t)&&V2(e)})}function G2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xi(e,n)}catch{return!0}}function V2(e){var t=ea(e,1);t!==null&&Yi(t,e,1,-1)}function hE(e){var t=oo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:If,lastRenderedState:e},t.queue=e,e=e.dispatch=tI.bind(null,un,e),[t.memoizedState,e]}function Df(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=un.updateQueue,t===null?(t={lastEffect:null,stores:null},un.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function W2(){return Ai().memoizedState}function hp(e,t,n,r){var i=oo();un.flags|=e,i.memoizedState=Df(1|t,n,void 0,r===void 0?null:r)}function Ev(e,t,n,r){var i=Ai();r=r===void 0?null:r;var o=void 0;if(Ln!==null){var a=Ln.memoizedState;if(o=a.destroy,r!==null&&N1(r,a.deps)){i.memoizedState=Df(t,n,o,r);return}}un.flags|=e,i.memoizedState=Df(1|t,n,o,r)}function pE(e,t){return hp(8390656,8,e,t)}function D1(e,t){return Ev(2048,8,e,t)}function $2(e,t){return Ev(4,2,e,t)}function Y2(e,t){return Ev(4,4,e,t)}function Z2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function X2(e,t,n){return n=n!=null?n.concat([e]):null,Ev(4,4,Z2.bind(null,t,e),n)}function F1(){}function q2(e,t){var n=Ai();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&N1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function K2(e,t){var n=Ai();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&N1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function J2(e,t,n){return Us&21?(Xi(n,t)||(n=t2(),un.lanes|=n,js|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kr=!0),e.memoizedState=n)}function Qk(e,t){var n=Dt;Dt=n!==0&&4>n?n:4,e(!0);var r=Hy.transition;Hy.transition={};try{e(!1),t()}finally{Dt=n,Hy.transition=r}}function Q2(){return Ai().memoizedState}function eI(e,t,n){var r=Ga(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eP(e))tP(t,n);else if(n=R2(e,t,n,r),n!==null){var i=_r();Yi(n,e,r,i),nP(n,t,r)}}function tI(e,t,n){var r=Ga(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eP(e))tP(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,Xi(l,a)){var u=t.interleaved;u===null?(i.next=i,P1(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=R2(e,t,i,r),n!==null&&(i=_r(),Yi(n,e,r,i),nP(n,t,r))}}function eP(e){var t=e.alternate;return e===un||t!==null&&t===un}function tP(e,t){nf=Xp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,p1(e,n)}}var qp={readContext:Mi,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},nI={readContext:Mi,useCallback:function(e,t){return oo().memoizedState=[e,t===void 0?null:t],e},useContext:Mi,useEffect:pE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hp(4194308,4,Z2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hp(4194308,4,e,t)},useInsertionEffect:function(e,t){return hp(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eI.bind(null,un,e),[r.memoizedState,e]},useRef:function(e){var t=oo();return e={current:e},t.memoizedState=e},useState:hE,useDebugValue:F1,useDeferredValue:function(e){return oo().memoizedState=e},useTransition:function(){var e=hE(!1),t=e[0];return e=Qk.bind(null,e[1]),oo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=un,i=oo();if(rn){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=t(),Un===null)throw Error(pe(349));Us&30||U2(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,pE(H2.bind(null,r,o,e),[e]),r.flags|=2048,Df(9,j2.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=oo(),t=Un.identifierPrefix;if(rn){var n=$o,r=Wo;n=(r&~(1<<32-$i(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=kf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rI={readContext:Mi,useCallback:q2,useContext:Mi,useEffect:D1,useImperativeHandle:X2,useInsertionEffect:$2,useLayoutEffect:Y2,useMemo:K2,useReducer:Gy,useRef:W2,useState:function(){return Gy(If)},useDebugValue:F1,useDeferredValue:function(e){var t=Ai();return J2(t,Ln.memoizedState,e)},useTransition:function(){var e=Gy(If)[0],t=Ai().memoizedState;return[e,t]},useMutableSource:B2,useSyncExternalStore:z2,useId:Q2,unstable_isNewReconciler:!1},iI={readContext:Mi,useCallback:q2,useContext:Mi,useEffect:D1,useImperativeHandle:X2,useInsertionEffect:$2,useLayoutEffect:Y2,useMemo:K2,useReducer:Vy,useRef:W2,useState:function(){return Vy(If)},useDebugValue:F1,useDeferredValue:function(e){var t=Ai();return Ln===null?t.memoizedState=e:J2(t,Ln.memoizedState,e)},useTransition:function(){var e=Vy(If)[0],t=Ai().memoizedState;return[e,t]},useMutableSource:B2,useSyncExternalStore:z2,useId:Q2,unstable_isNewReconciler:!1};function _u(e,t){try{var n="",r=t;do n+=O3(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Wy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function y_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oI=typeof WeakMap=="function"?WeakMap:Map;function rP(e,t,n){n=Xo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Jp||(Jp=!0,P_=r),y_(e,t)},n}function iP(e,t,n){n=Xo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){y_(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){y_(e,t),typeof r!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function mE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oI;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_I.bind(null,e,t,n),t.then(e,e))}function vE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xo(-1,1),t.tag=2,ja(n,t,1))),n.lanes|=1),e)}var aI=ua.ReactCurrentOwner,kr=!1;function hr(e,t,n,r){t.child=e===null?D2(t,null,n,r):gu(t,e.child,n,r)}function yE(e,t,n,r,i){n=n.render;var o=t.ref;return nu(t,i),r=k1(e,t,n,r,o,i),n=I1(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ta(e,t,i)):(rn&&n&&b1(t),t.flags|=1,hr(e,t,r,i),t.child)}function _E(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!W1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,oP(e,t,o,r,i)):(e=gp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Pf,n(a,r)&&e.ref===t.ref)return ta(e,t,i)}return t.flags|=1,e=Va(o,r),e.ref=t.ref,e.return=t,t.child=e}function oP(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Pf(o,r)&&e.ref===t.ref)if(kr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(kr=!0);else return t.lanes=e.lanes,ta(e,t,i)}return __(e,t,n,r,i)}function aP(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(Yl,Vr),Vr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yt(Yl,Vr),Vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Yt(Yl,Vr),Vr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Yt(Yl,Vr),Vr|=r;return hr(e,t,i,n),t.child}function sP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function __(e,t,n,r,i){var o=Fr(n)?Bs:or.current;return o=mu(t,o),nu(t,i),n=k1(e,t,n,r,o,i),r=I1(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ta(e,t,i)):(rn&&r&&b1(t),t.flags|=1,hr(e,t,n,i),t.child)}function xE(e,t,n,r,i){if(Fr(n)){var o=!0;Hp(t)}else o=!1;if(nu(t,i),t.stateNode===null)pp(e,t),k2(t,n,r),g_(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mi(c):(c=Fr(n)?Bs:or.current,c=mu(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==c)&&fE(t,a,r,c),Sa=!1;var p=t.memoizedState;a.state=p,Yp(t,r,a,i),u=t.memoizedState,l!==r||p!==u||Dr.current||Sa?(typeof d=="function"&&(v_(t,n,d,r),u=t.memoizedState),(l=Sa||cE(t,n,l,r,p,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,O2(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ui(t.type,l),a.props=c,h=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Mi(u):(u=Fr(n)?Bs:or.current,u=mu(t,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==u)&&fE(t,a,r,u),Sa=!1,p=t.memoizedState,a.state=p,Yp(t,r,a,i);var g=t.memoizedState;l!==h||p!==g||Dr.current||Sa?(typeof v=="function"&&(v_(t,n,v,r),g=t.memoizedState),(c=Sa||cE(t,n,c,r,p,g,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return x_(e,t,n,r,o,i)}function x_(e,t,n,r,i,o){sP(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&oE(t,n,!1),ta(e,t,o);r=t.stateNode,aI.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=gu(t,e.child,null,o),t.child=gu(t,null,l,o)):hr(e,t,l,o),t.memoizedState=r.state,i&&oE(t,n,!0),t.child}function lP(e){var t=e.stateNode;t.pendingContext?iE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iE(e,t.context,!1),L1(e,t.containerInfo)}function wE(e,t,n,r,i){return vu(),E1(i),t.flags|=256,hr(e,t,n,r),t.child}var w_={dehydrated:null,treeContext:null,retryLane:0};function b_(e){return{baseLanes:e,cachePool:null,transitions:null}}function uP(e,t,n){var r=t.pendingProps,i=ln.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Yt(ln,i&1),e===null)return p_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Tv(a,r,0,null),e=Ns(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=b_(n),t.memoizedState=w_,e):B1(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return sI(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Va(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Va(l,o):(o=Ns(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?b_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=w_,r}return o=e.child,e=o.sibling,r=Va(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function B1(e,t){return t=Tv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uh(e,t,n,r){return r!==null&&E1(r),gu(t,e.child,null,n),e=B1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sI(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Wy(Error(pe(422))),Uh(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Tv({mode:"visible",children:r.children},i,0,null),o=Ns(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&gu(t,e.child,null,a),t.child.memoizedState=b_(a),t.memoizedState=w_,o);if(!(t.mode&1))return Uh(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(pe(419)),r=Wy(o,r,void 0),Uh(e,t,a,r)}if(l=(a&e.childLanes)!==0,kr||l){if(r=Un,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ea(e,i),Yi(r,e,i,-1))}return V1(),r=Wy(Error(pe(421))),Uh(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=xI.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Yr=Ua(i.nextSibling),Xr=t,rn=!0,Hi=null,e!==null&&(vi[gi++]=Wo,vi[gi++]=$o,vi[gi++]=zs,Wo=e.id,$o=e.overflow,zs=t),t=B1(t,r.children),t.flags|=4096,t)}function bE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),m_(e.return,t,n)}function $y(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function cP(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(hr(e,t,r.children,n),r=ln.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bE(e,n,t);else if(e.tag===19)bE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yt(ln,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Zp(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$y(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zp(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$y(t,!0,n,null,o);break;case"together":$y(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ta(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),js|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,n=Va(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Va(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lI(e,t,n){switch(t.tag){case 3:lP(t),vu();break;case 5:F2(t);break;case 1:Fr(t.type)&&Hp(t);break;case 4:L1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Yt(Wp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Yt(ln,ln.current&1),t.flags|=128,null):n&t.child.childLanes?uP(e,t,n):(Yt(ln,ln.current&1),e=ta(e,t,n),e!==null?e.sibling:null);Yt(ln,ln.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cP(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yt(ln,ln.current),r)break;return null;case 22:case 23:return t.lanes=0,aP(e,t,n)}return ta(e,t,n)}var fP,S_,dP,hP;fP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};S_=function(){};dP=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ms(go.current);var o=null;switch(n){case"input":i=W0(e,i),r=W0(e,r),o=[];break;case"select":i=cn({},i,{value:void 0}),r=cn({},r,{value:void 0}),o=[];break;case"textarea":i=Z0(e,i),r=Z0(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Up)}q0(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wf.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wf.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Xt("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};hP=function(e,t,n,r){n!==r&&(t.flags|=4)};function Pc(e,t){if(!rn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uI(e,t,n){var r=t.pendingProps;switch(S1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(t),null;case 1:return Fr(t.type)&&jp(),Jn(t),null;case 3:return r=t.stateNode,yu(),qt(Dr),qt(or),O1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hi!==null&&(R_(Hi),Hi=null))),S_(e,t),Jn(t),null;case 5:R1(t);var i=Ms(Nf.current);if(n=t.type,e!==null&&t.stateNode!=null)dP(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(pe(166));return Jn(t),null}if(e=Ms(go.current),Bh(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[uo]=t,r[Rf]=o,e=(t.mode&1)!==0,n){case"dialog":Xt("cancel",r),Xt("close",r);break;case"iframe":case"object":case"embed":Xt("load",r);break;case"video":case"audio":for(i=0;i<Wc.length;i++)Xt(Wc[i],r);break;case"source":Xt("error",r);break;case"img":case"image":case"link":Xt("error",r),Xt("load",r);break;case"details":Xt("toggle",r);break;case"input":RS(r,o),Xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xt("invalid",r);break;case"textarea":NS(r,o),Xt("invalid",r)}q0(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Fh(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Fh(r.textContent,l,e),i=["children",""+l]):wf.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Xt("scroll",r)}switch(n){case"input":Ch(r),OS(r,o,!0);break;case"textarea":Ch(r),kS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Up)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UT(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[uo]=t,e[Rf]=r,fP(e,t,!1,!1),t.stateNode=e;e:{switch(a=K0(n,r),n){case"dialog":Xt("cancel",e),Xt("close",e),i=r;break;case"iframe":case"object":case"embed":Xt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Wc.length;i++)Xt(Wc[i],e);i=r;break;case"source":Xt("error",e),i=r;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),i=r;break;case"details":Xt("toggle",e),i=r;break;case"input":RS(e,r),i=W0(e,r),Xt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=cn({},r,{value:void 0}),Xt("invalid",e);break;case"textarea":NS(e,r),i=Z0(e,r),Xt("invalid",e);break;default:i=r}q0(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?GT(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&jT(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bf(e,u):typeof u=="number"&&bf(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wf.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Xt("scroll",e):u!=null&&l1(e,o,u,a))}switch(n){case"input":Ch(e),OS(e,r,!1);break;case"textarea":Ch(e),kS(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qa(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Jl(e,!!r.multiple,o,!1):r.defaultValue!=null&&Jl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Up)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jn(t),null;case 6:if(e&&t.stateNode!=null)hP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(pe(166));if(n=Ms(Nf.current),Ms(go.current),Bh(t)){if(r=t.stateNode,n=t.memoizedProps,r[uo]=t,(o=r.nodeValue!==n)&&(e=Xr,e!==null))switch(e.tag){case 3:Fh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fh(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[uo]=t,t.stateNode=r}return Jn(t),null;case 13:if(qt(ln),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rn&&Yr!==null&&t.mode&1&&!(t.flags&128))L2(),vu(),t.flags|=98560,o=!1;else if(o=Bh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(pe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(pe(317));o[uo]=t}else vu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jn(t),o=!1}else Hi!==null&&(R_(Hi),Hi=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ln.current&1?Rn===0&&(Rn=3):V1())),t.updateQueue!==null&&(t.flags|=4),Jn(t),null);case 4:return yu(),S_(e,t),e===null&&Cf(t.stateNode.containerInfo),Jn(t),null;case 10:return T1(t.type._context),Jn(t),null;case 17:return Fr(t.type)&&jp(),Jn(t),null;case 19:if(qt(ln),o=t.memoizedState,o===null)return Jn(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Pc(o,!1);else{if(Rn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Zp(e),a!==null){for(t.flags|=128,Pc(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yt(ln,ln.current&1|2),t.child}e=e.sibling}o.tail!==null&&bn()>xu&&(t.flags|=128,r=!0,Pc(o,!1),t.lanes=4194304)}else{if(!r)if(e=Zp(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Pc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!rn)return Jn(t),null}else 2*bn()-o.renderingStartTime>xu&&n!==1073741824&&(t.flags|=128,r=!0,Pc(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=bn(),t.sibling=null,n=ln.current,Yt(ln,r?n&1|2:n&1),t):(Jn(t),null);case 22:case 23:return G1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vr&1073741824&&(Jn(t),t.subtreeFlags&6&&(t.flags|=8192)):Jn(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function cI(e,t){switch(S1(t),t.tag){case 1:return Fr(t.type)&&jp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yu(),qt(Dr),qt(or),O1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return R1(t),null;case 13:if(qt(ln),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));vu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(ln),null;case 4:return yu(),null;case 10:return T1(t.type._context),null;case 22:case 23:return G1(),null;case 24:return null;default:return null}}var jh=!1,tr=!1,fI=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function $l(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vn(e,t,r)}else n.current=null}function E_(e,t,n){try{n()}catch(r){vn(e,t,r)}}var SE=!1;function dI(e,t){if(s_=Fp,e=g2(),w1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(l=a+i),h!==o||r!==0&&h.nodeType!==3||(u=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=a),p===o&&++d===r&&(u=a),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(l_={focusedElem:e,selectionRange:n},Fp=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,M=g.memoizedState,_=t.stateNode,x=_.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ui(t.type,y),M);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(E){vn(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return g=SE,SE=!1,g}function rf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&E_(t,n,o)}i=i.next}while(i!==r)}}function Mv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function M_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pP(e){var t=e.alternate;t!==null&&(e.alternate=null,pP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[uo],delete t[Rf],delete t[f_],delete t[Zk],delete t[Xk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mP(e){return e.tag===5||e.tag===3||e.tag===4}function EE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function A_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Up));else if(r!==4&&(e=e.child,e!==null))for(A_(e,t,n),e=e.sibling;e!==null;)A_(e,t,n),e=e.sibling}function T_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(T_(e,t,n),e=e.sibling;e!==null;)T_(e,t,n),e=e.sibling}var Gn=null,ji=!1;function ga(e,t,n){for(n=n.child;n!==null;)vP(e,t,n),n=n.sibling}function vP(e,t,n){if(vo&&typeof vo.onCommitFiberUnmount=="function")try{vo.onCommitFiberUnmount(gv,n)}catch{}switch(n.tag){case 5:tr||$l(n,t);case 6:var r=Gn,i=ji;Gn=null,ga(e,t,n),Gn=r,ji=i,Gn!==null&&(ji?(e=Gn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Gn.removeChild(n.stateNode));break;case 18:Gn!==null&&(ji?(e=Gn,n=n.stateNode,e.nodeType===8?zy(e.parentNode,n):e.nodeType===1&&zy(e,n),Af(e)):zy(Gn,n.stateNode));break;case 4:r=Gn,i=ji,Gn=n.stateNode.containerInfo,ji=!0,ga(e,t,n),Gn=r,ji=i;break;case 0:case 11:case 14:case 15:if(!tr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&E_(n,t,a),i=i.next}while(i!==r)}ga(e,t,n);break;case 1:if(!tr&&($l(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){vn(n,t,l)}ga(e,t,n);break;case 21:ga(e,t,n);break;case 22:n.mode&1?(tr=(r=tr)||n.memoizedState!==null,ga(e,t,n),tr=r):ga(e,t,n);break;default:ga(e,t,n)}}function ME(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fI),t.forEach(function(r){var i=wI.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Gn=l.stateNode,ji=!1;break e;case 3:Gn=l.stateNode.containerInfo,ji=!0;break e;case 4:Gn=l.stateNode.containerInfo,ji=!0;break e}l=l.return}if(Gn===null)throw Error(pe(160));vP(o,a,i),Gn=null,ji=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){vn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gP(t,e),t=t.sibling}function gP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fi(t,e),io(e),r&4){try{rf(3,e,e.return),Mv(3,e)}catch(y){vn(e,e.return,y)}try{rf(5,e,e.return)}catch(y){vn(e,e.return,y)}}break;case 1:Fi(t,e),io(e),r&512&&n!==null&&$l(n,n.return);break;case 5:if(Fi(t,e),io(e),r&512&&n!==null&&$l(n,n.return),e.flags&32){var i=e.stateNode;try{bf(i,"")}catch(y){vn(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&BT(i,o),K0(l,a);var c=K0(l,o);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?GT(i,h):d==="dangerouslySetInnerHTML"?jT(i,h):d==="children"?bf(i,h):l1(i,d,h,c)}switch(l){case"input":$0(i,o);break;case"textarea":zT(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Jl(i,!!o.multiple,v,!1):p!==!!o.multiple&&(o.defaultValue!=null?Jl(i,!!o.multiple,o.defaultValue,!0):Jl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Rf]=o}catch(y){vn(e,e.return,y)}}break;case 6:if(Fi(t,e),io(e),r&4){if(e.stateNode===null)throw Error(pe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){vn(e,e.return,y)}}break;case 3:if(Fi(t,e),io(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Af(t.containerInfo)}catch(y){vn(e,e.return,y)}break;case 4:Fi(t,e),io(e);break;case 13:Fi(t,e),io(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(j1=bn())),r&4&&ME(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(tr=(c=tr)||d,Fi(t,e),tr=c):Fi(t,e),io(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Pe=e,d=e.child;d!==null;){for(h=Pe=d;Pe!==null;){switch(p=Pe,v=p.child,p.tag){case 0:case 11:case 14:case 15:rf(4,p,p.return);break;case 1:$l(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){vn(r,n,y)}}break;case 5:$l(p,p.return);break;case 22:if(p.memoizedState!==null){TE(h);continue}}v!==null?(v.return=p,Pe=v):TE(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=HT("display",a))}catch(y){vn(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){vn(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fi(t,e),io(e),r&4&&ME(e);break;case 21:break;default:Fi(t,e),io(e)}}function io(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mP(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bf(i,""),r.flags&=-33);var o=EE(e);T_(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=EE(e);A_(e,l,a);break;default:throw Error(pe(161))}}catch(u){vn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hI(e,t,n){Pe=e,yP(e)}function yP(e,t,n){for(var r=(e.mode&1)!==0;Pe!==null;){var i=Pe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||jh;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||tr;l=jh;var c=tr;if(jh=a,(tr=u)&&!c)for(Pe=i;Pe!==null;)a=Pe,u=a.child,a.tag===22&&a.memoizedState!==null?PE(i):u!==null?(u.return=a,Pe=u):PE(i);for(;o!==null;)Pe=o,yP(o),o=o.sibling;Pe=i,jh=l,tr=c}AE(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Pe=o):AE(e)}}function AE(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tr||Mv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&uE(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uE(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Af(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}tr||t.flags&512&&M_(t)}catch(p){vn(t,t.return,p)}}if(t===e){Pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function TE(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function PE(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mv(4,t)}catch(u){vn(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){vn(t,i,u)}}var o=t.return;try{M_(t)}catch(u){vn(t,o,u)}break;case 5:var a=t.return;try{M_(t)}catch(u){vn(t,a,u)}}}catch(u){vn(t,t.return,u)}if(t===e){Pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Pe=l;break}Pe=t.return}}var pI=Math.ceil,Kp=ua.ReactCurrentDispatcher,z1=ua.ReactCurrentOwner,Si=ua.ReactCurrentBatchConfig,_t=0,Un=null,Cn=null,Wn=0,Vr=0,Yl=as(0),Rn=0,Ff=null,js=0,Av=0,U1=0,of=null,Nr=null,j1=0,xu=1/0,zo=null,Jp=!1,P_=null,Ha=null,Hh=!1,Ca=null,Qp=0,af=0,C_=null,mp=-1,vp=0;function _r(){return _t&6?bn():mp!==-1?mp:mp=bn()}function Ga(e){return e.mode&1?_t&2&&Wn!==0?Wn&-Wn:Kk.transition!==null?(vp===0&&(vp=t2()),vp):(e=Dt,e!==0||(e=window.event,e=e===void 0?16:l2(e.type)),e):1}function Yi(e,t,n,r){if(50<af)throw af=0,C_=null,Error(pe(185));Hd(e,n,r),(!(_t&2)||e!==Un)&&(e===Un&&(!(_t&2)&&(Av|=n),Rn===4&&Aa(e,Wn)),Br(e,r),n===1&&_t===0&&!(t.mode&1)&&(xu=bn()+500,bv&&ss()))}function Br(e,t){var n=e.callbackNode;K3(e,t);var r=Dp(e,e===Un?Wn:0);if(r===0)n!==null&&FS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&FS(n),t===1)e.tag===0?qk(CE.bind(null,e)):T2(CE.bind(null,e)),$k(function(){!(_t&6)&&ss()}),n=null;else{switch(n2(r)){case 1:n=h1;break;case 4:n=QT;break;case 16:n=Ip;break;case 536870912:n=e2;break;default:n=Ip}n=AP(n,_P.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _P(e,t){if(mp=-1,vp=0,_t&6)throw Error(pe(327));var n=e.callbackNode;if(ru()&&e.callbackNode!==n)return null;var r=Dp(e,e===Un?Wn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=em(e,r);else{t=r;var i=_t;_t|=2;var o=wP();(Un!==e||Wn!==t)&&(zo=null,xu=bn()+500,Os(e,t));do try{gI();break}catch(l){xP(e,l)}while(1);A1(),Kp.current=o,_t=i,Cn!==null?t=0:(Un=null,Wn=0,t=Rn)}if(t!==0){if(t===2&&(i=n_(e),i!==0&&(r=i,t=L_(e,i))),t===1)throw n=Ff,Os(e,0),Aa(e,r),Br(e,bn()),n;if(t===6)Aa(e,r);else{if(i=e.current.alternate,!(r&30)&&!mI(i)&&(t=em(e,r),t===2&&(o=n_(e),o!==0&&(r=o,t=L_(e,o))),t===1))throw n=Ff,Os(e,0),Aa(e,r),Br(e,bn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(pe(345));case 2:_s(e,Nr,zo);break;case 3:if(Aa(e,r),(r&130023424)===r&&(t=j1+500-bn(),10<t)){if(Dp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){_r(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=c_(_s.bind(null,e,Nr,zo),t);break}_s(e,Nr,zo);break;case 4:if(Aa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-$i(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pI(r/1960))-r,10<r){e.timeoutHandle=c_(_s.bind(null,e,Nr,zo),r);break}_s(e,Nr,zo);break;case 5:_s(e,Nr,zo);break;default:throw Error(pe(329))}}}return Br(e,bn()),e.callbackNode===n?_P.bind(null,e):null}function L_(e,t){var n=of;return e.current.memoizedState.isDehydrated&&(Os(e,t).flags|=256),e=em(e,t),e!==2&&(t=Nr,Nr=n,t!==null&&R_(t)),e}function R_(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function mI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Xi(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Aa(e,t){for(t&=~U1,t&=~Av,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$i(t),r=1<<n;e[n]=-1,t&=~r}}function CE(e){if(_t&6)throw Error(pe(327));ru();var t=Dp(e,0);if(!(t&1))return Br(e,bn()),null;var n=em(e,t);if(e.tag!==0&&n===2){var r=n_(e);r!==0&&(t=r,n=L_(e,r))}if(n===1)throw n=Ff,Os(e,0),Aa(e,t),Br(e,bn()),n;if(n===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_s(e,Nr,zo),Br(e,bn()),null}function H1(e,t){var n=_t;_t|=1;try{return e(t)}finally{_t=n,_t===0&&(xu=bn()+500,bv&&ss())}}function Hs(e){Ca!==null&&Ca.tag===0&&!(_t&6)&&ru();var t=_t;_t|=1;var n=Si.transition,r=Dt;try{if(Si.transition=null,Dt=1,e)return e()}finally{Dt=r,Si.transition=n,_t=t,!(_t&6)&&ss()}}function G1(){Vr=Yl.current,qt(Yl)}function Os(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wk(n)),Cn!==null)for(n=Cn.return;n!==null;){var r=n;switch(S1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jp();break;case 3:yu(),qt(Dr),qt(or),O1();break;case 5:R1(r);break;case 4:yu();break;case 13:qt(ln);break;case 19:qt(ln);break;case 10:T1(r.type._context);break;case 22:case 23:G1()}n=n.return}if(Un=e,Cn=e=Va(e.current,null),Wn=Vr=t,Rn=0,Ff=null,U1=Av=js=0,Nr=of=null,Es!==null){for(t=0;t<Es.length;t++)if(n=Es[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Es=null}return e}function xP(e,t){do{var n=Cn;try{if(A1(),dp.current=qp,Xp){for(var r=un.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xp=!1}if(Us=0,Dn=Ln=un=null,nf=!1,kf=0,z1.current=null,n===null||n.return===null){Rn=1,Ff=t,Cn=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Wn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=vE(a);if(v!==null){v.flags&=-257,gE(v,a,l,o,t),v.mode&1&&mE(o,c,t),t=v,u=c;var g=t.updateQueue;if(g===null){var y=new Set;y.add(u),t.updateQueue=y}else g.add(u);break e}else{if(!(t&1)){mE(o,c,t),V1();break e}u=Error(pe(426))}}else if(rn&&l.mode&1){var M=vE(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),gE(M,a,l,o,t),E1(_u(u,l));break e}}o=u=_u(u,l),Rn!==4&&(Rn=2),of===null?of=[o]:of.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var _=rP(o,u,t);lE(o,_);break e;case 1:l=u;var x=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ha===null||!Ha.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=iP(o,l,t);lE(o,E);break e}}o=o.return}while(o!==null)}SP(n)}catch(A){t=A,Cn===n&&n!==null&&(Cn=n=n.return);continue}break}while(1)}function wP(){var e=Kp.current;return Kp.current=qp,e===null?qp:e}function V1(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Un===null||!(js&268435455)&&!(Av&268435455)||Aa(Un,Wn)}function em(e,t){var n=_t;_t|=2;var r=wP();(Un!==e||Wn!==t)&&(zo=null,Os(e,t));do try{vI();break}catch(i){xP(e,i)}while(1);if(A1(),_t=n,Kp.current=r,Cn!==null)throw Error(pe(261));return Un=null,Wn=0,Rn}function vI(){for(;Cn!==null;)bP(Cn)}function gI(){for(;Cn!==null&&!H3();)bP(Cn)}function bP(e){var t=MP(e.alternate,e,Vr);e.memoizedProps=e.pendingProps,t===null?SP(e):Cn=t,z1.current=null}function SP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cI(n,t),n!==null){n.flags&=32767,Cn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rn=6,Cn=null;return}}else if(n=uI(n,t,Vr),n!==null){Cn=n;return}if(t=t.sibling,t!==null){Cn=t;return}Cn=t=e}while(t!==null);Rn===0&&(Rn=5)}function _s(e,t,n){var r=Dt,i=Si.transition;try{Si.transition=null,Dt=1,yI(e,t,n,r)}finally{Si.transition=i,Dt=r}return null}function yI(e,t,n,r){do ru();while(Ca!==null);if(_t&6)throw Error(pe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(J3(e,o),e===Un&&(Cn=Un=null,Wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hh||(Hh=!0,AP(Ip,function(){return ru(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Si.transition,Si.transition=null;var a=Dt;Dt=1;var l=_t;_t|=4,z1.current=null,dI(e,n),gP(n,e),Bk(l_),Fp=!!s_,l_=s_=null,e.current=n,hI(n),G3(),_t=l,Dt=a,Si.transition=o}else e.current=n;if(Hh&&(Hh=!1,Ca=e,Qp=i),o=e.pendingLanes,o===0&&(Ha=null),$3(n.stateNode),Br(e,bn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jp)throw Jp=!1,e=P_,P_=null,e;return Qp&1&&e.tag!==0&&ru(),o=e.pendingLanes,o&1?e===C_?af++:(af=0,C_=e):af=0,ss(),null}function ru(){if(Ca!==null){var e=n2(Qp),t=Si.transition,n=Dt;try{if(Si.transition=null,Dt=16>e?16:e,Ca===null)var r=!1;else{if(e=Ca,Ca=null,Qp=0,_t&6)throw Error(pe(331));var i=_t;for(_t|=4,Pe=e.current;Pe!==null;){var o=Pe,a=o.child;if(Pe.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Pe=c;Pe!==null;){var d=Pe;switch(d.tag){case 0:case 11:case 15:rf(8,d,o)}var h=d.child;if(h!==null)h.return=d,Pe=h;else for(;Pe!==null;){d=Pe;var p=d.sibling,v=d.return;if(pP(d),d===c){Pe=null;break}if(p!==null){p.return=v,Pe=p;break}Pe=v}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var M=y.sibling;y.sibling=null,y=M}while(y!==null)}}Pe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Pe=a;else e:for(;Pe!==null;){if(o=Pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:rf(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Pe=_;break e}Pe=o.return}}var x=e.current;for(Pe=x;Pe!==null;){a=Pe;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Pe=b;else e:for(a=x;Pe!==null;){if(l=Pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mv(9,l)}}catch(A){vn(l,l.return,A)}if(l===a){Pe=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Pe=E;break e}Pe=l.return}}if(_t=i,ss(),vo&&typeof vo.onPostCommitFiberRoot=="function")try{vo.onPostCommitFiberRoot(gv,e)}catch{}r=!0}return r}finally{Dt=n,Si.transition=t}}return!1}function LE(e,t,n){t=_u(n,t),t=rP(e,t,1),e=ja(e,t,1),t=_r(),e!==null&&(Hd(e,1,t),Br(e,t))}function vn(e,t,n){if(e.tag===3)LE(e,e,n);else for(;t!==null;){if(t.tag===3){LE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ha===null||!Ha.has(r))){e=_u(n,e),e=iP(t,e,1),t=ja(t,e,1),e=_r(),t!==null&&(Hd(t,1,e),Br(t,e));break}}t=t.return}}function _I(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_r(),e.pingedLanes|=e.suspendedLanes&n,Un===e&&(Wn&n)===n&&(Rn===4||Rn===3&&(Wn&130023424)===Wn&&500>bn()-j1?Os(e,0):U1|=n),Br(e,t)}function EP(e,t){t===0&&(e.mode&1?(t=Oh,Oh<<=1,!(Oh&130023424)&&(Oh=4194304)):t=1);var n=_r();e=ea(e,t),e!==null&&(Hd(e,t,n),Br(e,n))}function xI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),EP(e,n)}function wI(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(t),EP(e,n)}var MP;MP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dr.current)kr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kr=!1,lI(e,t,n);kr=!!(e.flags&131072)}else kr=!1,rn&&t.flags&1048576&&P2(t,Vp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pp(e,t),e=t.pendingProps;var i=mu(t,or.current);nu(t,n),i=k1(null,t,r,e,i,n);var o=I1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fr(r)?(o=!0,Hp(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,C1(t),i.updater=Sv,t.stateNode=i,i._reactInternals=t,g_(t,r,e,n),t=x_(null,t,r,!0,o,n)):(t.tag=0,rn&&o&&b1(t),hr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=SI(r),e=Ui(r,e),i){case 0:t=__(null,t,r,e,n);break e;case 1:t=xE(null,t,r,e,n);break e;case 11:t=yE(null,t,r,e,n);break e;case 14:t=_E(null,t,r,Ui(r.type,e),n);break e}throw Error(pe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),__(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),xE(e,t,r,i,n);case 3:e:{if(lP(t),e===null)throw Error(pe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,O2(e,t),Yp(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=_u(Error(pe(423)),t),t=wE(e,t,r,n,i);break e}else if(r!==i){i=_u(Error(pe(424)),t),t=wE(e,t,r,n,i);break e}else for(Yr=Ua(t.stateNode.containerInfo.firstChild),Xr=t,rn=!0,Hi=null,n=D2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vu(),r===i){t=ta(e,t,n);break e}hr(e,t,r,n)}t=t.child}return t;case 5:return F2(t),e===null&&p_(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,u_(r,i)?a=null:o!==null&&u_(r,o)&&(t.flags|=32),sP(e,t),hr(e,t,a,n),t.child;case 6:return e===null&&p_(t),null;case 13:return uP(e,t,n);case 4:return L1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gu(t,null,r,n):hr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),yE(e,t,r,i,n);case 7:return hr(e,t,t.pendingProps,n),t.child;case 8:return hr(e,t,t.pendingProps.children,n),t.child;case 12:return hr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Yt(Wp,r._currentValue),r._currentValue=a,o!==null)if(Xi(o.value,a)){if(o.children===i.children&&!Dr.current){t=ta(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Xo(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),m_(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(pe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),m_(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}hr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,nu(t,n),i=Mi(i),r=r(i),t.flags|=1,hr(e,t,r,n),t.child;case 14:return r=t.type,i=Ui(r,t.pendingProps),i=Ui(r.type,i),_E(e,t,r,i,n);case 15:return oP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),pp(e,t),t.tag=1,Fr(r)?(e=!0,Hp(t)):e=!1,nu(t,n),k2(t,r,i),g_(t,r,i,n),x_(null,t,r,!0,e,n);case 19:return cP(e,t,n);case 22:return aP(e,t,n)}throw Error(pe(156,t.tag))};function AP(e,t){return JT(e,t)}function bI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(e,t,n,r){return new bI(e,t,n,r)}function W1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SI(e){if(typeof e=="function")return W1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===c1)return 11;if(e===f1)return 14}return 2}function Va(e,t){var n=e.alternate;return n===null?(n=wi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gp(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")W1(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Fl:return Ns(n.children,i,o,t);case u1:a=8,i|=8;break;case j0:return e=wi(12,n,t,i|2),e.elementType=j0,e.lanes=o,e;case H0:return e=wi(13,n,t,i),e.elementType=H0,e.lanes=o,e;case G0:return e=wi(19,n,t,i),e.elementType=G0,e.lanes=o,e;case IT:return Tv(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NT:a=10;break e;case kT:a=9;break e;case c1:a=11;break e;case f1:a=14;break e;case ba:a=16,r=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=wi(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ns(e,t,n,r){return e=wi(7,e,r,t),e.lanes=n,e}function Tv(e,t,n,r){return e=wi(22,e,r,t),e.elementType=IT,e.lanes=n,e.stateNode={isHidden:!1},e}function Yy(e,t,n){return e=wi(6,e,null,t),e.lanes=n,e}function Zy(e,t,n){return t=wi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EI(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Py(0),this.expirationTimes=Py(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Py(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $1(e,t,n,r,i,o,a,l,u){return e=new EI(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=wi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},C1(o),e}function MI(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function TP(e){if(!e)return Ka;e=e._reactInternals;e:{if(el(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var n=e.type;if(Fr(n))return A2(e,n,t)}return t}function PP(e,t,n,r,i,o,a,l,u){return e=$1(n,r,!0,e,i,o,a,l,u),e.context=TP(null),n=e.current,r=_r(),i=Ga(n),o=Xo(r,i),o.callback=t??null,ja(n,o,i),e.current.lanes=i,Hd(e,i,r),Br(e,r),e}function Pv(e,t,n,r){var i=t.current,o=_r(),a=Ga(i);return n=TP(n),t.context===null?t.context=n:t.pendingContext=n,t=Xo(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ja(i,t,a),e!==null&&(Yi(e,i,a,o),fp(e,i,a)),a}function tm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function RE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Y1(e,t){RE(e,t),(e=e.alternate)&&RE(e,t)}function AI(){return null}var CP=typeof reportError=="function"?reportError:function(e){console.error(e)};function Z1(e){this._internalRoot=e}Cv.prototype.render=Z1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));Pv(e,t,null,null)};Cv.prototype.unmount=Z1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hs(function(){Pv(null,e,null,null)}),t[Qo]=null}};function Cv(e){this._internalRoot=e}Cv.prototype.unstable_scheduleHydration=function(e){if(e){var t=o2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ma.length&&t!==0&&t<Ma[n].priority;n++);Ma.splice(n,0,e),n===0&&s2(e)}};function X1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function OE(){}function TI(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=tm(a);o.call(c)}}var a=PP(t,r,e,0,null,!1,!1,"",OE);return e._reactRootContainer=a,e[Qo]=a.current,Cf(e.nodeType===8?e.parentNode:e),Hs(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=tm(u);l.call(c)}}var u=$1(e,0,!1,null,null,!1,!1,"",OE);return e._reactRootContainer=u,e[Qo]=u.current,Cf(e.nodeType===8?e.parentNode:e),Hs(function(){Pv(t,u,n,r)}),u}function Rv(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=tm(a);l.call(u)}}Pv(t,a,e,i)}else a=TI(n,t,e,i,r);return tm(a)}r2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vc(t.pendingLanes);n!==0&&(p1(t,n|1),Br(t,bn()),!(_t&6)&&(xu=bn()+500,ss()))}break;case 13:Hs(function(){var r=ea(e,1);if(r!==null){var i=_r();Yi(r,e,1,i)}}),Y1(e,1)}};m1=function(e){if(e.tag===13){var t=ea(e,134217728);if(t!==null){var n=_r();Yi(t,e,134217728,n)}Y1(e,134217728)}};i2=function(e){if(e.tag===13){var t=Ga(e),n=ea(e,t);if(n!==null){var r=_r();Yi(n,e,t,r)}Y1(e,t)}};o2=function(){return Dt};a2=function(e,t){var n=Dt;try{return Dt=e,t()}finally{Dt=n}};Q0=function(e,t,n){switch(t){case"input":if($0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wv(r);if(!i)throw Error(pe(90));FT(r),$0(r,i)}}}break;case"textarea":zT(e,n);break;case"select":t=n.value,t!=null&&Jl(e,!!n.multiple,t,!1)}};$T=H1;YT=Hs;var PI={usingClientEntryPoint:!1,Events:[Vd,jl,wv,VT,WT,H1]},Cc={findFiberByHostInstance:Ss,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},CI={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qT(e),e===null?null:e.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||AI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{gv=Gh.inject(CI),vo=Gh}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI;ii.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X1(t))throw Error(pe(200));return MI(e,t,null,n)};ii.createRoot=function(e,t){if(!X1(e))throw Error(pe(299));var n=!1,r="",i=CP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$1(e,1,!1,null,null,n,!1,r,i),e[Qo]=t.current,Cf(e.nodeType===8?e.parentNode:e),new Z1(t)};ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=qT(t),e=e===null?null:e.stateNode,e};ii.flushSync=function(e){return Hs(e)};ii.hydrate=function(e,t,n){if(!Lv(t))throw Error(pe(200));return Rv(null,e,t,!0,n)};ii.hydrateRoot=function(e,t,n){if(!X1(e))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=CP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=PP(t,null,e,1,n??null,i,!1,o,a),e[Qo]=t.current,Cf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Cv(t)};ii.render=function(e,t,n){if(!Lv(t))throw Error(pe(200));return Rv(null,e,t,!1,n)};ii.unmountComponentAtNode=function(e){if(!Lv(e))throw Error(pe(40));return e._reactRootContainer?(Hs(function(){Rv(null,null,e,!1,function(){e._reactRootContainer=null,e[Qo]=null})}),!0):!1};ii.unstable_batchedUpdates=H1;ii.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lv(n))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return Rv(e,t,n,!1,r)};ii.version="18.2.0-next-9e3b772b8-20220608";function LP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LP)}catch(e){console.error(e)}}LP(),PT.exports=ii;var Ju=PT.exports;const $c=Ud(Ju);const LI=()=>!window.invokeNative,RI=()=>{},Fn=(e,t)=>{const n=O.useRef(RI);O.useEffect(()=>{n.current=t},[t]),O.useEffect(()=>{const r=i=>{const{action:o,data:a}=i.data;n.current&&o===e&&n.current(a)};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[e])};var Ov={exports:{}},RP={},OP={exports:{}},OI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NI=OI,kI=NI;function NP(){}function kP(){}kP.resetWarningCache=NP;var II=function(){function e(r,i,o,a,l,u){if(u!==kI){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kP,resetWarningCache:NP};return n.PropTypes=n,n};OP.exports=II();var Bt=OP.exports;function IP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=IP(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function NE(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=IP(e))&&(r&&(r+=" "),r+=t);return r}const DI=Object.freeze(Object.defineProperty({__proto__:null,clsx:NE,default:NE},Symbol.toStringTag,{value:"Module"})),FI=t1(DI);var yn={},Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.dontSetMe=HI;Po.findInArray=BI;Po.int=jI;Po.isFunction=zI;Po.isNum=UI;function BI(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function zI(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function UI(e){return typeof e=="number"&&!isNaN(e)}function jI(e){return parseInt(e,10)}function HI(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.browserPrefixToKey=FP;tl.browserPrefixToStyle=GI;tl.default=void 0;tl.getPrefix=DP;const Xy=["Moz","Webkit","O","ms"];function DP(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<Xy.length;r++)if(FP(t,Xy[r])in n)return Xy[r];return""}function FP(e,t){return t?"".concat(t).concat(VI(e)):e}function GI(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function VI(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}tl.default=DP();Object.defineProperty(yn,"__esModule",{value:!0});yn.addClassName=UP;yn.addEvent=YI;yn.addUserSelectStyles=iD;yn.createCSSTransform=eD;yn.createSVGTransform=tD;yn.getTouch=nD;yn.getTouchIdentifier=rD;yn.getTranslation=q1;yn.innerHeight=KI;yn.innerWidth=JI;yn.matchesSelector=zP;yn.matchesSelectorAndParentsTo=$I;yn.offsetXYFromParent=QI;yn.outerHeight=XI;yn.outerWidth=qI;yn.removeClassName=jP;yn.removeEvent=ZI;yn.removeUserSelectStyles=oD;var qr=Po,kE=WI(tl);function BP(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(BP=function(r){return r?n:t})(e)}function WI(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=BP(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let Vh="";function zP(e,t){return Vh||(Vh=(0,qr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,qr.isFunction)(e[n])})),(0,qr.isFunction)(e[Vh])?e[Vh](t):!1}function $I(e,t,n){let r=e;do{if(zP(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function YI(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function ZI(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function XI(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,qr.int)(n.borderTopWidth),t+=(0,qr.int)(n.borderBottomWidth),t}function qI(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,qr.int)(n.borderLeftWidth),t+=(0,qr.int)(n.borderRightWidth),t}function KI(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,qr.int)(n.paddingTop),t-=(0,qr.int)(n.paddingBottom),t}function JI(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,qr.int)(n.paddingLeft),t-=(0,qr.int)(n.paddingRight),t}function QI(e,t,n){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/n,a=(e.clientY+t.scrollTop-i.top)/n;return{x:o,y:a}}function eD(e,t){const n=q1(e,t,"px");return{[(0,kE.browserPrefixToKey)("transform",kE.default)]:n}}function tD(e,t){return q1(e,t,"")}function q1(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const a="".concat(typeof t.x=="string"?t.x:t.x+n),l="".concat(typeof t.y=="string"?t.y:t.y+n);o="translate(".concat(a,", ").concat(l,")")+o}return o}function nD(e,t){return e.targetTouches&&(0,qr.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,qr.findInArray)(e.changedTouches,n=>t===n.identifier)}function rD(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function iD(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&UP(e.body,"react-draggable-transparent-selection")}function oD(e){if(e)try{if(e.body&&jP(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function UP(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function jP(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.canDragX=lD;Co.canDragY=uD;Co.createCoreData=fD;Co.createDraggableData=dD;Co.getBoundPosition=aD;Co.getControlPosition=cD;Co.snapToGrid=sD;var Hr=Po,Zl=yn;function aD(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:hD(r);const i=K1(e);if(typeof r=="string"){const{ownerDocument:o}=i,a=o.defaultView;let l;if(r==="parent"?l=i.parentNode:l=o.querySelector(r),!(l instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const u=l,c=a.getComputedStyle(i),d=a.getComputedStyle(u);r={left:-i.offsetLeft+(0,Hr.int)(d.paddingLeft)+(0,Hr.int)(c.marginLeft),top:-i.offsetTop+(0,Hr.int)(d.paddingTop)+(0,Hr.int)(c.marginTop),right:(0,Zl.innerWidth)(u)-(0,Zl.outerWidth)(i)-i.offsetLeft+(0,Hr.int)(d.paddingRight)-(0,Hr.int)(c.marginRight),bottom:(0,Zl.innerHeight)(u)-(0,Zl.outerHeight)(i)-i.offsetTop+(0,Hr.int)(d.paddingBottom)-(0,Hr.int)(c.marginBottom)}}return(0,Hr.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Hr.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Hr.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Hr.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function sD(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function lD(e){return e.props.axis==="both"||e.props.axis==="x"}function uD(e){return e.props.axis==="both"||e.props.axis==="y"}function cD(e,t,n){const r=typeof t=="number"?(0,Zl.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const i=K1(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Zl.offsetXYFromParent)(r||e,o,n.props.scale)}function fD(e,t,n){const r=!(0,Hr.isNum)(e.lastX),i=K1(e);return r?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function dD(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function hD(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function K1(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Nv={},kv={};Object.defineProperty(kv,"__esModule",{value:!0});kv.default=pD;function pD(){}Object.defineProperty(Nv,"__esModule",{value:!0});Nv.default=void 0;var qy=vD(O),Pr=J1(Bt),mD=J1(Ju),Qn=yn,ya=Co,Ky=Po,Lc=J1(kv);function J1(e){return e&&e.__esModule?e:{default:e}}function HP(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(HP=function(r){return r?n:t})(e)}function vD(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=HP(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function dr(e,t,n){return t=gD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gD(e){var t=yD(e,"string");return typeof t=="symbol"?t:String(t)}function yD(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const zi={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let _a=zi.mouse,Iv=class extends qy.Component{constructor(){super(...arguments),dr(this,"dragging",!1),dr(this,"lastX",NaN),dr(this,"lastY",NaN),dr(this,"touchIdentifier",null),dr(this,"mounted",!1),dr(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Qn.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Qn.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const i=(0,Qn.getTouchIdentifier)(t);this.touchIdentifier=i;const o=(0,ya.getControlPosition)(t,i,this);if(o==null)return;const{x:a,y:l}=o,u=(0,ya.createCoreData)(this,a,l);(0,Lc.default)("DraggableCore: handleDragStart: %j",u),(0,Lc.default)("calling",this.props.onStart),!(this.props.onStart(t,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Qn.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=l,(0,Qn.addEvent)(r,_a.move,this.handleDrag),(0,Qn.addEvent)(r,_a.stop,this.handleDragStop))}),dr(this,"handleDrag",t=>{const n=(0,ya.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX,u=i-this.lastY;if([l,u]=(0,ya.snapToGrid)(this.props.grid,l,u),!l&&!u)return;r=this.lastX+l,i=this.lastY+u}const o=(0,ya.createCoreData)(this,r,i);if((0,Lc.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=r,this.lastY=i}),dr(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,ya.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let u=r-this.lastX||0,c=i-this.lastY||0;[u,c]=(0,ya.snapToGrid)(this.props.grid,u,c),r=this.lastX+u,i=this.lastY+c}const o=(0,ya.createCoreData)(this,r,i);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,Qn.removeUserSelectStyles)(l.ownerDocument),(0,Lc.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,Lc.default)("DraggableCore: Removing handlers"),(0,Qn.removeEvent)(l.ownerDocument,_a.move,this.handleDrag),(0,Qn.removeEvent)(l.ownerDocument,_a.stop,this.handleDragStop))}),dr(this,"onMouseDown",t=>(_a=zi.mouse,this.handleDragStart(t))),dr(this,"onMouseUp",t=>(_a=zi.mouse,this.handleDragStop(t))),dr(this,"onTouchStart",t=>(_a=zi.touch,this.handleDragStart(t))),dr(this,"onTouchEnd",t=>(_a=zi.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Qn.addEvent)(t,zi.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Qn.removeEvent)(n,zi.mouse.move,this.handleDrag),(0,Qn.removeEvent)(n,zi.touch.move,this.handleDrag),(0,Qn.removeEvent)(n,zi.mouse.stop,this.handleDragStop),(0,Qn.removeEvent)(n,zi.touch.stop,this.handleDragStop),(0,Qn.removeEvent)(t,zi.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Qn.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:mD.default.findDOMNode(this)}render(){return qy.cloneElement(qy.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Nv.default=Iv;dr(Iv,"displayName","DraggableCore");dr(Iv,"propTypes",{allowAnyClick:Pr.default.bool,children:Pr.default.node.isRequired,disabled:Pr.default.bool,enableUserSelectHack:Pr.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Pr.default.arrayOf(Pr.default.number),handle:Pr.default.string,cancel:Pr.default.string,nodeRef:Pr.default.object,onStart:Pr.default.func,onDrag:Pr.default.func,onStop:Pr.default.func,onMouseDown:Pr.default.func,scale:Pr.default.number,className:Ky.dontSetMe,style:Ky.dontSetMe,transform:Ky.dontSetMe});dr(Iv,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var t=p(O),n=d(Bt),r=d(Ju),i=d(FI),o=yn,a=Co,l=Po,u=d(Nv),c=d(kv);function d(x){return x&&x.__esModule?x:{default:x}}function h(x){if(typeof WeakMap!="function")return null;var b=new WeakMap,E=new WeakMap;return(h=function(A){return A?E:b})(x)}function p(x,b){if(!b&&x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var E=h(b);if(E&&E.has(x))return E.get(x);var A={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in x)if(P!=="default"&&Object.prototype.hasOwnProperty.call(x,P)){var R=C?Object.getOwnPropertyDescriptor(x,P):null;R&&(R.get||R.set)?Object.defineProperty(A,P,R):A[P]=x[P]}return A.default=x,E&&E.set(x,A),A}function v(){return v=Object.assign?Object.assign.bind():function(x){for(var b=1;b<arguments.length;b++){var E=arguments[b];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(x[A]=E[A])}return x},v.apply(this,arguments)}function g(x,b,E){return b=y(b),b in x?Object.defineProperty(x,b,{value:E,enumerable:!0,configurable:!0,writable:!0}):x[b]=E,x}function y(x){var b=M(x,"string");return typeof b=="symbol"?b:String(b)}function M(x,b){if(typeof x!="object"||x===null)return x;var E=x[Symbol.toPrimitive];if(E!==void 0){var A=E.call(x,b||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(x)}class _ extends t.Component{static getDerivedStateFromProps(b,E){let{position:A}=b,{prevPropsPosition:C}=E;return A&&(!C||A.x!==C.x||A.y!==C.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:A,prevPropsPosition:C}),{x:A.x,y:A.y,prevPropsPosition:{...A}}):null}constructor(b){super(b),g(this,"onDragStart",(E,A)=>{if((0,c.default)("Draggable: onDragStart: %j",A),this.props.onStart(E,(0,a.createDraggableData)(this,A))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(E,A)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",A);const C=(0,a.createDraggableData)(this,A),P={x:C.x,y:C.y,slackX:0,slackY:0};if(this.props.bounds){const{x:N,y:F}=P;P.x+=this.state.slackX,P.y+=this.state.slackY;const[z,G]=(0,a.getBoundPosition)(this,P.x,P.y);P.x=z,P.y=G,P.slackX=this.state.slackX+(N-P.x),P.slackY=this.state.slackY+(F-P.y),C.x=P.x,C.y=P.y,C.deltaX=P.x-this.state.x,C.deltaY=P.y-this.state.y}if(this.props.onDrag(E,C)===!1)return!1;this.setState(P)}),g(this,"onDragStop",(E,A)=>{if(!this.state.dragging||this.props.onStop(E,(0,a.createDraggableData)(this,A))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",A);const P={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:N,y:F}=this.props.position;P.x=N,P.y=F}this.setState(P)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,E;return(b=(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current)!==null&&b!==void 0?b:r.default.findDOMNode(this)}render(){const{axis:b,bounds:E,children:A,defaultPosition:C,defaultClassName:P,defaultClassNameDragging:R,defaultClassNameDragged:N,position:F,positionOffset:z,scale:G,...K}=this.props;let W={},$=null;const J=!!!F||this.state.dragging,V=F||C,I={x:(0,a.canDragX)(this)&&J?this.state.x:V.x,y:(0,a.canDragY)(this)&&J?this.state.y:V.y};this.state.isElementSVG?$=(0,o.createSVGTransform)(I,z):W=(0,o.createCSSTransform)(I,z);const k=(0,i.default)(A.props.className||"",P,{[R]:this.state.dragging,[N]:this.state.dragged});return t.createElement(u.default,v({},K,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(A),{className:k,style:{...A.props.style,...W},transform:$}))}}e.default=_,g(_,"displayName","Draggable"),g(_,"propTypes",{...u.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),g(_,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(RP);const{default:GP,DraggableCore:_D}=RP;Ov.exports=GP;Ov.exports.default=GP;Ov.exports.DraggableCore=_D;var xD=Ov.exports;const VP=Ud(xD);async function Be(e,t,n){const r={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};if(LI()&&n)return n;const i=window.GetParentResourceName?window.GetParentResourceName():"qs-dispatch";return await(await fetch(`https://${i}/${e}`,r).catch(l=>{console.warn(`Error in fetchNui[${e}]: ${l}`)})).json()}const wD={black:"#000",white:"#fff"},Bf=wD,bD={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},_l=bD,SD={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},xl=SD,ED={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},wl=ED,MD={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},bl=MD,AD={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Sl=AD,TD={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Rc=TD,PD={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},CD=PD;function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function Ta(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function WP(e){if(!Ta(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=WP(e[n])}),t}function Zi(e,t,n={clone:!0}){const r=n.clone?oe({},e):e;return Ta(e)&&Ta(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Ta(t[i])&&i in e&&Ta(e[i])?r[i]=Zi(e[i],t[i],n):n.clone?r[i]=Ta(t[i])?WP(t[i]):t[i]:r[i]=t[i])}),r}function wu(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}var zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1=Symbol.for("react.element"),ew=Symbol.for("react.portal"),Dv=Symbol.for("react.fragment"),Fv=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),zv=Symbol.for("react.provider"),Uv=Symbol.for("react.context"),LD=Symbol.for("react.server_context"),jv=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),Gv=Symbol.for("react.suspense_list"),Vv=Symbol.for("react.memo"),Wv=Symbol.for("react.lazy"),RD=Symbol.for("react.offscreen"),$P;$P=Symbol.for("react.module.reference");function Li(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Q1:switch(e=e.type,e){case Dv:case Bv:case Fv:case Hv:case Gv:return e;default:switch(e=e&&e.$$typeof,e){case LD:case Uv:case jv:case Wv:case Vv:case zv:return e;default:return t}}case ew:return t}}}zt.ContextConsumer=Uv;zt.ContextProvider=zv;zt.Element=Q1;zt.ForwardRef=jv;zt.Fragment=Dv;zt.Lazy=Wv;zt.Memo=Vv;zt.Portal=ew;zt.Profiler=Bv;zt.StrictMode=Fv;zt.Suspense=Hv;zt.SuspenseList=Gv;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(e){return Li(e)===Uv};zt.isContextProvider=function(e){return Li(e)===zv};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Q1};zt.isForwardRef=function(e){return Li(e)===jv};zt.isFragment=function(e){return Li(e)===Dv};zt.isLazy=function(e){return Li(e)===Wv};zt.isMemo=function(e){return Li(e)===Vv};zt.isPortal=function(e){return Li(e)===ew};zt.isProfiler=function(e){return Li(e)===Bv};zt.isStrictMode=function(e){return Li(e)===Fv};zt.isSuspense=function(e){return Li(e)===Hv};zt.isSuspenseList=function(e){return Li(e)===Gv};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Dv||e===Bv||e===Fv||e===Hv||e===Gv||e===RD||typeof e=="object"&&e!==null&&(e.$$typeof===Wv||e.$$typeof===Vv||e.$$typeof===zv||e.$$typeof===Uv||e.$$typeof===jv||e.$$typeof===$P||e.getModuleId!==void 0)};zt.typeOf=Li;function bt(e){if(typeof e!="string")throw new Error(wu(7));return e.charAt(0).toUpperCase()+e.slice(1)}function O_(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function YP(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function OD(e,t){return()=>null}function ND(e,t){var n,r;return O.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Kr(e){return e&&e.ownerDocument||document}function bu(e){return Kr(e).defaultView||window}function kD(e,t){return()=>null}function nm(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const ID=typeof window<"u"?O.useLayoutEffect:O.useEffect,Su=ID;let IE=0;function DD(e){const[t,n]=O.useState(e),r=e||t;return O.useEffect(()=>{t==null&&(IE+=1,n(`mui-${IE}`))},[t]),r}const DE=z0["useId".toString()];function FD(e){if(DE!==void 0){const t=DE();return e??t}return DD(e)}function BD(e,t,n,r,i){return null}function zD({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=O.useRef(e!==void 0),[o,a]=O.useState(t),l=i?e:o,u=O.useCallback(c=>{i||a(c)},[]);return[l,u]}function As(e){const t=O.useRef(e);return Su(()=>{t.current=e}),O.useRef((...n)=>(0,t.current)(...n)).current}function Ti(...e){return O.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{nm(n,t)})},e)}let $v=!0,N_=!1,FE;const UD={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function jD(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&UD[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function HD(e){e.metaKey||e.altKey||e.ctrlKey||($v=!0)}function Jy(){$v=!1}function GD(){this.visibilityState==="hidden"&&N_&&($v=!0)}function VD(e){e.addEventListener("keydown",HD,!0),e.addEventListener("mousedown",Jy,!0),e.addEventListener("pointerdown",Jy,!0),e.addEventListener("touchstart",Jy,!0),e.addEventListener("visibilitychange",GD,!0)}function WD(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return $v||jD(t)}function ZP(){const e=O.useCallback(i=>{i!=null&&VD(i.ownerDocument)},[]),t=O.useRef(!1);function n(){return t.current?(N_=!0,window.clearTimeout(FE),FE=window.setTimeout(()=>{N_=!1},100),t.current=!1,!0):!1}function r(i){return WD(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function XP(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function tw(e,t){const n=oe({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=oe({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=oe({},o),Object.keys(i).forEach(a=>{n[r][a]=tw(i[a],o[a])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function jr(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,a)=>{if(a){const l=t(a);l!==""&&o.push(l),n&&n[a]&&o.push(n[a])}return o},[]).join(" ")}),r}const BE=e=>e,$D=()=>{let e=BE;return{configure(t){e=t},generate(t){return e(t)},reset(){e=BE}}},YD=$D(),qP=YD,ZD={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Sr(e,t,n="Mui"){const r=ZD[t];return r?`${n}-${r}`:`${qP.generate(e)}-${t}`}function Xn(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Sr(e,i,n)}),r}const zf="$$material";function xt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function KP(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var XD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qD=KP(function(e){return XD.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function KD(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function JD(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var QD=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(JD(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=KD(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),er="-ms-",rm="-moz-",Pt="-webkit-",JP="comm",nw="rule",rw="decl",e4="@import",QP="@keyframes",t4="@layer",n4=Math.abs,Yv=String.fromCharCode,r4=Object.assign;function i4(e,t){return Vn(e,0)^45?(((t<<2^Vn(e,0))<<2^Vn(e,1))<<2^Vn(e,2))<<2^Vn(e,3):0}function eC(e){return e.trim()}function o4(e,t){return(e=t.exec(e))?e[0]:e}function Ct(e,t,n){return e.replace(t,n)}function k_(e,t){return e.indexOf(t)}function Vn(e,t){return e.charCodeAt(t)|0}function Uf(e,t,n){return e.slice(t,n)}function so(e){return e.length}function iw(e){return e.length}function Wh(e,t){return t.push(e),e}function a4(e,t){return e.map(t).join("")}var Zv=1,Eu=1,tC=0,zr=0,Tn=0,Qu="";function Xv(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Zv,column:Eu,length:a,return:""}}function Oc(e,t){return r4(Xv("",null,null,"",null,null,0),e,{length:-e.length},t)}function s4(){return Tn}function l4(){return Tn=zr>0?Vn(Qu,--zr):0,Eu--,Tn===10&&(Eu=1,Zv--),Tn}function Jr(){return Tn=zr<tC?Vn(Qu,zr++):0,Eu++,Tn===10&&(Eu=1,Zv++),Tn}function yo(){return Vn(Qu,zr)}function yp(){return zr}function $d(e,t){return Uf(Qu,e,t)}function jf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nC(e){return Zv=Eu=1,tC=so(Qu=e),zr=0,[]}function rC(e){return Qu="",e}function _p(e){return eC($d(zr-1,I_(e===91?e+2:e===40?e+1:e)))}function u4(e){for(;(Tn=yo())&&Tn<33;)Jr();return jf(e)>2||jf(Tn)>3?"":" "}function c4(e,t){for(;--t&&Jr()&&!(Tn<48||Tn>102||Tn>57&&Tn<65||Tn>70&&Tn<97););return $d(e,yp()+(t<6&&yo()==32&&Jr()==32))}function I_(e){for(;Jr();)switch(Tn){case e:return zr;case 34:case 39:e!==34&&e!==39&&I_(Tn);break;case 40:e===41&&I_(e);break;case 92:Jr();break}return zr}function f4(e,t){for(;Jr()&&e+Tn!==47+10;)if(e+Tn===42+42&&yo()===47)break;return"/*"+$d(t,zr-1)+"*"+Yv(e===47?e:Jr())}function d4(e){for(;!jf(yo());)Jr();return $d(e,zr)}function h4(e){return rC(xp("",null,null,null,[""],e=nC(e),0,[0],e))}function xp(e,t,n,r,i,o,a,l,u){for(var c=0,d=0,h=a,p=0,v=0,g=0,y=1,M=1,_=1,x=0,b="",E=i,A=o,C=r,P=b;M;)switch(g=x,x=Jr()){case 40:if(g!=108&&Vn(P,h-1)==58){k_(P+=Ct(_p(x),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:P+=_p(x);break;case 9:case 10:case 13:case 32:P+=u4(g);break;case 92:P+=c4(yp()-1,7);continue;case 47:switch(yo()){case 42:case 47:Wh(p4(f4(Jr(),yp()),t,n),u);break;default:P+="/"}break;case 123*y:l[c++]=so(P)*_;case 125*y:case 59:case 0:switch(x){case 0:case 125:M=0;case 59+d:_==-1&&(P=Ct(P,/\f/g,"")),v>0&&so(P)-h&&Wh(v>32?UE(P+";",r,n,h-1):UE(Ct(P," ","")+";",r,n,h-2),u);break;case 59:P+=";";default:if(Wh(C=zE(P,t,n,c,d,i,l,b,E=[],A=[],h),o),x===123)if(d===0)xp(P,t,C,C,E,o,h,l,A);else switch(p===99&&Vn(P,3)===110?100:p){case 100:case 108:case 109:case 115:xp(e,C,C,r&&Wh(zE(e,C,C,0,0,i,l,b,i,E=[],h),A),i,A,h,l,r?E:A);break;default:xp(P,C,C,C,[""],A,0,l,A)}}c=d=v=0,y=_=1,b=P="",h=a;break;case 58:h=1+so(P),v=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&l4()==125)continue}switch(P+=Yv(x),x*y){case 38:_=d>0?1:(P+="\f",-1);break;case 44:l[c++]=(so(P)-1)*_,_=1;break;case 64:yo()===45&&(P+=_p(Jr())),p=yo(),d=h=so(b=P+=d4(yp())),x++;break;case 45:g===45&&so(P)==2&&(y=0)}}return o}function zE(e,t,n,r,i,o,a,l,u,c,d){for(var h=i-1,p=i===0?o:[""],v=iw(p),g=0,y=0,M=0;g<r;++g)for(var _=0,x=Uf(e,h+1,h=n4(y=a[g])),b=e;_<v;++_)(b=eC(y>0?p[_]+" "+x:Ct(x,/&\f/g,p[_])))&&(u[M++]=b);return Xv(e,t,n,i===0?nw:l,u,c,d)}function p4(e,t,n){return Xv(e,t,n,JP,Yv(s4()),Uf(e,2,-2),0)}function UE(e,t,n,r){return Xv(e,t,n,rw,Uf(e,0,r),Uf(e,r+1,-1),r)}function iu(e,t){for(var n="",r=iw(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function m4(e,t,n,r){switch(e.type){case t4:if(e.children.length)break;case e4:case rw:return e.return=e.return||e.value;case JP:return"";case QP:return e.return=e.value+"{"+iu(e.children,r)+"}";case nw:e.value=e.props.join(",")}return so(n=iu(e.children,r))?e.return=e.value+"{"+n+"}":""}function v4(e){var t=iw(e);return function(n,r,i,o){for(var a="",l=0;l<t;l++)a+=e[l](n,r,i,o)||"";return a}}function g4(e){return function(t){t.root||(t=t.return)&&e(t)}}var y4=function(t,n,r){for(var i=0,o=0;i=o,o=yo(),i===38&&o===12&&(n[r]=1),!jf(o);)Jr();return $d(t,zr)},_4=function(t,n){var r=-1,i=44;do switch(jf(i)){case 0:i===38&&yo()===12&&(n[r]=1),t[r]+=y4(zr-1,n,r);break;case 2:t[r]+=_p(i);break;case 4:if(i===44){t[++r]=yo()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Yv(i)}while(i=Jr());return t},x4=function(t,n){return rC(_4(nC(t),n))},jE=new WeakMap,w4=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!jE.get(r))&&!i){jE.set(t,!0);for(var o=[],a=x4(n,o),l=r.props,u=0,c=0;u<a.length;u++)for(var d=0;d<l.length;d++,c++)t.props[c]=o[u]?a[u].replace(/&\f/g,l[d]):l[d]+" "+a[u]}}},b4=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function iC(e,t){switch(i4(e,t)){case 5103:return Pt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Pt+e+rm+e+er+e+e;case 6828:case 4268:return Pt+e+er+e+e;case 6165:return Pt+e+er+"flex-"+e+e;case 5187:return Pt+e+Ct(e,/(\w+).+(:[^]+)/,Pt+"box-$1$2"+er+"flex-$1$2")+e;case 5443:return Pt+e+er+"flex-item-"+Ct(e,/flex-|-self/,"")+e;case 4675:return Pt+e+er+"flex-line-pack"+Ct(e,/align-content|flex-|-self/,"")+e;case 5548:return Pt+e+er+Ct(e,"shrink","negative")+e;case 5292:return Pt+e+er+Ct(e,"basis","preferred-size")+e;case 6060:return Pt+"box-"+Ct(e,"-grow","")+Pt+e+er+Ct(e,"grow","positive")+e;case 4554:return Pt+Ct(e,/([^-])(transform)/g,"$1"+Pt+"$2")+e;case 6187:return Ct(Ct(Ct(e,/(zoom-|grab)/,Pt+"$1"),/(image-set)/,Pt+"$1"),e,"")+e;case 5495:case 3959:return Ct(e,/(image-set\([^]*)/,Pt+"$1$`$1");case 4968:return Ct(Ct(e,/(.+:)(flex-)?(.*)/,Pt+"box-pack:$3"+er+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pt+e+e;case 4095:case 3583:case 4068:case 2532:return Ct(e,/(.+)-inline(.+)/,Pt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(so(e)-1-t>6)switch(Vn(e,t+1)){case 109:if(Vn(e,t+4)!==45)break;case 102:return Ct(e,/(.+:)(.+)-([^]+)/,"$1"+Pt+"$2-$3$1"+rm+(Vn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~k_(e,"stretch")?iC(Ct(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Vn(e,t+1)!==115)break;case 6444:switch(Vn(e,so(e)-3-(~k_(e,"!important")&&10))){case 107:return Ct(e,":",":"+Pt)+e;case 101:return Ct(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pt+(Vn(e,14)===45?"inline-":"")+"box$3$1"+Pt+"$2$3$1"+er+"$2box$3")+e}break;case 5936:switch(Vn(e,t+11)){case 114:return Pt+e+er+Ct(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Pt+e+er+Ct(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Pt+e+er+Ct(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Pt+e+er+e+e}return e}var S4=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case rw:t.return=iC(t.value,t.length);break;case QP:return iu([Oc(t,{value:Ct(t.value,"@","@"+Pt)})],i);case nw:if(t.length)return a4(t.props,function(o){switch(o4(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return iu([Oc(t,{props:[Ct(o,/:(read-\w+)/,":"+rm+"$1")]})],i);case"::placeholder":return iu([Oc(t,{props:[Ct(o,/:(plac\w+)/,":"+Pt+"input-$1")]}),Oc(t,{props:[Ct(o,/:(plac\w+)/,":"+rm+"$1")]}),Oc(t,{props:[Ct(o,/:(plac\w+)/,er+"input-$1")]})],i)}return""})}},E4=[S4],M4=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var M=y.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||E4,o={},a,l=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var M=y.getAttribute("data-emotion").split(" "),_=1;_<M.length;_++)o[M[_]]=!0;l.push(y)});var u,c=[w4,b4];{var d,h=[m4,g4(function(y){d.insert(y)})],p=v4(c.concat(i,h)),v=function(M){return iu(h4(M),p)};u=function(M,_,x,b){d=x,v(M?M+"{"+_.styles+"}":_.styles),b&&(g.inserted[_.name]=!0)}}var g={key:n,sheet:new QD({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:u};return g.sheet.hydrate(l),g},oC={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jn=typeof Symbol=="function"&&Symbol.for,ow=jn?Symbol.for("react.element"):60103,aw=jn?Symbol.for("react.portal"):60106,qv=jn?Symbol.for("react.fragment"):60107,Kv=jn?Symbol.for("react.strict_mode"):60108,Jv=jn?Symbol.for("react.profiler"):60114,Qv=jn?Symbol.for("react.provider"):60109,eg=jn?Symbol.for("react.context"):60110,sw=jn?Symbol.for("react.async_mode"):60111,tg=jn?Symbol.for("react.concurrent_mode"):60111,ng=jn?Symbol.for("react.forward_ref"):60112,rg=jn?Symbol.for("react.suspense"):60113,A4=jn?Symbol.for("react.suspense_list"):60120,ig=jn?Symbol.for("react.memo"):60115,og=jn?Symbol.for("react.lazy"):60116,T4=jn?Symbol.for("react.block"):60121,P4=jn?Symbol.for("react.fundamental"):60117,C4=jn?Symbol.for("react.responder"):60118,L4=jn?Symbol.for("react.scope"):60119;function ai(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ow:switch(e=e.type,e){case sw:case tg:case qv:case Jv:case Kv:case rg:return e;default:switch(e=e&&e.$$typeof,e){case eg:case ng:case og:case ig:case Qv:return e;default:return t}}case aw:return t}}}function aC(e){return ai(e)===tg}Ft.AsyncMode=sw;Ft.ConcurrentMode=tg;Ft.ContextConsumer=eg;Ft.ContextProvider=Qv;Ft.Element=ow;Ft.ForwardRef=ng;Ft.Fragment=qv;Ft.Lazy=og;Ft.Memo=ig;Ft.Portal=aw;Ft.Profiler=Jv;Ft.StrictMode=Kv;Ft.Suspense=rg;Ft.isAsyncMode=function(e){return aC(e)||ai(e)===sw};Ft.isConcurrentMode=aC;Ft.isContextConsumer=function(e){return ai(e)===eg};Ft.isContextProvider=function(e){return ai(e)===Qv};Ft.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ow};Ft.isForwardRef=function(e){return ai(e)===ng};Ft.isFragment=function(e){return ai(e)===qv};Ft.isLazy=function(e){return ai(e)===og};Ft.isMemo=function(e){return ai(e)===ig};Ft.isPortal=function(e){return ai(e)===aw};Ft.isProfiler=function(e){return ai(e)===Jv};Ft.isStrictMode=function(e){return ai(e)===Kv};Ft.isSuspense=function(e){return ai(e)===rg};Ft.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qv||e===tg||e===Jv||e===Kv||e===rg||e===A4||typeof e=="object"&&e!==null&&(e.$$typeof===og||e.$$typeof===ig||e.$$typeof===Qv||e.$$typeof===eg||e.$$typeof===ng||e.$$typeof===P4||e.$$typeof===C4||e.$$typeof===L4||e.$$typeof===T4)};Ft.typeOf=ai;oC.exports=Ft;var R4=oC.exports,sC=R4,O4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},N4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lC={};lC[sC.ForwardRef]=O4;lC[sC.Memo]=N4;var k4=!0;function I4(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var uC=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||k4===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},D4=function(t,n,r){uC(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function F4(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var B4={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},z4=/[A-Z]|^ms/g,U4=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cC=function(t){return t.charCodeAt(1)===45},HE=function(t){return t!=null&&typeof t!="boolean"},Qy=KP(function(e){return cC(e)?e:e.replace(z4,"-$&").toLowerCase()}),GE=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(U4,function(r,i,o){return lo={name:i,styles:o,next:lo},i})}return B4[t]!==1&&!cC(t)&&typeof n=="number"&&n!==0?n+"px":n};function Hf(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return lo={name:n.name,styles:n.styles,next:lo},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)lo={name:r.name,styles:r.styles,next:lo},r=r.next;var i=n.styles+";";return i}return j4(e,t,n)}case"function":{if(e!==void 0){var o=lo,a=n(e);return lo=o,Hf(e,t,a)}break}}if(t==null)return n;var l=t[n];return l!==void 0?l:n}function j4(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Hf(e,t,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object")t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":HE(a)&&(r+=Qy(o)+":"+GE(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var l=0;l<a.length;l++)HE(a[l])&&(r+=Qy(o)+":"+GE(o,a[l])+";");else{var u=Hf(e,t,a);switch(o){case"animation":case"animationName":{r+=Qy(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var VE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,lo,fC=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";lo=void 0;var a=t[0];a==null||a.raw===void 0?(i=!1,o+=Hf(r,n,a)):o+=a[0];for(var l=1;l<t.length;l++)o+=Hf(r,n,t[l]),i&&(o+=a[l]);VE.lastIndex=0;for(var u="",c;(c=VE.exec(o))!==null;)u+="-"+c[1];var d=F4(o)+u;return{name:d,styles:o,next:lo}},H4=function(t){return t()},G4=z0["useInsertionEffect"]?z0["useInsertionEffect"]:!1,V4=G4||H4,dC=O.createContext(typeof HTMLElement<"u"?M4({key:"css"}):null);dC.Provider;var W4=function(t){return O.forwardRef(function(n,r){var i=O.useContext(dC);return t(n,i,r)})},lw=O.createContext({});function uw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fC(t)}var Yd=function(){var t=uw.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},$4=qD,Y4=function(t){return t!=="theme"},WE=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?$4:Y4},$E=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(a){return t.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Z4=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return uC(n,r,i),V4(function(){return D4(n,r,i)}),null},X4=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,a;n!==void 0&&(o=n.label,a=n.target);var l=$E(t,n,r),u=l||WE(i),c=!u("as");return function(){var d=arguments,h=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&h.push("label:"+o+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var p=d.length,v=1;v<p;v++)h.push(d[v],d[0][v])}var g=W4(function(y,M,_){var x=c&&y.as||i,b="",E=[],A=y;if(y.theme==null){A={};for(var C in y)A[C]=y[C];A.theme=O.useContext(lw)}typeof y.className=="string"?b=I4(M.registered,E,y.className):y.className!=null&&(b=y.className+" ");var P=fC(h.concat(E),M.registered,A);b+=M.key+"-"+P.name,a!==void 0&&(b+=" "+a);var R=c&&l===void 0?WE(x):u,N={};for(var F in y)c&&F==="as"||R(F)&&(N[F]=y[F]);return N.className=b,N.ref=_,O.createElement(O.Fragment,null,O.createElement(Z4,{cache:M,serialized:P,isStringTag:typeof x=="string"}),O.createElement(x,N))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(y,M){return e(y,oe({},n,M,{shouldForwardProp:$E(g,M,!0)})).apply(void 0,h)},g}},q4=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],D_=X4.bind();q4.forEach(function(e){D_[e]=D_(e)});/**
 * @mui/styled-engine v5.14.17
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function K4(e,t){return D_(e,t)}const J4=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Q4=["values","unit","step"],eF=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>oe({},n,{[r.key]:r.val}),{})};function tF(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=xt(e,Q4),o=eF(t),a=Object.keys(o);function l(p){return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${n})`}function u(p){return`@media (max-width:${(typeof t[p]=="number"?t[p]:p)-r/100}${n})`}function c(p,v){const g=a.indexOf(v);return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${n}) and (max-width:${(g!==-1&&typeof t[a[g]]=="number"?t[a[g]]:v)-r/100}${n})`}function d(p){return a.indexOf(p)+1<a.length?c(p,a[a.indexOf(p)+1]):l(p)}function h(p){const v=a.indexOf(p);return v===0?l(a[1]):v===a.length-1?u(a[v]):c(p,a[a.indexOf(p)+1]).replace("@media","@media not all and")}return oe({keys:a,values:o,up:l,down:u,between:c,only:d,not:h,unit:n},i)}const nF={borderRadius:4},rF=nF;function sf(e,t){return t?Zi(e,t,{clone:!1}):e}const cw={xs:0,sm:600,md:900,lg:1200,xl:1536},YE={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${cw[e]}px)`};function na(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||YE;return t.reduce((a,l,u)=>(a[o.up(o.keys[u])]=n(t[u]),a),{})}if(typeof t=="object"){const o=r.breakpoints||YE;return Object.keys(t).reduce((a,l)=>{if(Object.keys(o.values||cw).indexOf(l)!==-1){const u=o.up(l);a[u]=n(t[l],l)}else{const u=l;a[u]=t[u]}return a},{})}return n(t)}function iF(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function oF(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function ag(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function im(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=ag(e,n)||r,t&&(i=t(i,r,e)),i}function Ot(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=a=>{if(a[t]==null)return null;const l=a[t],u=a.theme,c=ag(u,r)||{};return na(a,l,h=>{let p=im(c,i,h);return h===p&&typeof h=="string"&&(p=im(c,i,`${t}${h==="default"?"":bt(h)}`,h)),n===!1?p:{[n]:p}})};return o.propTypes={},o.filterProps=[t],o}function aF(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const sF={m:"margin",p:"padding"},lF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ZE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},uF=aF(e=>{if(e.length>2)if(ZE[e])e=ZE[e];else return[e];const[t,n]=e.split(""),r=sF[t],i=lF[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),fw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],dw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...fw,...dw];function Zd(e,t,n,r){var i;const o=(i=ag(e,t,!1))!=null?i:n;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function hC(e){return Zd(e,"spacing",8)}function Xd(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function cF(e,t){return n=>e.reduce((r,i)=>(r[i]=Xd(t,n),r),{})}function fF(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=uF(n),o=cF(i,r),a=e[n];return na(e,a,o)}function pC(e,t){const n=hC(e.theme);return Object.keys(e).map(r=>fF(e,t,r,n)).reduce(sf,{})}function pn(e){return pC(e,fw)}pn.propTypes={};pn.filterProps=fw;function mn(e){return pC(e,dw)}mn.propTypes={};mn.filterProps=dw;function dF(e=8){if(e.mui)return e;const t=hC({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const a=t(o);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function sg(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?sf(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function co(e){return typeof e!="number"?e:`${e}px solid`}const hF=Ot({prop:"border",themeKey:"borders",transform:co}),pF=Ot({prop:"borderTop",themeKey:"borders",transform:co}),mF=Ot({prop:"borderRight",themeKey:"borders",transform:co}),vF=Ot({prop:"borderBottom",themeKey:"borders",transform:co}),gF=Ot({prop:"borderLeft",themeKey:"borders",transform:co}),yF=Ot({prop:"borderColor",themeKey:"palette"}),_F=Ot({prop:"borderTopColor",themeKey:"palette"}),xF=Ot({prop:"borderRightColor",themeKey:"palette"}),wF=Ot({prop:"borderBottomColor",themeKey:"palette"}),bF=Ot({prop:"borderLeftColor",themeKey:"palette"}),lg=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Zd(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Xd(t,r)});return na(e,e.borderRadius,n)}return null};lg.propTypes={};lg.filterProps=["borderRadius"];sg(hF,pF,mF,vF,gF,yF,_F,xF,wF,bF,lg);const ug=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Zd(e.theme,"spacing",8),n=r=>({gap:Xd(t,r)});return na(e,e.gap,n)}return null};ug.propTypes={};ug.filterProps=["gap"];const cg=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Zd(e.theme,"spacing",8),n=r=>({columnGap:Xd(t,r)});return na(e,e.columnGap,n)}return null};cg.propTypes={};cg.filterProps=["columnGap"];const fg=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Zd(e.theme,"spacing",8),n=r=>({rowGap:Xd(t,r)});return na(e,e.rowGap,n)}return null};fg.propTypes={};fg.filterProps=["rowGap"];const SF=Ot({prop:"gridColumn"}),EF=Ot({prop:"gridRow"}),MF=Ot({prop:"gridAutoFlow"}),AF=Ot({prop:"gridAutoColumns"}),TF=Ot({prop:"gridAutoRows"}),PF=Ot({prop:"gridTemplateColumns"}),CF=Ot({prop:"gridTemplateRows"}),LF=Ot({prop:"gridTemplateAreas"}),RF=Ot({prop:"gridArea"});sg(ug,cg,fg,SF,EF,MF,AF,TF,PF,CF,LF,RF);function ou(e,t){return t==="grey"?t:e}const OF=Ot({prop:"color",themeKey:"palette",transform:ou}),NF=Ot({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ou}),kF=Ot({prop:"backgroundColor",themeKey:"palette",transform:ou});sg(OF,NF,kF);function $r(e){return e<=1&&e!==0?`${e*100}%`:e}const IF=Ot({prop:"width",transform:$r}),hw=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||cw[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:$r(n)}};return na(e,e.maxWidth,t)}return null};hw.filterProps=["maxWidth"];const DF=Ot({prop:"minWidth",transform:$r}),FF=Ot({prop:"height",transform:$r}),BF=Ot({prop:"maxHeight",transform:$r}),zF=Ot({prop:"minHeight",transform:$r});Ot({prop:"size",cssProperty:"width",transform:$r});Ot({prop:"size",cssProperty:"height",transform:$r});const UF=Ot({prop:"boxSizing"});sg(IF,hw,DF,FF,BF,zF,UF);const jF={border:{themeKey:"borders",transform:co},borderTop:{themeKey:"borders",transform:co},borderRight:{themeKey:"borders",transform:co},borderBottom:{themeKey:"borders",transform:co},borderLeft:{themeKey:"borders",transform:co},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:lg},color:{themeKey:"palette",transform:ou},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ou},backgroundColor:{themeKey:"palette",transform:ou},p:{style:mn},pt:{style:mn},pr:{style:mn},pb:{style:mn},pl:{style:mn},px:{style:mn},py:{style:mn},padding:{style:mn},paddingTop:{style:mn},paddingRight:{style:mn},paddingBottom:{style:mn},paddingLeft:{style:mn},paddingX:{style:mn},paddingY:{style:mn},paddingInline:{style:mn},paddingInlineStart:{style:mn},paddingInlineEnd:{style:mn},paddingBlock:{style:mn},paddingBlockStart:{style:mn},paddingBlockEnd:{style:mn},m:{style:pn},mt:{style:pn},mr:{style:pn},mb:{style:pn},ml:{style:pn},mx:{style:pn},my:{style:pn},margin:{style:pn},marginTop:{style:pn},marginRight:{style:pn},marginBottom:{style:pn},marginLeft:{style:pn},marginX:{style:pn},marginY:{style:pn},marginInline:{style:pn},marginInlineStart:{style:pn},marginInlineEnd:{style:pn},marginBlock:{style:pn},marginBlockStart:{style:pn},marginBlockEnd:{style:pn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ug},rowGap:{style:fg},columnGap:{style:cg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:$r},maxWidth:{style:hw},minWidth:{transform:$r},height:{transform:$r},maxHeight:{transform:$r},minHeight:{transform:$r},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},pw=jF;function HF(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function GF(e,t){return typeof e=="function"?e(t):e}function VF(){function e(n,r,i,o){const a={[n]:r,theme:i},l=o[n];if(!l)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:d,style:h}=l;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const p=ag(i,c)||{};return h?h(a):na(a,r,g=>{let y=im(p,d,g);return g===y&&typeof g=="string"&&(y=im(p,d,`${n}${g==="default"?"":bt(g)}`,g)),u===!1?y:{[u]:y}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const a=(r=o.unstable_sxConfig)!=null?r:pw;function l(u){let c=u;if(typeof u=="function")c=u(o);else if(typeof u!="object")return u;if(!c)return null;const d=iF(o.breakpoints),h=Object.keys(d);let p=d;return Object.keys(c).forEach(v=>{const g=GF(c[v],o);if(g!=null)if(typeof g=="object")if(a[v])p=sf(p,e(v,g,o,a));else{const y=na({theme:o},g,M=>({[v]:M}));HF(y,g)?p[v]=t({sx:g,theme:o}):p=sf(p,y)}else p=sf(p,e(v,g,o,a))}),oF(h,p)}return Array.isArray(i)?i.map(l):l(i)}return t}const mC=VF();mC.filterProps=["sx"];const mw=mC,WF=["breakpoints","palette","spacing","shape"];function vw(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,a=xt(e,WF),l=tF(n),u=dF(i);let c=Zi({breakpoints:l,direction:"ltr",components:{},palette:oe({mode:"light"},r),spacing:u,shape:oe({},rF,o)},a);return c=t.reduce((d,h)=>Zi(d,h),c),c.unstable_sxConfig=oe({},pw,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(h){return mw({sx:h,theme:this})},c}function $F(e){return Object.keys(e).length===0}function vC(e=null){const t=O.useContext(lw);return!t||$F(t)?e:t}const YF=vw();function gC(e=YF){return vC(e)}function yC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=yC(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function It(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=yC(e))&&(r&&(r+=" "),r+=t);return r}const ZF=["variant"];function XE(e){return e.length===0}function _C(e){const{variant:t}=e,n=xt(e,ZF);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=XE(r)?e[i]:bt(e[i]):r+=`${XE(r)?i:bt(i)}${bt(e[i].toString())}`}),r}const XF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function qF(e){return Object.keys(e).length===0}function KF(e){return typeof e=="string"&&e.charCodeAt(0)>96}const JF=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,om=e=>{const t={};return e&&e.forEach(n=>{const r=_C(n.props);t[r]=n.style}),t},QF=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),om(n)},am=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach(o=>{let a=!0;Object.keys(o.props).forEach(l=>{r[l]!==o.props[l]&&e[l]!==o.props[l]&&(a=!1)}),a&&i.push(t[_C(o.props)])}),i},e5=(e,t,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return am(e,t,o)};function wp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const t5=vw(),n5=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function bp({defaultTheme:e,theme:t,themeId:n}){return qF(t)?e:t[n]||t}function r5(e){return e?(t,n)=>n[e]:null}const qE=({styledArg:e,props:t,defaultTheme:n,themeId:r})=>{const i=e(oe({},t,{theme:bp(oe({},t,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const a=am(t,om(o),o);return[i,...a]}return i};function i5(e={}){const{themeId:t,defaultTheme:n=t5,rootShouldForwardProp:r=wp,slotShouldForwardProp:i=wp}=e,o=a=>mw(oe({},a,{theme:bp(oe({},a,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(a,l={})=>{J4(a,E=>E.filter(A=>!(A!=null&&A.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:p=r5(n5(c))}=l,v=xt(l,XF),g=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,y=h||!1;let M,_=wp;c==="Root"||c==="root"?_=r:c?_=i:KF(a)&&(_=void 0);const x=K4(a,oe({shouldForwardProp:_,label:M},v)),b=(E,...A)=>{const C=A?A.map(F=>{if(typeof F=="function"&&F.__emotion_real!==F)return z=>qE({styledArg:F,props:z,defaultTheme:n,themeId:t});if(Ta(F)){let z=F,G;return F&&F.variants&&(G=F.variants,delete z.variants,z=K=>{let W=F;return am(K,om(G),G).forEach(X=>{W=Zi(W,X)}),W}),z}return F}):[];let P=E;if(Ta(E)){let F;E&&E.variants&&(F=E.variants,delete P.variants,P=z=>{let G=E;return am(z,om(F),F).forEach(W=>{G=Zi(G,W)}),G})}else typeof E=="function"&&E.__emotion_real!==E&&(P=F=>qE({styledArg:E,props:F,defaultTheme:n,themeId:t}));u&&p&&C.push(F=>{const z=bp(oe({},F,{defaultTheme:n,themeId:t})),G=JF(u,z);if(G){const K={};return Object.entries(G).forEach(([W,$])=>{K[W]=typeof $=="function"?$(oe({},F,{theme:z})):$}),p(F,K)}return null}),u&&!g&&C.push(F=>{const z=bp(oe({},F,{defaultTheme:n,themeId:t}));return e5(F,QF(u,z),z,u)}),y||C.push(o);const R=C.length-A.length;if(Array.isArray(E)&&R>0){const F=new Array(R).fill("");P=[...E,...F],P.raw=[...E.raw,...F]}const N=x(P,...C);return a.muiName&&(N.muiName=a.muiName),N};return x.withConfig&&(b.withConfig=x.withConfig),b}}function o5(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:tw(t.components[n].defaultProps,r)}function a5({props:e,name:t,defaultTheme:n,themeId:r}){let i=gC(n);return r&&(i=i[r]||i),o5({theme:i,name:t,props:e})}function gw(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function s5(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Gs(e){if(e.type)return e;if(e.charAt(0)==="#")return Gs(s5(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(wu(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(wu(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function dg(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function l5(e){e=Gs(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=(c,d=(c+n/30)%12)=>i-o*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",u.push(t[3])),dg({type:l,values:u})}function KE(e){e=Gs(e);let t=e.type==="hsl"||e.type==="hsla"?Gs(l5(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u5(e,t){const n=KE(e),r=KE(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Zr(e,t){return e=Gs(e),t=gw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,dg(e)}function F_(e,t){if(e=Gs(e),t=gw(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return dg(e)}function B_(e,t){if(e=Gs(e),t=gw(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return dg(e)}const c5=O.createContext(null),xC=c5;function wC(){return O.useContext(xC)}const f5=typeof Symbol=="function"&&Symbol.for,d5=f5?Symbol.for("mui.nested"):"__THEME_NESTED__";function h5(e,t){return typeof t=="function"?t(e):oe({},e,t)}function p5(e){const{children:t,theme:n}=e,r=wC(),i=O.useMemo(()=>{const o=r===null?n:h5(r,n);return o!=null&&(o[d5]=r!==null),o},[n,r]);return w.jsx(xC.Provider,{value:i,children:t})}const JE={};function QE(e,t,n,r=!1){return O.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),a=e?oe({},t,{[e]:o}):o;return r?()=>a:a}return e?oe({},t,{[e]:n}):oe({},t,n)},[e,t,n,r])}function m5(e){const{children:t,theme:n,themeId:r}=e,i=vC(JE),o=wC()||JE,a=QE(r,i,n),l=QE(r,o,n,!0);return w.jsx(p5,{theme:l,children:w.jsx(lw.Provider,{value:a,children:t})})}function v5(e,t){return oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const g5=["mode","contrastThreshold","tonalOffset"],eM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Bf.white,default:Bf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},e0={text:{primary:Bf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Bf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function tM(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=B_(e.main,i):t==="dark"&&(e.dark=F_(e.main,o)))}function y5(e="light"){return e==="dark"?{main:wl[200],light:wl[50],dark:wl[400]}:{main:wl[700],light:wl[400],dark:wl[800]}}function _5(e="light"){return e==="dark"?{main:xl[200],light:xl[50],dark:xl[400]}:{main:xl[500],light:xl[300],dark:xl[700]}}function x5(e="light"){return e==="dark"?{main:_l[500],light:_l[300],dark:_l[700]}:{main:_l[700],light:_l[400],dark:_l[800]}}function w5(e="light"){return e==="dark"?{main:bl[400],light:bl[300],dark:bl[700]}:{main:bl[700],light:bl[500],dark:bl[900]}}function b5(e="light"){return e==="dark"?{main:Sl[400],light:Sl[300],dark:Sl[700]}:{main:Sl[800],light:Sl[500],dark:Sl[900]}}function S5(e="light"){return e==="dark"?{main:Rc[400],light:Rc[300],dark:Rc[700]}:{main:"#ed6c02",light:Rc[500],dark:Rc[900]}}function E5(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=xt(e,g5),o=e.primary||y5(t),a=e.secondary||_5(t),l=e.error||x5(t),u=e.info||w5(t),c=e.success||b5(t),d=e.warning||S5(t);function h(y){return u5(y,e0.text.primary)>=n?e0.text.primary:eM.text.primary}const p=({color:y,name:M,mainShade:_=500,lightShade:x=300,darkShade:b=700})=>{if(y=oe({},y),!y.main&&y[_]&&(y.main=y[_]),!y.hasOwnProperty("main"))throw new Error(wu(11,M?` (${M})`:"",_));if(typeof y.main!="string")throw new Error(wu(12,M?` (${M})`:"",JSON.stringify(y.main)));return tM(y,"light",x,r),tM(y,"dark",b,r),y.contrastText||(y.contrastText=h(y.main)),y},v={dark:e0,light:eM};return Zi(oe({common:oe({},Bf),mode:t,primary:p({color:o,name:"primary"}),secondary:p({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:u,name:"info"}),success:p({color:c,name:"success"}),grey:CD,contrastThreshold:n,getContrastText:h,augmentColor:p,tonalOffset:r},v[t]),i)}const M5=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function A5(e){return Math.round(e*1e5)/1e5}const nM={textTransform:"uppercase"},rM='"Roboto", "Helvetica", "Arial", sans-serif';function T5(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=rM,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:d,pxToRem:h}=n,p=xt(n,M5),v=i/14,g=h||(_=>`${_/c*v}rem`),y=(_,x,b,E,A)=>oe({fontFamily:r,fontWeight:_,fontSize:g(x),lineHeight:b},r===rM?{letterSpacing:`${A5(E/x)}em`}:{},A,d),M={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(l,14,1.75,.4,nM),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,nM),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Zi(oe({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:u},M),p,{clone:!1})}const P5=.2,C5=.14,L5=.12;function tn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${P5})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${C5})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${L5})`].join(",")}const R5=["none",tn(0,2,1,-1,0,1,1,0,0,1,3,0),tn(0,3,1,-2,0,2,2,0,0,1,5,0),tn(0,3,3,-2,0,3,4,0,0,1,8,0),tn(0,2,4,-1,0,4,5,0,0,1,10,0),tn(0,3,5,-1,0,5,8,0,0,1,14,0),tn(0,3,5,-1,0,6,10,0,0,1,18,0),tn(0,4,5,-2,0,7,10,1,0,2,16,1),tn(0,5,5,-3,0,8,10,1,0,3,14,2),tn(0,5,6,-3,0,9,12,1,0,3,16,2),tn(0,6,6,-3,0,10,14,1,0,4,18,3),tn(0,6,7,-4,0,11,15,1,0,4,20,3),tn(0,7,8,-4,0,12,17,2,0,5,22,4),tn(0,7,8,-4,0,13,19,2,0,5,24,4),tn(0,7,9,-4,0,14,21,2,0,5,26,4),tn(0,8,9,-5,0,15,22,2,0,6,28,5),tn(0,8,10,-5,0,16,24,2,0,6,30,5),tn(0,8,11,-5,0,17,26,2,0,6,32,5),tn(0,9,11,-5,0,18,28,2,0,7,34,6),tn(0,9,12,-6,0,19,29,2,0,7,36,6),tn(0,10,13,-6,0,20,31,3,0,8,38,7),tn(0,10,13,-6,0,21,33,3,0,8,40,7),tn(0,10,14,-6,0,22,35,3,0,8,42,7),tn(0,11,14,-7,0,23,36,3,0,9,44,8),tn(0,11,15,-7,0,24,38,3,0,9,46,8)],O5=R5,N5=["duration","easing","delay"],k5={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},I5={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function iM(e){return`${Math.round(e)}ms`}function D5(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function F5(e){const t=oe({},k5,e.easing),n=oe({},I5,e.duration);return oe({getAutoHeightDuration:D5,create:(i=["all"],o={})=>{const{duration:a=n.standard,easing:l=t.easeInOut,delay:u=0}=o;return xt(o,N5),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof a=="string"?a:iM(a)} ${l} ${typeof u=="string"?u:iM(u)}`).join(",")}},e,{easing:t,duration:n})}const B5={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},z5=B5,U5=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function bC(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,a=xt(e,U5);if(e.vars)throw new Error(wu(18));const l=E5(r),u=vw(e);let c=Zi(u,{mixins:v5(u.breakpoints,n),palette:l,shadows:O5.slice(),typography:T5(l,o),transitions:F5(i),zIndex:oe({},z5)});return c=Zi(c,a),c=t.reduce((d,h)=>Zi(d,h),c),c.unstable_sxConfig=oe({},pw,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(h){return mw({sx:h,theme:this})},c}const j5=bC(),yw=j5;function _w(){const e=gC(yw);return e[zf]||e}function Er({props:e,name:t}){return a5({props:e,name:t,defaultTheme:yw,themeId:zf})}const hg=e=>wp(e)&&e!=="classes",H5=i5({themeId:zf,defaultTheme:yw,rootShouldForwardProp:hg}),Ut=H5,G5=["theme"];function V5(e){let{theme:t}=e,n=xt(e,G5);const r=t[zf];return w.jsx(m5,oe({},n,{themeId:r?zf:void 0,theme:r||t}))}const W5=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},oM=W5;function $5(e){return Sr("MuiSvgIcon",e)}Xn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Y5=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Z5=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${bt(t)}`,`fontSize${bt(n)}`]};return jr(i,$5,r)},X5=Ut("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${bt(n.color)}`],t[`fontSize${bt(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,a,l,u,c,d,h,p,v,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((c=e.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[t.fontSize],color:(h=(p=(e.vars||e).palette)==null||(p=p[t.color])==null?void 0:p.main)!=null?h:{action:(v=(e.vars||e).palette)==null||(v=v.action)==null?void 0:v.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),SC=O.forwardRef(function(t,n){const r=Er({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:l="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:p="0 0 24 24"}=r,v=xt(r,Y5),g=O.isValidElement(i)&&i.type==="svg",y=oe({},r,{color:a,component:l,fontSize:u,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:g}),M={};d||(M.viewBox=p);const _=Z5(y);return w.jsxs(X5,oe({as:l,className:It(_.root,o),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},M,v,g&&i.props,{ownerState:y,children:[g?i.props.children:i,h?w.jsx("title",{children:h}):null]}))});SC.muiName="SvgIcon";const aM=SC;function Mr(e,t){function n(r,i){return w.jsx(aM,oe({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=aM.muiName,O.memo(O.forwardRef(n))}const q5={configure:e=>{qP.configure(e)}},K5=Object.freeze(Object.defineProperty({__proto__:null,capitalize:bt,createChainedFunction:O_,createSvgIcon:Mr,debounce:YP,deprecatedPropType:OD,isMuiElement:ND,ownerDocument:Kr,ownerWindow:bu,requirePropFactory:kD,setRef:nm,unstable_ClassNameGenerator:q5,unstable_useEnhancedEffect:Su,unstable_useId:FD,unsupportedProp:BD,useControlled:zD,useEventCallback:As,useForkRef:Ti,useIsFocusVisible:ZP},Symbol.toStringTag,{value:"Module"}));function z_(e,t){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(e,t)}function EC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,z_(e,t)}const sM={disabled:!1},sm=Ge.createContext(null);var J5=function(t){return t.scrollTop},Yc="unmounted",xs="exited",ws="entering",Nl="entered",U_="exiting",ca=function(e){EC(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=i,l=a&&!a.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?l?(u=xs,o.appearStatus=ws):u=Nl:r.unmountOnExit||r.mountOnEnter?u=Yc:u=xs,o.state={status:u},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Yc?{status:xs}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==ws&&a!==Nl&&(o=ws):(a===ws||a===Nl)&&(o=U_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,l;return o=a=l=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,l=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===ws){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:$c.findDOMNode(this);a&&J5(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xs&&this.setState({status:Yc})},n.performEnter=function(i){var o=this,a=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[$c.findDOMNode(this),l],c=u[0],d=u[1],h=this.getTimeouts(),p=l?h.appear:h.enter;if(!i&&!a||sM.disabled){this.safeSetState({status:Nl},function(){o.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:ws},function(){o.props.onEntering(c,d),o.onTransitionEnd(p,function(){o.safeSetState({status:Nl},function(){o.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:$c.findDOMNode(this);if(!o||sM.disabled){this.safeSetState({status:xs},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:U_},function(){i.props.onExiting(l),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:xs},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:$c.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=u[0],d=u[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Yc)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=xt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ge.createElement(sm.Provider,{value:null},typeof a=="function"?a(i,l):Ge.cloneElement(Ge.Children.only(a),l))},t}(Ge.Component);ca.contextType=sm;ca.propTypes={};function El(){}ca.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:El,onEntering:El,onEntered:El,onExit:El,onExiting:El,onExited:El};ca.UNMOUNTED=Yc;ca.EXITED=xs;ca.ENTERING=ws;ca.ENTERED=Nl;ca.EXITING=U_;const MC=ca;function Q5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xw(e,t){var n=function(o){return t&&O.isValidElement(o)?t(o):o},r=Object.create(null);return e&&O.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function eB(e,t){e=e||{},t=t||{};function n(d){return d in t?t[d]:e[d]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,l={};for(var u in t){if(r[u])for(a=0;a<r[u].length;a++){var c=r[u][a];l[r[u][a]]=n(c)}l[u]=n(u)}for(a=0;a<i.length;a++)l[i[a]]=n(i[a]);return l}function Ts(e,t,n){return n[t]!=null?n[t]:e.props[t]}function tB(e,t){return xw(e.children,function(n){return O.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Ts(n,"appear",e),enter:Ts(n,"enter",e),exit:Ts(n,"exit",e)})})}function nB(e,t,n){var r=xw(e.children),i=eB(t,r);return Object.keys(i).forEach(function(o){var a=i[o];if(O.isValidElement(a)){var l=o in t,u=o in r,c=t[o],d=O.isValidElement(c)&&!c.props.in;u&&(!l||d)?i[o]=O.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Ts(a,"exit",e),enter:Ts(a,"enter",e)}):!u&&l&&!d?i[o]=O.cloneElement(a,{in:!1}):u&&l&&O.isValidElement(c)&&(i[o]=O.cloneElement(a,{onExited:n.bind(null,a),in:c.props.in,exit:Ts(a,"exit",e),enter:Ts(a,"enter",e)}))}}),i}var rB=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},iB={component:"div",childFactory:function(t){return t}},ww=function(e){EC(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=o.handleExited.bind(Q5(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var a=o.children,l=o.handleExited,u=o.firstRender;return{children:u?tB(i,l):nB(i,a,l),firstRender:!1}},n.handleExited=function(i,o){var a=xw(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(l){var u=oe({},l.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,o=i.component,a=i.childFactory,l=xt(i,["component","childFactory"]),u=this.state.contextValue,c=rB(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,o===null?Ge.createElement(sm.Provider,{value:u},c):Ge.createElement(sm.Provider,{value:u},Ge.createElement(o,l,c))},t}(Ge.Component);ww.propTypes={};ww.defaultProps=iB;const oB=ww,AC=e=>e.scrollTop;function lm(e,t){var n,r;const{timeout:i,easing:o,style:a={}}=e;return{duration:(n=a.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:a.transitionDelay}}function aB(e){return Sr("MuiPaper",e)}Xn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const sB=["className","component","elevation","square","variant"],lB=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return jr(o,aB,i)},uB=Ut("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return oe({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&oe({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Zr("#fff",oM(t.elevation))}, ${Zr("#fff",oM(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),cB=O.forwardRef(function(t,n){const r=Er({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:a=1,square:l=!1,variant:u="elevation"}=r,c=xt(r,sB),d=oe({},r,{component:o,elevation:a,square:l,variant:u}),h=lB(d);return w.jsx(uB,oe({as:o,ownerState:d,className:It(h.root,i),ref:n},c))}),TC=cB;function fB(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:l,onExited:u,timeout:c}=e,[d,h]=O.useState(!1),p=It(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},g=It(n.child,d&&n.childLeaving,r&&n.childPulsate);return!l&&!d&&h(!0),O.useEffect(()=>{if(!l&&u!=null){const y=setTimeout(u,c);return()=>{clearTimeout(y)}}},[u,l,c]),w.jsx("span",{className:p,style:v,children:w.jsx("span",{className:g})})}const dB=Xn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),pi=dB,hB=["center","classes","className"];let pg=e=>e,lM,uM,cM,fM;const j_=550,pB=80,mB=Yd(lM||(lM=pg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),vB=Yd(uM||(uM=pg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),gB=Yd(cM||(cM=pg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),yB=Ut("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),_B=Ut(fB,{name:"MuiTouchRipple",slot:"Ripple"})(fM||(fM=pg`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),pi.rippleVisible,mB,j_,({theme:e})=>e.transitions.easing.easeInOut,pi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,pi.child,pi.childLeaving,vB,j_,({theme:e})=>e.transitions.easing.easeInOut,pi.childPulsate,gB,({theme:e})=>e.transitions.easing.easeInOut),xB=O.forwardRef(function(t,n){const r=Er({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a}=r,l=xt(r,hB),[u,c]=O.useState([]),d=O.useRef(0),h=O.useRef(null);O.useEffect(()=>{h.current&&(h.current(),h.current=null)},[u]);const p=O.useRef(!1),v=O.useRef(0),g=O.useRef(null),y=O.useRef(null);O.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[]);const M=O.useCallback(E=>{const{pulsate:A,rippleX:C,rippleY:P,rippleSize:R,cb:N}=E;c(F=>[...F,w.jsx(_B,{classes:{ripple:It(o.ripple,pi.ripple),rippleVisible:It(o.rippleVisible,pi.rippleVisible),ripplePulsate:It(o.ripplePulsate,pi.ripplePulsate),child:It(o.child,pi.child),childLeaving:It(o.childLeaving,pi.childLeaving),childPulsate:It(o.childPulsate,pi.childPulsate)},timeout:j_,pulsate:A,rippleX:C,rippleY:P,rippleSize:R},d.current)]),d.current+=1,h.current=N},[o]),_=O.useCallback((E={},A={},C=()=>{})=>{const{pulsate:P=!1,center:R=i||A.pulsate,fakeElement:N=!1}=A;if((E==null?void 0:E.type)==="mousedown"&&p.current){p.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(p.current=!0);const F=N?null:y.current,z=F?F.getBoundingClientRect():{width:0,height:0,left:0,top:0};let G,K,W;if(R||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)G=Math.round(z.width/2),K=Math.round(z.height/2);else{const{clientX:$,clientY:X}=E.touches&&E.touches.length>0?E.touches[0]:E;G=Math.round($-z.left),K=Math.round(X-z.top)}if(R)W=Math.sqrt((2*z.width**2+z.height**2)/3),W%2===0&&(W+=1);else{const $=Math.max(Math.abs((F?F.clientWidth:0)-G),G)*2+2,X=Math.max(Math.abs((F?F.clientHeight:0)-K),K)*2+2;W=Math.sqrt($**2+X**2)}E!=null&&E.touches?g.current===null&&(g.current=()=>{M({pulsate:P,rippleX:G,rippleY:K,rippleSize:W,cb:C})},v.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},pB)):M({pulsate:P,rippleX:G,rippleY:K,rippleSize:W,cb:C})},[i,M]),x=O.useCallback(()=>{_({},{pulsate:!0})},[_]),b=O.useCallback((E,A)=>{if(clearTimeout(v.current),(E==null?void 0:E.type)==="touchend"&&g.current){g.current(),g.current=null,v.current=setTimeout(()=>{b(E,A)});return}g.current=null,c(C=>C.length>0?C.slice(1):C),h.current=A},[]);return O.useImperativeHandle(n,()=>({pulsate:x,start:_,stop:b}),[x,_,b]),w.jsx(yB,oe({className:It(pi.root,o.root,a),ref:y},l,{children:w.jsx(oB,{component:null,exit:!0,children:u})}))}),wB=xB;function bB(e){return Sr("MuiButtonBase",e)}const SB=Xn("MuiButtonBase",["root","disabled","focusVisible"]),EB=SB,MB=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],AB=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,a=jr({root:["root",t&&"disabled",n&&"focusVisible"]},bB,i);return n&&r&&(a.root+=` ${r}`),a},TB=Ut("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${EB.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),PB=O.forwardRef(function(t,n){const r=Er({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:l,component:u="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:p=!1,LinkComponent:v="a",onBlur:g,onClick:y,onContextMenu:M,onDragLeave:_,onFocus:x,onFocusVisible:b,onKeyDown:E,onKeyUp:A,onMouseDown:C,onMouseLeave:P,onMouseUp:R,onTouchEnd:N,onTouchMove:F,onTouchStart:z,tabIndex:G=0,TouchRippleProps:K,touchRippleRef:W,type:$}=r,X=xt(r,MB),J=O.useRef(null),V=O.useRef(null),I=Ti(V,W),{isFocusVisibleRef:k,onFocus:q,onBlur:H,ref:ue}=ZP(),[Q,ne]=O.useState(!1);c&&Q&&ne(!1),O.useImperativeHandle(i,()=>({focusVisible:()=>{ne(!0),J.current.focus()}}),[]);const[re,ve]=O.useState(!1);O.useEffect(()=>{ve(!0)},[]);const xe=re&&!d&&!c;O.useEffect(()=>{Q&&p&&!d&&re&&V.current.pulsate()},[d,p,Q,re]);function ge(se,Me,Ye=h){return As(Re=>(Me&&Me(Re),!Ye&&V.current&&V.current[se](Re),!0))}const ae=ge("start",C),Te=ge("stop",M),ze=ge("stop",_),ye=ge("stop",R),qe=ge("stop",se=>{Q&&se.preventDefault(),P&&P(se)}),Ke=ge("start",z),Wt=ge("stop",N),Lt=ge("stop",F),an=ge("stop",se=>{H(se),k.current===!1&&ne(!1),g&&g(se)},!1),Nn=As(se=>{J.current||(J.current=se.currentTarget),q(se),k.current===!0&&(ne(!0),b&&b(se)),x&&x(se)}),Rt=()=>{const se=J.current;return u&&u!=="button"&&!(se.tagName==="A"&&se.href)},Nt=O.useRef(!1),Zt=As(se=>{p&&!Nt.current&&Q&&V.current&&se.key===" "&&(Nt.current=!0,V.current.stop(se,()=>{V.current.start(se)})),se.target===se.currentTarget&&Rt()&&se.key===" "&&se.preventDefault(),E&&E(se),se.target===se.currentTarget&&Rt()&&se.key==="Enter"&&!c&&(se.preventDefault(),y&&y(se))}),Ar=As(se=>{p&&se.key===" "&&V.current&&Q&&!se.defaultPrevented&&(Nt.current=!1,V.current.stop(se,()=>{V.current.pulsate(se)})),A&&A(se),y&&se.target===se.currentTarget&&Rt()&&se.key===" "&&!se.defaultPrevented&&y(se)});let gt=u;gt==="button"&&(X.href||X.to)&&(gt=v);const dn={};gt==="button"?(dn.type=$===void 0?"button":$,dn.disabled=c):(!X.href&&!X.to&&(dn.role="button"),c&&(dn["aria-disabled"]=c));const Je=Ti(n,ue,J),it=oe({},r,{centerRipple:o,component:u,disabled:c,disableRipple:d,disableTouchRipple:h,focusRipple:p,tabIndex:G,focusVisible:Q}),ee=AB(it);return w.jsxs(TB,oe({as:gt,className:It(ee.root,l),ownerState:it,onBlur:an,onClick:y,onContextMenu:Te,onFocus:Nn,onKeyDown:Zt,onKeyUp:Ar,onMouseDown:ae,onMouseLeave:qe,onMouseUp:ye,onDragLeave:ze,onTouchEnd:Wt,onTouchMove:Lt,onTouchStart:Ke,ref:Je,tabIndex:c?-1:G,type:$},dn,X,{children:[a,xe?w.jsx(wB,oe({ref:I,center:o},K)):null]}))}),bw=PB;function CB(e){return Sr("MuiAlert",e)}const LB=Xn("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),dM=LB;function RB(e){return Sr("MuiIconButton",e)}const OB=Xn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),NB=OB,kB=["edge","children","className","color","disabled","disableFocusRipple","size"],IB=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,a={root:["root",n&&"disabled",r!=="default"&&`color${bt(r)}`,i&&`edge${bt(i)}`,`size${bt(o)}`]};return jr(a,RB,t)},DB=Ut(bw,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${bt(n.color)}`],n.edge&&t[`edge${bt(n.edge)}`],t[`size${bt(n.size)}`]]}})(({theme:e,ownerState:t})=>oe({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Zr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return oe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&oe({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":oe({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zr(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${NB.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),FB=O.forwardRef(function(t,n){const r=Er({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:l="default",disabled:u=!1,disableFocusRipple:c=!1,size:d="medium"}=r,h=xt(r,kB),p=oe({},r,{edge:i,color:l,disabled:u,disableFocusRipple:c,size:d}),v=IB(p);return w.jsx(DB,oe({className:It(v.root,a),centerRipple:!0,focusRipple:!c,disabled:u,ref:n,ownerState:p},h,{children:o}))}),BB=FB,zB=Mr(w.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),UB=Mr(w.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),jB=Mr(w.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),HB=Mr(w.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),GB=Mr(w.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),VB=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],WB=e=>{const{variant:t,color:n,severity:r,classes:i}=e,o={root:["root",`${t}${bt(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return jr(o,CB,i)},$B=Ut(TC,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${bt(n.color||n.severity)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?F_:B_,r=e.palette.mode==="light"?B_:F_,i=t.color||t.severity;return oe({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&t.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${i}Color`]:n(e.palette[i].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${i}StandardBg`]:r(e.palette[i].light,.9),[`& .${dM.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:e.palette[i].main}},i&&t.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${i}Color`]:n(e.palette[i].light,.6),border:`1px solid ${(e.vars||e).palette[i].light}`,[`& .${dM.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:e.palette[i].main}},i&&t.variant==="filled"&&oe({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${i}FilledColor`],backgroundColor:e.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[i].dark:e.palette[i].main,color:e.palette.getContrastText(e.palette[i].main)}))}),YB=Ut("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ZB=Ut("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),hM=Ut("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),pM={success:w.jsx(zB,{fontSize:"inherit"}),warning:w.jsx(UB,{fontSize:"inherit"}),error:w.jsx(jB,{fontSize:"inherit"}),info:w.jsx(HB,{fontSize:"inherit"})},XB=O.forwardRef(function(t,n){var r,i,o,a,l,u;const c=Er({props:t,name:"MuiAlert"}),{action:d,children:h,className:p,closeText:v="Close",color:g,components:y={},componentsProps:M={},icon:_,iconMapping:x=pM,onClose:b,role:E="alert",severity:A="success",slotProps:C={},slots:P={},variant:R="standard"}=c,N=xt(c,VB),F=oe({},c,{color:g,severity:A,variant:R}),z=WB(F),G=(r=(i=P.closeButton)!=null?i:y.CloseButton)!=null?r:BB,K=(o=(a=P.closeIcon)!=null?a:y.CloseIcon)!=null?o:GB,W=(l=C.closeButton)!=null?l:M.closeButton,$=(u=C.closeIcon)!=null?u:M.closeIcon;return w.jsxs($B,oe({role:E,elevation:0,ownerState:F,className:It(z.root,p),ref:n},N,{children:[_!==!1?w.jsx(YB,{ownerState:F,className:z.icon,children:_||x[A]||pM[A]}):null,w.jsx(ZB,{ownerState:F,className:z.message,children:h}),d!=null?w.jsx(hM,{ownerState:F,className:z.action,children:d}):null,d==null&&b?w.jsx(hM,{ownerState:F,className:z.action,children:w.jsx(G,oe({size:"small","aria-label":v,title:v,color:"inherit",onClick:b},W,{children:w.jsx(K,oe({fontSize:"small"},$))}))}):null]}))}),H_=XB;function PC(e){return typeof e=="string"}function qB(e,t,n){return e===void 0||PC(e)?t:oe({},t,{ownerState:oe({},t.ownerState,n)})}function CC(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function KB(e,t,n){return typeof e=="function"?e(t,n):e}function mM(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function JB(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const v=It(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g=oe({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),y=oe({},n,i,r);return v.length>0&&(y.className=v),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:void 0}}const a=CC(oe({},i,r)),l=mM(r),u=mM(i),c=t(a),d=It(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),h=oe({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),p=oe({},c,n,u,l);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:c.ref}}const QB=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Mu(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,a=xt(e,QB),l=o?{}:KB(r,i),{props:u,internalRef:c}=JB(oe({},a,{externalSlotProps:l})),d=Ti(c,l==null?void 0:l.ref,(t=e.additionalProps)==null?void 0:t.ref);return qB(n,oe({},u,{ref:d}),i)}const ez=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function tz(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function nz(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function rz(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||nz(e))}function iz(e){const t=[],n=[];return Array.from(e.querySelectorAll(ez)).forEach((r,i)=>{const o=tz(r);o===-1||!rz(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function oz(){return!0}function az(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=iz,isEnabled:a=oz,open:l}=e,u=O.useRef(!1),c=O.useRef(null),d=O.useRef(null),h=O.useRef(null),p=O.useRef(null),v=O.useRef(!1),g=O.useRef(null),y=Ti(t.ref,g),M=O.useRef(null);O.useEffect(()=>{!l||!g.current||(v.current=!n)},[n,l]),O.useEffect(()=>{if(!l||!g.current)return;const b=Kr(g.current);return g.current.contains(b.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),v.current&&g.current.focus()),()=>{i||(h.current&&h.current.focus&&(u.current=!0,h.current.focus()),h.current=null)}},[l]),O.useEffect(()=>{if(!l||!g.current)return;const b=Kr(g.current),E=P=>{M.current=P,!(r||!a()||P.key!=="Tab")&&b.activeElement===g.current&&P.shiftKey&&(u.current=!0,d.current&&d.current.focus())},A=()=>{const P=g.current;if(P===null)return;if(!b.hasFocus()||!a()||u.current){u.current=!1;return}if(P.contains(b.activeElement)||r&&b.activeElement!==c.current&&b.activeElement!==d.current)return;if(b.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!v.current)return;let R=[];if((b.activeElement===c.current||b.activeElement===d.current)&&(R=o(g.current)),R.length>0){var N,F;const z=!!((N=M.current)!=null&&N.shiftKey&&((F=M.current)==null?void 0:F.key)==="Tab"),G=R[0],K=R[R.length-1];typeof G!="string"&&typeof K!="string"&&(z?K.focus():G.focus())}else P.focus()};b.addEventListener("focusin",A),b.addEventListener("keydown",E,!0);const C=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&A()},50);return()=>{clearInterval(C),b.removeEventListener("focusin",A),b.removeEventListener("keydown",E,!0)}},[n,r,i,a,l,o]);const _=b=>{h.current===null&&(h.current=b.relatedTarget),v.current=!0,p.current=b.target;const E=t.props.onFocus;E&&E(b)},x=b=>{h.current===null&&(h.current=b.relatedTarget),v.current=!0};return w.jsxs(O.Fragment,{children:[w.jsx("div",{tabIndex:l?0:-1,onFocus:x,ref:c,"data-testid":"sentinelStart"}),O.cloneElement(t,{ref:y,onFocus:_}),w.jsx("div",{tabIndex:l?0:-1,onFocus:x,ref:d,"data-testid":"sentinelEnd"})]})}function sz(e){return typeof e=="function"?e():e}const lz=O.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[a,l]=O.useState(null),u=Ti(O.isValidElement(r)?r.ref:null,n);if(Su(()=>{o||l(sz(i)||document.body)},[i,o]),Su(()=>{if(a&&!o)return nm(n,a),()=>{nm(n,null)}},[n,a,o]),o){if(O.isValidElement(r)){const c={ref:u};return O.cloneElement(r,c)}return w.jsx(O.Fragment,{children:r})}return w.jsx(O.Fragment,{children:a&&Ju.createPortal(r,a)})});function uz(e){const t=Kr(e);return t.body===e?bu(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function lf(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function vM(e){return parseInt(bu(e).getComputedStyle(e).paddingRight,10)||0}function cz(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function gM(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,a=>{const l=o.indexOf(a)===-1,u=!cz(a);l&&u&&lf(a,i)})}function t0(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function fz(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(uz(r)){const a=XP(Kr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${vM(r)+a}px`;const l=Kr(r).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${vM(u)+a}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Kr(r).body;else{const a=r.parentElement,l=bu(r);o=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:a,property:l})=>{o?a.style.setProperty(l,o):a.style.removeProperty(l)})}}function dz(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class hz{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&lf(t.modalRef,!1);const i=dz(n);gM(n,t.mount,t.modalRef,i,!0);const o=t0(this.containers,a=>a.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=t0(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=fz(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=t0(this.containers,a=>a.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&lf(t.modalRef,n),gM(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&lf(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function pz(e){return typeof e=="function"?e():e}function mz(e){return e?e.props.hasOwnProperty("in"):!1}const vz=new hz;function gz(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=vz,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:l,children:u,onClose:c,open:d,rootRef:h}=e,p=O.useRef({}),v=O.useRef(null),g=O.useRef(null),y=Ti(g,h),[M,_]=O.useState(!d),x=mz(u);let b=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(b=!1);const E=()=>Kr(v.current),A=()=>(p.current.modalRef=g.current,p.current.mount=v.current,p.current),C=()=>{i.mount(A(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},P=As(()=>{const X=pz(t)||E().body;i.add(A(),X),g.current&&C()}),R=O.useCallback(()=>i.isTopModal(A()),[i]),N=As(X=>{v.current=X,X&&(d&&R()?C():g.current&&lf(g.current,b))}),F=O.useCallback(()=>{i.remove(A(),b)},[b,i]);O.useEffect(()=>()=>{F()},[F]),O.useEffect(()=>{d?P():(!x||!o)&&F()},[d,F,x,o,P]);const z=X=>J=>{var V;(V=X.onKeyDown)==null||V.call(X,J),!(J.key!=="Escape"||J.which===229||!R())&&(n||(J.stopPropagation(),c&&c(J,"escapeKeyDown")))},G=X=>J=>{var V;(V=X.onClick)==null||V.call(X,J),J.target===J.currentTarget&&c&&c(J,"backdropClick")};return{getRootProps:(X={})=>{const J=CC(e);delete J.onTransitionEnter,delete J.onTransitionExited;const V=oe({},J,X);return oe({role:"presentation"},V,{onKeyDown:z(V),ref:y})},getBackdropProps:(X={})=>{const J=X;return oe({"aria-hidden":!0},J,{onClick:G(J),open:d})},getTransitionProps:()=>{const X=()=>{_(!1),a&&a()},J=()=>{_(!0),l&&l(),o&&F()};return{onEnter:O_(X,u==null?void 0:u.props.onEnter),onExited:O_(J,u==null?void 0:u.props.onExited)}},rootRef:y,portalRef:N,isTopModal:R,exited:M,hasTransition:x}}const yz=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],_z={entering:{opacity:1},entered:{opacity:1}},xz=O.forwardRef(function(t,n){const r=_w(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,easing:u,in:c,onEnter:d,onEntered:h,onEntering:p,onExit:v,onExited:g,onExiting:y,style:M,timeout:_=i,TransitionComponent:x=MC}=t,b=xt(t,yz),E=O.useRef(null),A=Ti(E,l.ref,n),C=W=>$=>{if(W){const X=E.current;$===void 0?W(X):W(X,$)}},P=C(p),R=C((W,$)=>{AC(W);const X=lm({style:M,timeout:_,easing:u},{mode:"enter"});W.style.webkitTransition=r.transitions.create("opacity",X),W.style.transition=r.transitions.create("opacity",X),d&&d(W,$)}),N=C(h),F=C(y),z=C(W=>{const $=lm({style:M,timeout:_,easing:u},{mode:"exit"});W.style.webkitTransition=r.transitions.create("opacity",$),W.style.transition=r.transitions.create("opacity",$),v&&v(W)}),G=C(g),K=W=>{o&&o(E.current,W)};return w.jsx(x,oe({appear:a,in:c,nodeRef:E,onEnter:R,onEntered:N,onEntering:P,onExit:z,onExited:G,onExiting:F,addEndListener:K,timeout:_},b,{children:(W,$)=>O.cloneElement(l,oe({style:oe({opacity:0,visibility:W==="exited"&&!c?"hidden":void 0},_z[W],M,l.props.style),ref:A},$))}))}),wz=xz;function bz(e){return Sr("MuiBackdrop",e)}Xn("MuiBackdrop",["root","invisible"]);const Sz=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ez=e=>{const{classes:t,invisible:n}=e;return jr({root:["root",n&&"invisible"]},bz,t)},Mz=Ut("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>oe({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),Az=O.forwardRef(function(t,n){var r,i,o;const a=Er({props:t,name:"MuiBackdrop"}),{children:l,className:u,component:c="div",components:d={},componentsProps:h={},invisible:p=!1,open:v,slotProps:g={},slots:y={},TransitionComponent:M=wz,transitionDuration:_}=a,x=xt(a,Sz),b=oe({},a,{component:c,invisible:p}),E=Ez(b),A=(r=g.root)!=null?r:h.root;return w.jsx(M,oe({in:v,timeout:_},x,{children:w.jsx(Mz,oe({"aria-hidden":!0},A,{as:(i=(o=y.root)!=null?o:d.Root)!=null?i:c,className:It(E.root,u,A==null?void 0:A.className),ownerState:oe({},b,A==null?void 0:A.ownerState),classes:E,ref:n,children:l}))}))}),LC=Az;function Tz(e){return Sr("MuiButton",e)}const Pz=Xn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),$h=Pz,Cz=O.createContext({}),Lz=Cz,Rz=O.createContext(void 0),Oz=Rz,Nz=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],kz=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=e,l={root:["root",o,`${o}${bt(t)}`,`size${bt(i)}`,`${o}Size${bt(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${bt(i)}`],endIcon:["endIcon",`iconSize${bt(i)}`]},u=jr(l,Tz,a);return oe({},a,u)},RC=e=>oe({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Iz=Ut(bw,{shouldForwardProp:e=>hg(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${bt(n.color)}`],t[`size${bt(n.size)}`],t[`${n.variant}Size${bt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return oe({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":oe({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Zr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":oe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${$h.focusVisible}`]:oe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${$h.disabled}`]:oe({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Zr(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${$h.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${$h.disabled}`]:{boxShadow:"none"}}),Dz=Ut("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${bt(n.size)}`]]}})(({ownerState:e})=>oe({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},RC(e))),Fz=Ut("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${bt(n.size)}`]]}})(({ownerState:e})=>oe({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},RC(e))),Bz=O.forwardRef(function(t,n){const r=O.useContext(Lz),i=O.useContext(Oz),o=tw(r,t),a=Er({props:o,name:"MuiButton"}),{children:l,color:u="primary",component:c="button",className:d,disabled:h=!1,disableElevation:p=!1,disableFocusRipple:v=!1,endIcon:g,focusVisibleClassName:y,fullWidth:M=!1,size:_="medium",startIcon:x,type:b,variant:E="text"}=a,A=xt(a,Nz),C=oe({},a,{color:u,component:c,disabled:h,disableElevation:p,disableFocusRipple:v,fullWidth:M,size:_,type:b,variant:E}),P=kz(C),R=x&&w.jsx(Dz,{className:P.startIcon,ownerState:C,children:x}),N=g&&w.jsx(Fz,{className:P.endIcon,ownerState:C,children:g}),F=i||"";return w.jsxs(Iz,oe({ownerState:C,className:It(r.className,P.root,d,F),component:c,disabled:h,focusRipple:!v,focusVisibleClassName:It(P.focusVisible,y),ref:n,type:b},A,{classes:P,children:[R,l,N]}))}),nr=Bz;function zz(e){return Sr("MuiCircularProgress",e)}Xn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Uz=["className","color","disableShrink","size","style","thickness","value","variant"];let mg=e=>e,yM,_M,xM,wM;const xa=44,jz=Yd(yM||(yM=mg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Hz=Yd(_M||(_M=mg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Gz=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${bt(r)}`],svg:["svg"],circle:["circle",`circle${bt(n)}`,i&&"circleDisableShrink"]};return jr(o,zz,t)},Vz=Ut("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${bt(n.color)}`]]}})(({ownerState:e,theme:t})=>oe({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&uw(xM||(xM=mg`
      animation: ${0} 1.4s linear infinite;
    `),jz)),Wz=Ut("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),$z=Ut("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${bt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>oe({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&uw(wM||(wM=mg`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Hz)),Yz=O.forwardRef(function(t,n){const r=Er({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:a=!1,size:l=40,style:u,thickness:c=3.6,value:d=0,variant:h="indeterminate"}=r,p=xt(r,Uz),v=oe({},r,{color:o,disableShrink:a,size:l,thickness:c,value:d,variant:h}),g=Gz(v),y={},M={},_={};if(h==="determinate"){const x=2*Math.PI*((xa-c)/2);y.strokeDasharray=x.toFixed(3),_["aria-valuenow"]=Math.round(d),y.strokeDashoffset=`${((100-d)/100*x).toFixed(3)}px`,M.transform="rotate(-90deg)"}return w.jsx(Vz,oe({className:It(g.root,i),style:oe({width:l,height:l},M,u),ownerState:v,ref:n,role:"progressbar"},_,p,{children:w.jsx(Wz,{className:g.svg,ownerState:v,viewBox:`${xa/2} ${xa/2} ${xa} ${xa}`,children:w.jsx($z,{className:g.circle,style:y,ownerState:v,cx:xa,cy:xa,r:(xa-c)/2,fill:"none",strokeWidth:c})})}))}),OC=Yz;function Zz(e){return Sr("MuiModal",e)}Xn("MuiModal",["root","hidden","backdrop"]);const Xz=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],qz=e=>{const{open:t,exited:n,classes:r}=e;return jr({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Zz,r)},Kz=Ut("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>oe({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),Jz=Ut(LC,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Qz=O.forwardRef(function(t,n){var r,i,o,a,l,u;const c=Er({name:"MuiModal",props:t}),{BackdropComponent:d=Jz,BackdropProps:h,className:p,closeAfterTransition:v=!1,children:g,container:y,component:M,components:_={},componentsProps:x={},disableAutoFocus:b=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:A=!1,disablePortal:C=!1,disableRestoreFocus:P=!1,disableScrollLock:R=!1,hideBackdrop:N=!1,keepMounted:F=!1,onBackdropClick:z,open:G,slotProps:K,slots:W}=c,$=xt(c,Xz),X=oe({},c,{closeAfterTransition:v,disableAutoFocus:b,disableEnforceFocus:E,disableEscapeKeyDown:A,disablePortal:C,disableRestoreFocus:P,disableScrollLock:R,hideBackdrop:N,keepMounted:F}),{getRootProps:J,getBackdropProps:V,getTransitionProps:I,portalRef:k,isTopModal:q,exited:H,hasTransition:ue}=gz(oe({},X,{rootRef:n})),Q=oe({},X,{exited:H}),ne=qz(Q),re={};if(g.props.tabIndex===void 0&&(re.tabIndex="-1"),ue){const{onEnter:ye,onExited:qe}=I();re.onEnter=ye,re.onExited=qe}const ve=(r=(i=W==null?void 0:W.root)!=null?i:_.Root)!=null?r:Kz,xe=(o=(a=W==null?void 0:W.backdrop)!=null?a:_.Backdrop)!=null?o:d,ge=(l=K==null?void 0:K.root)!=null?l:x.root,ae=(u=K==null?void 0:K.backdrop)!=null?u:x.backdrop,Te=Mu({elementType:ve,externalSlotProps:ge,externalForwardedProps:$,getSlotProps:J,additionalProps:{ref:n,as:M},ownerState:Q,className:It(p,ge==null?void 0:ge.className,ne==null?void 0:ne.root,!Q.open&&Q.exited&&(ne==null?void 0:ne.hidden))}),ze=Mu({elementType:xe,externalSlotProps:ae,additionalProps:h,getSlotProps:ye=>V(oe({},ye,{onClick:qe=>{z&&z(qe),ye!=null&&ye.onClick&&ye.onClick(qe)}})),className:It(ae==null?void 0:ae.className,h==null?void 0:h.className,ne==null?void 0:ne.backdrop),ownerState:Q});return!F&&!G&&(!ue||H)?null:w.jsx(lz,{ref:k,container:y,disablePortal:C,children:w.jsxs(ve,oe({},Te,{children:[!N&&d?w.jsx(xe,oe({},ze)):null,w.jsx(az,{disableEnforceFocus:E,disableAutoFocus:b,disableRestoreFocus:P,isEnabled:q,open:G,children:O.cloneElement(g,re)})]}))})}),eU=Qz;function tU(e){return Sr("MuiDivider",e)}const nU=Xn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),bM=nU,rU=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],iU=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:l,variant:u}=e;return jr({root:["root",t&&"absolute",u,o&&"light",a==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},tU,r)},oU=Ut("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>oe({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Zr(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>oe({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>oe({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>oe({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>oe({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),aU=Ut("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>oe({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),NC=O.forwardRef(function(t,n){const r=Er({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:a,component:l=o?"div":"hr",flexItem:u=!1,light:c=!1,orientation:d="horizontal",role:h=l!=="hr"?"separator":void 0,textAlign:p="center",variant:v="fullWidth"}=r,g=xt(r,rU),y=oe({},r,{absolute:i,component:l,flexItem:u,light:c,orientation:d,role:h,textAlign:p,variant:v}),M=iU(y);return w.jsx(oU,oe({as:l,className:It(M.root,a),role:h,ref:n,ownerState:y},g,{children:o?w.jsx(aU,{className:M.wrapper,ownerState:y,children:o}):null}))});NC.muiSkipListHighlight=!0;const um=NC,sU=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function G_(e){return`scale(${e}, ${e**2})`}const lU={entering:{opacity:1,transform:G_(1)},entered:{opacity:1,transform:"none"}},n0=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),kC=O.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:a,in:l,onEnter:u,onEntered:c,onEntering:d,onExit:h,onExited:p,onExiting:v,style:g,timeout:y="auto",TransitionComponent:M=MC}=t,_=xt(t,sU),x=O.useRef(),b=O.useRef(),E=_w(),A=O.useRef(null),C=Ti(A,o.ref,n),P=$=>X=>{if($){const J=A.current;X===void 0?$(J):$(J,X)}},R=P(d),N=P(($,X)=>{AC($);const{duration:J,delay:V,easing:I}=lm({style:g,timeout:y,easing:a},{mode:"enter"});let k;y==="auto"?(k=E.transitions.getAutoHeightDuration($.clientHeight),b.current=k):k=J,$.style.transition=[E.transitions.create("opacity",{duration:k,delay:V}),E.transitions.create("transform",{duration:n0?k:k*.666,delay:V,easing:I})].join(","),u&&u($,X)}),F=P(c),z=P(v),G=P($=>{const{duration:X,delay:J,easing:V}=lm({style:g,timeout:y,easing:a},{mode:"exit"});let I;y==="auto"?(I=E.transitions.getAutoHeightDuration($.clientHeight),b.current=I):I=X,$.style.transition=[E.transitions.create("opacity",{duration:I,delay:J}),E.transitions.create("transform",{duration:n0?I:I*.666,delay:n0?J:J||I*.333,easing:V})].join(","),$.style.opacity=0,$.style.transform=G_(.75),h&&h($)}),K=P(p),W=$=>{y==="auto"&&(x.current=setTimeout($,b.current||0)),r&&r(A.current,$)};return O.useEffect(()=>()=>{clearTimeout(x.current)},[]),w.jsx(M,oe({appear:i,in:l,nodeRef:A,onEnter:N,onEntered:F,onEntering:R,onExit:G,onExited:K,onExiting:z,addEndListener:W,timeout:y==="auto"?null:y},_,{children:($,X)=>O.cloneElement(o,oe({style:oe({opacity:0,transform:G_(.75),visibility:$==="exited"&&!l?"hidden":void 0},lU[$],g,o.props.style),ref:C},X))}))});kC.muiSupportAuto=!0;const uU=kC,cU=O.createContext({}),V_=cU;function fU(e){return Sr("MuiList",e)}Xn("MuiList",["root","padding","dense","subheader"]);const dU=["children","className","component","dense","disablePadding","subheader"],hU=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return jr({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},fU,t)},pU=Ut("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>oe({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),mU=O.forwardRef(function(t,n){const r=Er({props:t,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:l=!1,disablePadding:u=!1,subheader:c}=r,d=xt(r,dU),h=O.useMemo(()=>({dense:l}),[l]),p=oe({},r,{component:a,dense:l,disablePadding:u}),v=hU(p);return w.jsx(V_.Provider,{value:h,children:w.jsxs(pU,oe({as:a,className:It(v.root,o),ref:n,ownerState:p},d,{children:[c,i]}))})}),vU=mU,gU=Xn("MuiListItemIcon",["root","alignItemsFlexStart"]),SM=gU,yU=Xn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),EM=yU,_U=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function r0(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function MM(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function IC(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Nc(e,t,n,r,i,o){let a=!1,l=i(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(a)return!1;a=!0}const u=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!IC(l,o)||u)l=i(e,l,n);else return l.focus(),!0}return!1}const xU=O.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:l,disabledItemsFocusable:u=!1,disableListWrap:c=!1,onKeyDown:d,variant:h="selectedMenu"}=t,p=xt(t,_U),v=O.useRef(null),g=O.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Su(()=>{i&&v.current.focus()},[i]),O.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,E)=>{const A=!v.current.style.width;if(b.clientHeight<v.current.clientHeight&&A){const C=`${XP(Kr(b))}px`;v.current.style[E.direction==="rtl"?"paddingLeft":"paddingRight"]=C,v.current.style.width=`calc(100% + ${C})`}return v.current}}),[]);const y=b=>{const E=v.current,A=b.key,C=Kr(E).activeElement;if(A==="ArrowDown")b.preventDefault(),Nc(E,C,c,u,r0);else if(A==="ArrowUp")b.preventDefault(),Nc(E,C,c,u,MM);else if(A==="Home")b.preventDefault(),Nc(E,null,c,u,r0);else if(A==="End")b.preventDefault(),Nc(E,null,c,u,MM);else if(A.length===1){const P=g.current,R=A.toLowerCase(),N=performance.now();P.keys.length>0&&(N-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&R!==P.keys[0]&&(P.repeating=!1)),P.lastTime=N,P.keys.push(R);const F=C&&!P.repeating&&IC(C,P);P.previousKeyMatched&&(F||Nc(E,C,!1,u,r0,P))?b.preventDefault():P.previousKeyMatched=!1}d&&d(b)},M=Ti(v,n);let _=-1;O.Children.forEach(a,(b,E)=>{if(!O.isValidElement(b)){_===E&&(_+=1,_>=a.length&&(_=-1));return}b.props.disabled||(h==="selectedMenu"&&b.props.selected||_===-1)&&(_=E),_===E&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(_+=1,_>=a.length&&(_=-1))});const x=O.Children.map(a,(b,E)=>{if(E===_){const A={};return o&&(A.autoFocus=!0),b.props.tabIndex===void 0&&h==="selectedMenu"&&(A.tabIndex=0),O.cloneElement(b,A)}return b});return w.jsx(vU,oe({role:"menu",ref:M,className:l,onKeyDown:y,tabIndex:i?0:-1},p,{children:x}))}),wU=xU;function bU(e){return Sr("MuiPopover",e)}Xn("MuiPopover",["root","paper"]);const SU=["onEntering"],EU=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],MU=["slotProps"];function AM(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function TM(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function PM(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function i0(e){return typeof e=="function"?e():e}const AU=e=>{const{classes:t}=e;return jr({root:["root"],paper:["paper"]},bU,t)},TU=Ut(eU,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),DC=Ut(TC,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),PU=O.forwardRef(function(t,n){var r,i,o;const a=Er({props:t,name:"MuiPopover"}),{action:l,anchorEl:u,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:h="anchorEl",children:p,className:v,container:g,elevation:y=8,marginThreshold:M=16,open:_,PaperProps:x={},slots:b,slotProps:E,transformOrigin:A={vertical:"top",horizontal:"left"},TransitionComponent:C=uU,transitionDuration:P="auto",TransitionProps:{onEntering:R}={},disableScrollLock:N=!1}=a,F=xt(a.TransitionProps,SU),z=xt(a,EU),G=(r=E==null?void 0:E.paper)!=null?r:x,K=O.useRef(),W=Ti(K,G.ref),$=oe({},a,{anchorOrigin:c,anchorReference:h,elevation:y,marginThreshold:M,externalPaperSlotProps:G,transformOrigin:A,TransitionComponent:C,transitionDuration:P,TransitionProps:F}),X=AU($),J=O.useCallback(()=>{if(h==="anchorPosition")return d;const ye=i0(u),Ke=(ye&&ye.nodeType===1?ye:Kr(K.current).body).getBoundingClientRect();return{top:Ke.top+AM(Ke,c.vertical),left:Ke.left+TM(Ke,c.horizontal)}},[u,c.horizontal,c.vertical,d,h]),V=O.useCallback(ye=>({vertical:AM(ye,A.vertical),horizontal:TM(ye,A.horizontal)}),[A.horizontal,A.vertical]),I=O.useCallback(ye=>{const qe={width:ye.offsetWidth,height:ye.offsetHeight},Ke=V(qe);if(h==="none")return{top:null,left:null,transformOrigin:PM(Ke)};const Wt=J();let Lt=Wt.top-Ke.vertical,an=Wt.left-Ke.horizontal;const Nn=Lt+qe.height,Rt=an+qe.width,Nt=bu(i0(u)),Zt=Nt.innerHeight-M,Ar=Nt.innerWidth-M;if(M!==null&&Lt<M){const gt=Lt-M;Lt-=gt,Ke.vertical+=gt}else if(M!==null&&Nn>Zt){const gt=Nn-Zt;Lt-=gt,Ke.vertical+=gt}if(M!==null&&an<M){const gt=an-M;an-=gt,Ke.horizontal+=gt}else if(Rt>Ar){const gt=Rt-Ar;an-=gt,Ke.horizontal+=gt}return{top:`${Math.round(Lt)}px`,left:`${Math.round(an)}px`,transformOrigin:PM(Ke)}},[u,h,J,V,M]),[k,q]=O.useState(_),H=O.useCallback(()=>{const ye=K.current;if(!ye)return;const qe=I(ye);qe.top!==null&&(ye.style.top=qe.top),qe.left!==null&&(ye.style.left=qe.left),ye.style.transformOrigin=qe.transformOrigin,q(!0)},[I]);O.useEffect(()=>(N&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[u,N,H]);const ue=(ye,qe)=>{R&&R(ye,qe),H()},Q=()=>{q(!1)};O.useEffect(()=>{_&&H()}),O.useImperativeHandle(l,()=>_?{updatePosition:()=>{H()}}:null,[_,H]),O.useEffect(()=>{if(!_)return;const ye=YP(()=>{H()}),qe=bu(u);return qe.addEventListener("resize",ye),()=>{ye.clear(),qe.removeEventListener("resize",ye)}},[u,_,H]);let ne=P;P==="auto"&&!C.muiSupportAuto&&(ne=void 0);const re=g||(u?Kr(i0(u)).body:void 0),ve=(i=b==null?void 0:b.root)!=null?i:TU,xe=(o=b==null?void 0:b.paper)!=null?o:DC,ge=Mu({elementType:xe,externalSlotProps:oe({},G,{style:k?G.style:oe({},G.style,{opacity:0})}),additionalProps:{elevation:y,ref:W},ownerState:$,className:It(X.paper,G==null?void 0:G.className)}),ae=Mu({elementType:ve,externalSlotProps:(E==null?void 0:E.root)||{},externalForwardedProps:z,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:re,open:_},ownerState:$,className:It(X.root,v)}),{slotProps:Te}=ae,ze=xt(ae,MU);return w.jsx(ve,oe({},ze,!PC(ve)&&{slotProps:Te,disableScrollLock:N},{children:w.jsx(C,oe({appear:!0,in:_,onEntering:ue,onExited:Q,timeout:ne},F,{children:w.jsx(xe,oe({},ge,{children:p}))}))}))}),CU=PU;function LU(e){return Sr("MuiMenu",e)}Xn("MuiMenu",["root","paper","list"]);const RU=["onEntering"],OU=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],NU={vertical:"top",horizontal:"right"},kU={vertical:"top",horizontal:"left"},IU=e=>{const{classes:t}=e;return jr({root:["root"],paper:["paper"],list:["list"]},LU,t)},DU=Ut(CU,{shouldForwardProp:e=>hg(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),FU=Ut(DC,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),BU=Ut(wU,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),zU=O.forwardRef(function(t,n){var r,i;const o=Er({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:l,className:u,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:h,open:p,PaperProps:v={},PopoverClasses:g,transitionDuration:y="auto",TransitionProps:{onEntering:M}={},variant:_="selectedMenu",slots:x={},slotProps:b={}}=o,E=xt(o.TransitionProps,RU),A=xt(o,OU),C=_w(),P=C.direction==="rtl",R=oe({},o,{autoFocus:a,disableAutoFocusItem:c,MenuListProps:d,onEntering:M,PaperProps:v,transitionDuration:y,TransitionProps:E,variant:_}),N=IU(R),F=a&&!c&&p,z=O.useRef(null),G=(I,k)=>{z.current&&z.current.adjustStyleForScrollbar(I,C),M&&M(I,k)},K=I=>{I.key==="Tab"&&(I.preventDefault(),h&&h(I,"tabKeyDown"))};let W=-1;O.Children.map(l,(I,k)=>{O.isValidElement(I)&&(I.props.disabled||(_==="selectedMenu"&&I.props.selected||W===-1)&&(W=k))});const $=(r=x.paper)!=null?r:FU,X=(i=b.paper)!=null?i:v,J=Mu({elementType:x.root,externalSlotProps:b.root,ownerState:R,className:[N.root,u]}),V=Mu({elementType:$,externalSlotProps:X,ownerState:R,className:N.paper});return w.jsx(DU,oe({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?NU:kU,slots:{paper:$,root:x.root},slotProps:{root:J,paper:V},open:p,ref:n,transitionDuration:y,TransitionProps:oe({onEntering:G},E),ownerState:R},A,{classes:g,children:w.jsx(BU,oe({onKeyDown:K,actions:z,autoFocus:a&&(W===-1||c),autoFocusItem:F,variant:_},d,{className:It(N.list,d.className),children:l}))}))}),UU=zU;function jU(e){return Sr("MuiMenuItem",e)}const HU=Xn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),kc=HU,GU=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],VU=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},WU=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=e,u=jr({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},jU,a);return oe({},a,u)},$U=Ut(bw,{shouldForwardProp:e=>hg(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:VU})(({theme:e,ownerState:t})=>oe({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${kc.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Zr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${kc.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Zr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${kc.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Zr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Zr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${kc.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${kc.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${bM.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${bM.inset}`]:{marginLeft:52},[`& .${EM.root}`]:{marginTop:0,marginBottom:0},[`& .${EM.inset}`]:{paddingLeft:36},[`& .${SM.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&oe({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${SM.root} svg`]:{fontSize:"1.25rem"}}))),YU=O.forwardRef(function(t,n){const r=Er({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:a=!1,divider:l=!1,disableGutters:u=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:h,className:p}=r,v=xt(r,GU),g=O.useContext(V_),y=O.useMemo(()=>({dense:a||g.dense||!1,disableGutters:u}),[g.dense,a,u]),M=O.useRef(null);Su(()=>{i&&M.current&&M.current.focus()},[i]);const _=oe({},r,{dense:y.dense,divider:l,disableGutters:u}),x=WU(r),b=Ti(M,n);let E;return r.disabled||(E=h!==void 0?h:-1),w.jsx(V_.Provider,{value:y,children:w.jsx($U,oe({ref:b,role:d,tabIndex:E,component:o,focusVisibleClassName:It(x.focusVisible,c),className:It(x.root,p)},v,{ownerState:_,classes:x}))})}),qo=YU,FC=O.createContext(null),ZU=({children:e})=>{const[t,n]=O.useState(!1),[r,i]=O.useState(!1),[o,a]=O.useState(!1),[l,u]=O.useState(!1),[c,d]=O.useState(!1),[h,p]=O.useState(!1),[v,g]=O.useState(!1),[y,M]=O.useState(!1),[_,x]=O.useState(!1),[b,E]=O.useState(!1),[A,C]=O.useState({open:!1,text:"",time:0});function P(){(l||c)&&(u(!1),d(!1),Be("SetNuiFocus",{focused:!1},function(G){}),g(!1))}O.useEffect(()=>{const G=K=>{K.key==="Escape"&&P()};return E(!!localStorage.getItem("onlyusefront")),document.addEventListener("keydown",G),()=>{document.removeEventListener("keydown",G)}},[l,c]);function R(){if(r&&(i(!1),a(!1),n(!1)),l)u(!1),Be("SetNuiFocus",{focused:!1},function(G){}),g(!1);else{if(y)return;u(!0),Be("SetNuiFocus",{focused:!0},function(G){})}}function N(){b?(localStorage.removeItem("onlyusefront"),E(!1)):(localStorage.setItem("onlyusefront",!0),E(!0))}function F(){if(i(!1),a(!1),n(!1),u(!1),c)d(!1),Be("SetNuiFocus",{focused:!1},function(G){}),g(!1);else{if(y)return;d(!0),Be("SetNuiFocus",{focused:!0},function(G){})}}function z(G,K,W){if(G)C({open:!0,text:K,time:W});else{C({open:!1,text:"",time:0});return}}return Fn("ToggleSendToJailButton",G=>{x(G)}),Fn("jail_prompt",G=>{z(G.open,G.text,G.time)}),Fn("toggle_move_small",()=>{r&&(Be("SetNuiFocus",{focused:!0}),n(!t))}),Fn("toggle_small",G=>{if(!G.open){i(!1);return}y||i(!r)}),Fn("toggle_largue",G=>{if(!G.open){u(!1),Be("SetNuiFocus",{focused:!1},function(K){g(!1)});return}R()}),Fn("toggle_mdt",G=>{if(p(G.showBillsInMDT),!G.open){d(!1),Be("SetNuiFocus",{focused:!1},function(K){g(!1)});return}F()}),Fn("speed_radar",a),w.jsxs(FC.Provider,{value:{toggleOnlyFront:N,onlyFrontRadar:b,setBlockedOpen:M,ToggleMDT:F,ToggleLargue:R,mooving:t,setMooving:n,smallDispatch:r,setSmallDispatch:i,velocimeter:o,setVelocimeter:a,largueDispatch:l,setLargueDispatch:u,mdt:c,setMDT:d,mdtBills:h,loading:v,setLoading:g,jail:A,setJail:C,enabledJailButton:_,setEnableJailButton:x},children:[w.jsx(LC,{sx:{color:"#fff",zIndex:G=>G.zIndex.drawer+1},open:v,children:w.jsx(OC,{color:"inherit"})}),e]})},Ri=()=>O.useContext(FC),XU=""+new URL("bg-1c773d78.png",import.meta.url).href,BC=O.createContext(),qU=({children:e})=>{const[t,n]=O.useState({}),[r,i]=O.useState({}),o=a=>t.hasOwnProperty(a)?t[a]:a;return O.useEffect(()=>{const a=async()=>{await new Promise(u=>{Be("getLocales").then(c=>{n(c),u()})})},l=async()=>{await new Promise(u=>{Be("getConfigs").then(c=>{i(c),u()})})};a(),l()},[]),w.jsx(BC.Provider,{value:{t:o,gameconfig:r},children:e})},Jt=()=>O.useContext(BC),KU=()=>{const{velocimeter:e,largueDispatch:t,mdt:n,onlyFrontRadar:r}=Ri(),{gameconfig:i}=Jt(),[o,a]=O.useState(!1),[l,u]=O.useState({speed:"000",speedMph:"000",plate:"XXX-XXX",model:"Front Radar"}),[c,d]=O.useState({speed:"000",speedMph:"000",plate:"XXX-XXX",model:"Back Radar"});Fn("radarInfoFront",u),Fn("radarInfoBack",d),Fn("sirens",a);const h=(y,M)=>{const{x:_,y:x}=M;localStorage.setItem("velocityRadarPosition",JSON.stringify({x:_,y:x}))};let p=localStorage.getItem("velocityRadarPosition"),v=p?JSON.parse(p):null;if(!v){let y=window.innerWidth,M=window.innerHeight;v={x:Math.round(y*.8),y:Math.round(M*.32)}}const g={backgroundImage:`url('${(i==null?void 0:i.plateImage)??"https://cdn.discordapp.com/attachments/1042989146886656180/1140213637013844028/5012-AT_6_x_12.png"}')`};return e&&!t&&localStorage.getItem("ifseevelocimeter")==="true"&&!n?w.jsx(VP,{handle:"#radar",defaultPosition:v,bounds:"parent",onStop:h,children:w.jsxs("div",{style:{backgroundImage:`url(${XU})`,backgroundRepeat:"no-repeat",backgroundOrigin:"center",backgroundSize:"cover",backgroundColor:"#000",boxShadow:"0 0 0.1em 0.5vh #1e1e1f, 0 0 0 0.4em #d3cde4",borderRadius:"1vh"},className:`velocimeter w-[16.5vw] overflow-y-auto bg-gray-800/95 m-2  shadow-lg rounded-[1vh] overflow-hidden cursor-move select-none p-[1.5vh] ${o?"sirens":""}`,id:"radar",children:[w.jsx("table",{id:"radar_tabla",className:"w-[15vw]",children:w.jsxs("tr",{children:[w.jsx("td",{className:"text-white max-w-[10vw] p=[0.3vw] text-6xl font-[Adventure]",id:"velocidad",children:localStorage.getItem("isusingmph")===!0||localStorage.getItem("isusingmph")==="true"?l.speedMph:l.speed}),w.jsx("td",{className:"text-white p=[0.3vw] text-sm",children:localStorage.getItem("isusingmph")===!0||localStorage.getItem("isusingmph")==="true"?"Mph":"Km/h"}),w.jsx("br",{}),w.jsxs("td",{className:"m-2 text-white p-[0.3vw] text-sm",children:[w.jsxs("div",{style:{backgroundRepeat:"no-repeat",backgroundOrigin:"center",backgroundSize:"cover",...g},className:"font-[plate] rounded-md w-[8vw] text-black text-[2vh] 4k:text-[0.7vh] text-center",id:"plate",children:[w.jsx("br",{}),w.jsx("div",{className:"flex flex-col justify-center h-[5.3vh] pt-4 pb-4",children:w.jsx("p",{className:"text-[2vh]",children:l.plate})})]}),w.jsx("p",{className:"text-white p=[0.3vw] text-sm",id:"modelo",children:l.model})]})]})}),!r&&w.jsxs(w.Fragment,{children:[w.jsx("hr",{}),w.jsx("table",{id:"radar_tabla",className:"w-[15vw]",children:w.jsxs("tr",{children:[w.jsx("td",{className:"text-white p=[0.3vw] text-6xl font-[Adventure]",id:"velocidad",children:localStorage.getItem("isusingmph")===!0||localStorage.getItem("isusingmph")==="true"?c.speedMph:c.speed}),w.jsx("td",{className:"text-white p=[0.3vw] text-sm",children:localStorage.getItem("isusingmph")===!0||localStorage.getItem("isusingmph")==="true"?"Mph":"Km/h"}),w.jsx("br",{}),w.jsxs("td",{className:"m-2 text-white p-[0.3vw] text-sm",children:[w.jsxs("div",{style:{backgroundRepeat:"no-repeat",backgroundOrigin:"center",backgroundSize:"cover",...g},className:"font-[plate] rounded-md w-[8vw] text-black text-[2vh] 4k:text-[0.7vh] text-center",id:"plate",children:[w.jsx("br",{}),w.jsx("div",{className:"flex flex-col justify-center h-[5.3vh] pt-4 pb-4",children:w.jsxs("p",{className:"text-[2vh]",children:[c.plate," "]})})]}),w.jsx("p",{className:"text-white p=[0.3vw] text-sm",id:"modelo",children:c.model})]})]})})]})]})}):null};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var zC;function he(){return zC.apply(null,arguments)}function JU(e){zC=e}function qi(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ks(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function St(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Sw(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(St(e,t))return!1;return!0}function Lr(e){return e===void 0}function ra(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function qd(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function UC(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function La(e,t){for(var n in t)St(t,n)&&(e[n]=t[n]);return St(t,"toString")&&(e.toString=t.toString),St(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Lo(e,t,n,r){return cL(e,t,n,r,!0).utc()}function QU(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Qe(e){return e._pf==null&&(e._pf=QU()),e._pf}var W_;Array.prototype.some?W_=Array.prototype.some:W_=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Ew(e){if(e._isValid==null){var t=Qe(e),n=W_.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function vg(e){var t=Lo(NaN);return e!=null?La(Qe(t),e):Qe(t).userInvalidated=!0,t}var CM=he.momentProperties=[],o0=!1;function Mw(e,t){var n,r,i,o=CM.length;if(Lr(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Lr(t._i)||(e._i=t._i),Lr(t._f)||(e._f=t._f),Lr(t._l)||(e._l=t._l),Lr(t._strict)||(e._strict=t._strict),Lr(t._tzm)||(e._tzm=t._tzm),Lr(t._isUTC)||(e._isUTC=t._isUTC),Lr(t._offset)||(e._offset=t._offset),Lr(t._pf)||(e._pf=Qe(t)),Lr(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)r=CM[n],i=t[r],Lr(i)||(e[r]=i);return e}function Kd(e){Mw(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),o0===!1&&(o0=!0,he.updateOffset(this),o0=!1)}function Ki(e){return e instanceof Kd||e!=null&&e._isAMomentObject!=null}function jC(e){he.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Oi(e,t){var n=!0;return La(function(){if(he.deprecationHandler!=null&&he.deprecationHandler(null,e),n){var r=[],i,o,a,l=arguments.length;for(o=0;o<l;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(a in arguments[0])St(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}jC(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var LM={};function HC(e,t){he.deprecationHandler!=null&&he.deprecationHandler(e,t),LM[e]||(jC(t),LM[e]=!0)}he.suppressDeprecationWarnings=!1;he.deprecationHandler=null;function Ro(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function e8(e){var t,n;for(n in e)St(e,n)&&(t=e[n],Ro(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $_(e,t){var n=La({},e),r;for(r in t)St(t,r)&&(ks(e[r])&&ks(t[r])?(n[r]={},La(n[r],e[r]),La(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)St(e,r)&&!St(t,r)&&ks(e[r])&&(n[r]=La({},n[r]));return n}function Aw(e){e!=null&&this.set(e)}var Y_;Object.keys?Y_=Object.keys:Y_=function(e){var t,n=[];for(t in e)St(e,t)&&n.push(t);return n};var t8={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function n8(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Ro(r)?r.call(t,n):r}function _o(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Tw=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,a0={},au={};function De(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(au[e]=i),t&&(au[t[0]]=function(){return _o(i.apply(this,arguments),t[1],t[2])}),n&&(au[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function r8(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function i8(e){var t=e.match(Tw),n,r;for(n=0,r=t.length;n<r;n++)au[t[n]]?t[n]=au[t[n]]:t[n]=r8(t[n]);return function(i){var o="",a;for(a=0;a<r;a++)o+=Ro(t[a])?t[a].call(i,e):t[a];return o}}function Sp(e,t){return e.isValid()?(t=GC(t,e.localeData()),a0[t]=a0[t]||i8(t),a0[t](e)):e.localeData().invalidDate()}function GC(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(Yh.lastIndex=0;n>=0&&Yh.test(e);)e=e.replace(Yh,r),Yh.lastIndex=0,n-=1;return e}var o8={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function a8(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Tw).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var s8="Invalid date";function l8(){return this._invalidDate}var u8="%d",c8=/\d{1,2}/;function f8(e){return this._ordinal.replace("%d",e)}var d8={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function h8(e,t,n,r){var i=this._relativeTime[n];return Ro(i)?i(e,t,n,r):i.replace(/%d/i,e)}function p8(e,t){var n=this._relativeTime[e>0?"future":"past"];return Ro(n)?n(t):n.replace(/%s/i,t)}var uf={};function lr(e,t){var n=e.toLowerCase();uf[n]=uf[n+"s"]=uf[t]=e}function Ni(e){return typeof e=="string"?uf[e]||uf[e.toLowerCase()]:void 0}function Pw(e){var t={},n,r;for(r in e)St(e,r)&&(n=Ni(r),n&&(t[n]=e[r]));return t}var VC={};function ur(e,t){VC[e]=t}function m8(e){var t=[],n;for(n in e)St(e,n)&&t.push({unit:n,priority:VC[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function gg(e){return e%4===0&&e%100!==0||e%400===0}function yi(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function st(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=yi(t)),n}function ec(e,t){return function(n){return n!=null?(WC(this,e,n),he.updateOffset(this,t),this):cm(this,e)}}function cm(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function WC(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&gg(e.year())&&e.month()===1&&e.date()===29?(n=st(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Sg(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function v8(e){return e=Ni(e),Ro(this[e])?this[e]():this}function g8(e,t){if(typeof e=="object"){e=Pw(e);var n=m8(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=Ni(e),Ro(this[e]))return this[e](t);return this}var $C=/\d/,si=/\d\d/,YC=/\d{3}/,Cw=/\d{4}/,yg=/[+-]?\d{6}/,Qt=/\d\d?/,ZC=/\d\d\d\d?/,XC=/\d\d\d\d\d\d?/,_g=/\d{1,3}/,Lw=/\d{1,4}/,xg=/[+-]?\d{1,6}/,tc=/\d+/,wg=/[+-]?\d+/,y8=/Z|[+-]\d\d:?\d\d/gi,bg=/Z|[+-]\d\d(?::?\d\d)?/gi,_8=/[+-]?\d+(\.\d{1,3})?/,Jd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fm;fm={};function Ae(e,t,n){fm[e]=Ro(t)?t:function(r,i){return r&&n?n:t}}function x8(e,t){return St(fm,e)?fm[e](t._strict,t._locale):new RegExp(w8(e))}function w8(e){return Wr(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,o){return n||r||i||o}))}function Wr(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Z_={};function jt(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),ra(t)&&(r=function(o,a){a[t]=st(o)}),i=e.length,n=0;n<i;n++)Z_[e[n]]=r}function Qd(e,t){jt(e,function(n,r,i,o){i._w=i._w||{},t(n,i._w,i,o)})}function b8(e,t,n){t!=null&&St(Z_,e)&&Z_[e](t,n._a,n,e)}var rr=0,Yo=1,fo=2,On=3,Vi=4,Zo=5,Ps=6,S8=7,E8=8;function M8(e,t){return(e%t+t)%t}var wn;Array.prototype.indexOf?wn=Array.prototype.indexOf:wn=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Sg(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=M8(t,12);return e+=(t-n)/12,n===1?gg(e)?29:28:31-n%7%2}De("M",["MM",2],"Mo",function(){return this.month()+1});De("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});De("MMMM",0,0,function(e){return this.localeData().months(this,e)});lr("month","M");ur("month",8);Ae("M",Qt);Ae("MM",Qt,si);Ae("MMM",function(e,t){return t.monthsShortRegex(e)});Ae("MMMM",function(e,t){return t.monthsRegex(e)});jt(["M","MM"],function(e,t){t[Yo]=st(e)-1});jt(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Yo]=i:Qe(n).invalidMonth=e});var A8="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qC="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),KC=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,T8=Jd,P8=Jd;function C8(e,t){return e?qi(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||KC).test(t)?"format":"standalone"][e.month()]:qi(this._months)?this._months:this._months.standalone}function L8(e,t){return e?qi(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[KC.test(t)?"format":"standalone"][e.month()]:qi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function R8(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=Lo([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(i=wn.call(this._shortMonthsParse,a),i!==-1?i:null):(i=wn.call(this._longMonthsParse,a),i!==-1?i:null):t==="MMM"?(i=wn.call(this._shortMonthsParse,a),i!==-1?i:(i=wn.call(this._longMonthsParse,a),i!==-1?i:null)):(i=wn.call(this._longMonthsParse,a),i!==-1?i:(i=wn.call(this._shortMonthsParse,a),i!==-1?i:null))}function O8(e,t,n){var r,i,o;if(this._monthsParseExact)return R8.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Lo([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function JC(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=st(t);else if(t=e.localeData().monthsParse(t),!ra(t))return e}return n=Math.min(e.date(),Sg(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function QC(e){return e!=null?(JC(this,e),he.updateOffset(this,!0),this):cm(this,"Month")}function N8(){return Sg(this.year(),this.month())}function k8(e){return this._monthsParseExact?(St(this,"_monthsRegex")||eL.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(St(this,"_monthsShortRegex")||(this._monthsShortRegex=T8),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function I8(e){return this._monthsParseExact?(St(this,"_monthsRegex")||eL.call(this),e?this._monthsStrictRegex:this._monthsRegex):(St(this,"_monthsRegex")||(this._monthsRegex=P8),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function eL(){function e(a,l){return l.length-a.length}var t=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=Lo([2e3,i]),t.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=Wr(t[i]),n[i]=Wr(n[i]);for(i=0;i<24;i++)r[i]=Wr(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}De("Y",0,0,function(){var e=this.year();return e<=9999?_o(e,4):"+"+e});De(0,["YY",2],0,function(){return this.year()%100});De(0,["YYYY",4],0,"year");De(0,["YYYYY",5],0,"year");De(0,["YYYYYY",6,!0],0,"year");lr("year","y");ur("year",1);Ae("Y",wg);Ae("YY",Qt,si);Ae("YYYY",Lw,Cw);Ae("YYYYY",xg,yg);Ae("YYYYYY",xg,yg);jt(["YYYYY","YYYYYY"],rr);jt("YYYY",function(e,t){t[rr]=e.length===2?he.parseTwoDigitYear(e):st(e)});jt("YY",function(e,t){t[rr]=he.parseTwoDigitYear(e)});jt("Y",function(e,t){t[rr]=parseInt(e,10)});function cf(e){return gg(e)?366:365}he.parseTwoDigitYear=function(e){return st(e)+(st(e)>68?1900:2e3)};var tL=ec("FullYear",!0);function D8(){return gg(this.year())}function F8(e,t,n,r,i,o,a){var l;return e<100&&e>=0?(l=new Date(e+400,t,n,r,i,o,a),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,n,r,i,o,a),l}function Gf(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function dm(e,t,n){var r=7+t-n,i=(7+Gf(e,0,r).getUTCDay()-t)%7;return-i+r-1}function nL(e,t,n,r,i){var o=(7+n-r)%7,a=dm(e,r,i),l=1+7*(t-1)+o+a,u,c;return l<=0?(u=e-1,c=cf(u)+l):l>cf(e)?(u=e+1,c=l-cf(e)):(u=e,c=l),{year:u,dayOfYear:c}}function Vf(e,t,n){var r=dm(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,o,a;return i<1?(a=e.year()-1,o=i+Ko(a,t,n)):i>Ko(e.year(),t,n)?(o=i-Ko(e.year(),t,n),a=e.year()+1):(a=e.year(),o=i),{week:o,year:a}}function Ko(e,t,n){var r=dm(e,t,n),i=dm(e+1,t,n);return(cf(e)-r+i)/7}De("w",["ww",2],"wo","week");De("W",["WW",2],"Wo","isoWeek");lr("week","w");lr("isoWeek","W");ur("week",5);ur("isoWeek",5);Ae("w",Qt);Ae("ww",Qt,si);Ae("W",Qt);Ae("WW",Qt,si);Qd(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=st(e)});function B8(e){return Vf(e,this._week.dow,this._week.doy).week}var z8={dow:0,doy:6};function U8(){return this._week.dow}function j8(){return this._week.doy}function H8(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function G8(e){var t=Vf(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}De("d",0,"do","day");De("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});De("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});De("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});De("e",0,0,"weekday");De("E",0,0,"isoWeekday");lr("day","d");lr("weekday","e");lr("isoWeekday","E");ur("day",11);ur("weekday",11);ur("isoWeekday",11);Ae("d",Qt);Ae("e",Qt);Ae("E",Qt);Ae("dd",function(e,t){return t.weekdaysMinRegex(e)});Ae("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ae("dddd",function(e,t){return t.weekdaysRegex(e)});Qd(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:Qe(n).invalidWeekday=e});Qd(["d","e","E"],function(e,t,n,r){t[r]=st(e)});function V8(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function W8(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Rw(e,t){return e.slice(t,7).concat(e.slice(0,t))}var $8="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rL="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Y8="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Z8=Jd,X8=Jd,q8=Jd;function K8(e,t){var n=qi(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Rw(n,this._week.dow):e?n[e.day()]:n}function J8(e){return e===!0?Rw(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Q8(e){return e===!0?Rw(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function ej(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=Lo([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(i=wn.call(this._weekdaysParse,a),i!==-1?i:null):t==="ddd"?(i=wn.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=wn.call(this._minWeekdaysParse,a),i!==-1?i:null):t==="dddd"?(i=wn.call(this._weekdaysParse,a),i!==-1||(i=wn.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=wn.call(this._minWeekdaysParse,a),i!==-1?i:null)):t==="ddd"?(i=wn.call(this._shortWeekdaysParse,a),i!==-1||(i=wn.call(this._weekdaysParse,a),i!==-1)?i:(i=wn.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=wn.call(this._minWeekdaysParse,a),i!==-1||(i=wn.call(this._weekdaysParse,a),i!==-1)?i:(i=wn.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function tj(e,t,n){var r,i,o;if(this._weekdaysParseExact)return ej.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Lo([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function nj(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=V8(e,this.localeData()),this.add(e-t,"d")):t}function rj(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function ij(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=W8(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function oj(e){return this._weekdaysParseExact?(St(this,"_weekdaysRegex")||Ow.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(St(this,"_weekdaysRegex")||(this._weekdaysRegex=Z8),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function aj(e){return this._weekdaysParseExact?(St(this,"_weekdaysRegex")||Ow.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(St(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=X8),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function sj(e){return this._weekdaysParseExact?(St(this,"_weekdaysRegex")||Ow.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(St(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=q8),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ow(){function e(d,h){return h.length-d.length}var t=[],n=[],r=[],i=[],o,a,l,u,c;for(o=0;o<7;o++)a=Lo([2e3,1]).day(o),l=Wr(this.weekdaysMin(a,"")),u=Wr(this.weekdaysShort(a,"")),c=Wr(this.weekdays(a,"")),t.push(l),n.push(u),r.push(c),i.push(l),i.push(u),i.push(c);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Nw(){return this.hours()%12||12}function lj(){return this.hours()||24}De("H",["HH",2],0,"hour");De("h",["hh",2],0,Nw);De("k",["kk",2],0,lj);De("hmm",0,0,function(){return""+Nw.apply(this)+_o(this.minutes(),2)});De("hmmss",0,0,function(){return""+Nw.apply(this)+_o(this.minutes(),2)+_o(this.seconds(),2)});De("Hmm",0,0,function(){return""+this.hours()+_o(this.minutes(),2)});De("Hmmss",0,0,function(){return""+this.hours()+_o(this.minutes(),2)+_o(this.seconds(),2)});function iL(e,t){De(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}iL("a",!0);iL("A",!1);lr("hour","h");ur("hour",13);function oL(e,t){return t._meridiemParse}Ae("a",oL);Ae("A",oL);Ae("H",Qt);Ae("h",Qt);Ae("k",Qt);Ae("HH",Qt,si);Ae("hh",Qt,si);Ae("kk",Qt,si);Ae("hmm",ZC);Ae("hmmss",XC);Ae("Hmm",ZC);Ae("Hmmss",XC);jt(["H","HH"],On);jt(["k","kk"],function(e,t,n){var r=st(e);t[On]=r===24?0:r});jt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});jt(["h","hh"],function(e,t,n){t[On]=st(e),Qe(n).bigHour=!0});jt("hmm",function(e,t,n){var r=e.length-2;t[On]=st(e.substr(0,r)),t[Vi]=st(e.substr(r)),Qe(n).bigHour=!0});jt("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[On]=st(e.substr(0,r)),t[Vi]=st(e.substr(r,2)),t[Zo]=st(e.substr(i)),Qe(n).bigHour=!0});jt("Hmm",function(e,t,n){var r=e.length-2;t[On]=st(e.substr(0,r)),t[Vi]=st(e.substr(r))});jt("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[On]=st(e.substr(0,r)),t[Vi]=st(e.substr(r,2)),t[Zo]=st(e.substr(i))});function uj(e){return(e+"").toLowerCase().charAt(0)==="p"}var cj=/[ap]\.?m?\.?/i,fj=ec("Hours",!0);function dj(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var aL={calendar:t8,longDateFormat:o8,invalidDate:s8,ordinal:u8,dayOfMonthOrdinalParse:c8,relativeTime:d8,months:A8,monthsShort:qC,week:z8,weekdays:$8,weekdaysMin:Y8,weekdaysShort:rL,meridiemParse:cj},nn={},Ic={},Wf;function hj(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function RM(e){return e&&e.toLowerCase().replace("_","-")}function pj(e){for(var t=0,n,r,i,o;t<e.length;){for(o=RM(e[t]).split("-"),n=o.length,r=RM(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=Eg(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&hj(o,r)>=n-1)break;n--}t++}return Wf}function mj(e){return e.match("^[^/\\\\]*$")!=null}function Eg(e){var t=null,n;if(nn[e]===void 0&&typeof module<"u"&&module&&module.exports&&mj(e))try{t=Wf._abbr,n=require,n("./locale/"+e),Wa(t)}catch{nn[e]=null}return nn[e]}function Wa(e,t){var n;return e&&(Lr(t)?n=fa(e):n=kw(e,t),n?Wf=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Wf._abbr}function kw(e,t){if(t!==null){var n,r=aL;if(t.abbr=e,nn[e]!=null)HC("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=nn[e]._config;else if(t.parentLocale!=null)if(nn[t.parentLocale]!=null)r=nn[t.parentLocale]._config;else if(n=Eg(t.parentLocale),n!=null)r=n._config;else return Ic[t.parentLocale]||(Ic[t.parentLocale]=[]),Ic[t.parentLocale].push({name:e,config:t}),null;return nn[e]=new Aw($_(r,t)),Ic[e]&&Ic[e].forEach(function(i){kw(i.name,i.config)}),Wa(e),nn[e]}else return delete nn[e],null}function vj(e,t){if(t!=null){var n,r,i=aL;nn[e]!=null&&nn[e].parentLocale!=null?nn[e].set($_(nn[e]._config,t)):(r=Eg(e),r!=null&&(i=r._config),t=$_(i,t),r==null&&(t.abbr=e),n=new Aw(t),n.parentLocale=nn[e],nn[e]=n),Wa(e)}else nn[e]!=null&&(nn[e].parentLocale!=null?(nn[e]=nn[e].parentLocale,e===Wa()&&Wa(e)):nn[e]!=null&&delete nn[e]);return nn[e]}function fa(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Wf;if(!qi(e)){if(t=Eg(e),t)return t;e=[e]}return pj(e)}function gj(){return Y_(nn)}function Iw(e){var t,n=e._a;return n&&Qe(e).overflow===-2&&(t=n[Yo]<0||n[Yo]>11?Yo:n[fo]<1||n[fo]>Sg(n[rr],n[Yo])?fo:n[On]<0||n[On]>24||n[On]===24&&(n[Vi]!==0||n[Zo]!==0||n[Ps]!==0)?On:n[Vi]<0||n[Vi]>59?Vi:n[Zo]<0||n[Zo]>59?Zo:n[Ps]<0||n[Ps]>999?Ps:-1,Qe(e)._overflowDayOfYear&&(t<rr||t>fo)&&(t=fo),Qe(e)._overflowWeeks&&t===-1&&(t=S8),Qe(e)._overflowWeekday&&t===-1&&(t=E8),Qe(e).overflow=t),e}var yj=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_j=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xj=/Z|[+-]\d\d(?::?\d\d)?/,Zh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],s0=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wj=/^\/?Date\((-?\d+)/i,bj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Sj={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function sL(e){var t,n,r=e._i,i=yj.exec(r)||_j.exec(r),o,a,l,u,c=Zh.length,d=s0.length;if(i){for(Qe(e).iso=!0,t=0,n=c;t<n;t++)if(Zh[t][1].exec(i[1])){a=Zh[t][0],o=Zh[t][2]!==!1;break}if(a==null){e._isValid=!1;return}if(i[3]){for(t=0,n=d;t<n;t++)if(s0[t][1].exec(i[3])){l=(i[2]||" ")+s0[t][0];break}if(l==null){e._isValid=!1;return}}if(!o&&l!=null){e._isValid=!1;return}if(i[4])if(xj.exec(i[4]))u="Z";else{e._isValid=!1;return}e._f=a+(l||"")+(u||""),Fw(e)}else e._isValid=!1}function Ej(e,t,n,r,i,o){var a=[Mj(e),qC.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function Mj(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Aj(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Tj(e,t,n){if(e){var r=rL.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return Qe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Pj(e,t,n){if(e)return Sj[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function lL(e){var t=bj.exec(Aj(e._i)),n;if(t){if(n=Ej(t[4],t[3],t[2],t[5],t[6],t[7]),!Tj(t[1],n,e))return;e._a=n,e._tzm=Pj(t[8],t[9],t[10]),e._d=Gf.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Qe(e).rfc2822=!0}else e._isValid=!1}function Cj(e){var t=wj.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(sL(e),e._isValid===!1)delete e._isValid;else return;if(lL(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:he.createFromInputFallback(e)}he.createFromInputFallback=Oi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function kl(e,t,n){return e??t??n}function Lj(e){var t=new Date(he.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Dw(e){var t,n,r=[],i,o,a;if(!e._d){for(i=Lj(e),e._w&&e._a[fo]==null&&e._a[Yo]==null&&Rj(e),e._dayOfYear!=null&&(a=kl(e._a[rr],i[rr]),(e._dayOfYear>cf(a)||e._dayOfYear===0)&&(Qe(e)._overflowDayOfYear=!0),n=Gf(a,0,e._dayOfYear),e._a[Yo]=n.getUTCMonth(),e._a[fo]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[On]===24&&e._a[Vi]===0&&e._a[Zo]===0&&e._a[Ps]===0&&(e._nextDay=!0,e._a[On]=0),e._d=(e._useUTC?Gf:F8).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[On]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(Qe(e).weekdayMismatch=!0)}}function Rj(e){var t,n,r,i,o,a,l,u,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,a=4,n=kl(t.GG,e._a[rr],Vf(Kt(),1,4).year),r=kl(t.W,1),i=kl(t.E,1),(i<1||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,c=Vf(Kt(),o,a),n=kl(t.gg,e._a[rr],c.year),r=kl(t.w,c.week),t.d!=null?(i=t.d,(i<0||i>6)&&(u=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>Ko(n,o,a)?Qe(e)._overflowWeeks=!0:u!=null?Qe(e)._overflowWeekday=!0:(l=nL(n,r,i,o,a),e._a[rr]=l.year,e._dayOfYear=l.dayOfYear)}he.ISO_8601=function(){};he.RFC_2822=function(){};function Fw(e){if(e._f===he.ISO_8601){sL(e);return}if(e._f===he.RFC_2822){lL(e);return}e._a=[],Qe(e).empty=!0;var t=""+e._i,n,r,i,o,a,l=t.length,u=0,c,d;for(i=GC(e._f,e._locale).match(Tw)||[],d=i.length,n=0;n<d;n++)o=i[n],r=(t.match(x8(o,e))||[])[0],r&&(a=t.substr(0,t.indexOf(r)),a.length>0&&Qe(e).unusedInput.push(a),t=t.slice(t.indexOf(r)+r.length),u+=r.length),au[o]?(r?Qe(e).empty=!1:Qe(e).unusedTokens.push(o),b8(o,r,e)):e._strict&&!r&&Qe(e).unusedTokens.push(o);Qe(e).charsLeftOver=l-u,t.length>0&&Qe(e).unusedInput.push(t),e._a[On]<=12&&Qe(e).bigHour===!0&&e._a[On]>0&&(Qe(e).bigHour=void 0),Qe(e).parsedDateParts=e._a.slice(0),Qe(e).meridiem=e._meridiem,e._a[On]=Oj(e._locale,e._a[On],e._meridiem),c=Qe(e).era,c!==null&&(e._a[rr]=e._locale.erasConvertYear(c,e._a[rr])),Dw(e),Iw(e)}function Oj(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function Nj(e){var t,n,r,i,o,a,l=!1,u=e._f.length;if(u===0){Qe(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<u;i++)o=0,a=!1,t=Mw({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],Fw(t),Ew(t)&&(a=!0),o+=Qe(t).charsLeftOver,o+=Qe(t).unusedTokens.length*10,Qe(t).score=o,l?o<r&&(r=o,n=t):(r==null||o<r||a)&&(r=o,n=t,a&&(l=!0));La(e,n||t)}function kj(e){if(!e._d){var t=Pw(e._i),n=t.day===void 0?t.date:t.day;e._a=UC([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),Dw(e)}}function Ij(e){var t=new Kd(Iw(uL(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function uL(e){var t=e._i,n=e._f;return e._locale=e._locale||fa(e._l),t===null||n===void 0&&t===""?vg({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ki(t)?new Kd(Iw(t)):(qd(t)?e._d=t:qi(n)?Nj(e):n?Fw(e):Dj(e),Ew(e)||(e._d=null),e))}function Dj(e){var t=e._i;Lr(t)?e._d=new Date(he.now()):qd(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Cj(e):qi(t)?(e._a=UC(t.slice(0),function(n){return parseInt(n,10)}),Dw(e)):ks(t)?kj(e):ra(t)?e._d=new Date(t):he.createFromInputFallback(e)}function cL(e,t,n,r,i){var o={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ks(e)&&Sw(e)||qi(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Ij(o)}function Kt(e,t,n,r){return cL(e,t,n,r,!1)}var Fj=Oi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:vg()}),Bj=Oi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:vg()});function fL(e,t){var n,r;if(t.length===1&&qi(t[0])&&(t=t[0]),!t.length)return Kt();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function zj(){var e=[].slice.call(arguments,0);return fL("isBefore",e)}function Uj(){var e=[].slice.call(arguments,0);return fL("isAfter",e)}var jj=function(){return Date.now?Date.now():+new Date},Dc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Hj(e){var t,n=!1,r,i=Dc.length;for(t in e)if(St(e,t)&&!(wn.call(Dc,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Dc[r]]){if(n)return!1;parseFloat(e[Dc[r]])!==st(e[Dc[r]])&&(n=!0)}return!0}function Gj(){return this._isValid}function Vj(){return eo(NaN)}function Mg(e){var t=Pw(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=Hj(t),this._milliseconds=+d+c*1e3+u*6e4+l*1e3*60*60,this._days=+a+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=fa(),this._bubble()}function Ep(e){return e instanceof Mg}function X_(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Wj(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,a;for(a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&st(e[a])!==st(t[a]))&&o++;return o+i}function dL(e,t){De(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+_o(~~(n/60),2)+t+_o(~~n%60,2)})}dL("Z",":");dL("ZZ","");Ae("Z",bg);Ae("ZZ",bg);jt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Bw(bg,e)});var $j=/([\+\-]|\d\d)/gi;function Bw(e,t){var n=(t||"").match(e),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match($j)||["-",0,0],o=+(i[1]*60)+st(i[2]),o===0?0:i[0]==="+"?o:-o)}function zw(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Ki(e)||qd(e)?e.valueOf():Kt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),he.updateOffset(n,!1),n):Kt(e).local()}function q_(e){return-Math.round(e._d.getTimezoneOffset())}he.updateOffset=function(){};function Yj(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Bw(bg,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=q_(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?mL(this,eo(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,he.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:q_(this)}function Zj(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Xj(e){return this.utcOffset(0,e)}function qj(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(q_(this),"m")),this}function Kj(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Bw(y8,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Jj(e){return this.isValid()?(e=e?Kt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Qj(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function e6(){if(!Lr(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Mw(e,this),e=uL(e),e._a?(t=e._isUTC?Lo(e._a):Kt(e._a),this._isDSTShifted=this.isValid()&&Wj(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function t6(){return this.isValid()?!this._isUTC:!1}function n6(){return this.isValid()?this._isUTC:!1}function hL(){return this.isValid()?this._isUTC&&this._offset===0:!1}var r6=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,i6=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function eo(e,t){var n=e,r=null,i,o,a;return Ep(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:ra(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=r6.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:st(r[fo])*i,h:st(r[On])*i,m:st(r[Vi])*i,s:st(r[Zo])*i,ms:st(X_(r[Ps]*1e3))*i}):(r=i6.exec(e))?(i=r[1]==="-"?-1:1,n={y:gs(r[2],i),M:gs(r[3],i),w:gs(r[4],i),d:gs(r[5],i),h:gs(r[6],i),m:gs(r[7],i),s:gs(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=o6(Kt(n.from),Kt(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),o=new Mg(n),Ep(e)&&St(e,"_locale")&&(o._locale=e._locale),Ep(e)&&St(e,"_isValid")&&(o._isValid=e._isValid),o}eo.fn=Mg.prototype;eo.invalid=Vj;function gs(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function OM(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function o6(e,t){var n;return e.isValid()&&t.isValid()?(t=zw(t,e),e.isBefore(t)?n=OM(e,t):(n=OM(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function pL(e,t){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(HC(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=eo(n,r),mL(this,i,e),this}}function mL(e,t,n,r){var i=t._milliseconds,o=X_(t._days),a=X_(t._months);e.isValid()&&(r=r??!0,a&&JC(e,cm(e,"Month")+a*n),o&&WC(e,"Date",cm(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&he.updateOffset(e,o||a))}var a6=pL(1,"add"),s6=pL(-1,"subtract");function vL(e){return typeof e=="string"||e instanceof String}function l6(e){return Ki(e)||qd(e)||vL(e)||ra(e)||c6(e)||u6(e)||e===null||e===void 0}function u6(e){var t=ks(e)&&!Sw(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,a=r.length;for(i=0;i<a;i+=1)o=r[i],n=n||St(e,o);return t&&n}function c6(e){var t=qi(e),n=!1;return t&&(n=e.filter(function(r){return!ra(r)&&vL(e)}).length===0),t&&n}function f6(e){var t=ks(e)&&!Sw(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||St(e,o);return t&&n}function d6(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function h6(e,t){arguments.length===1&&(arguments[0]?l6(arguments[0])?(e=arguments[0],t=void 0):f6(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kt(),r=zw(n,this).startOf("day"),i=he.calendarFormat(this,r)||"sameElse",o=t&&(Ro(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Kt(n)))}function p6(){return new Kd(this)}function m6(e,t){var n=Ki(e)?e:Kt(e);return this.isValid()&&n.isValid()?(t=Ni(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function v6(e,t){var n=Ki(e)?e:Kt(e);return this.isValid()&&n.isValid()?(t=Ni(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function g6(e,t,n,r){var i=Ki(e)?e:Kt(e),o=Ki(t)?t:Kt(t);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function y6(e,t){var n=Ki(e)?e:Kt(e),r;return this.isValid()&&n.isValid()?(t=Ni(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function _6(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function x6(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function w6(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=zw(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=Ni(t),t){case"year":o=Mp(this,r)/12;break;case"month":o=Mp(this,r);break;case"quarter":o=Mp(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:yi(o)}function Mp(e,t){if(e.date()<t.date())return-Mp(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,o;return t-r<0?(i=e.clone().add(n-1,"months"),o=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),o=(t-r)/(i-r)),-(n+o)||0}he.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";he.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function b6(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function S6(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Sp(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ro(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Sp(n,"Z")):Sp(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function E6(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+r+i+o)}function M6(e){e||(e=this.isUtc()?he.defaultFormatUtc:he.defaultFormat);var t=Sp(this,e);return this.localeData().postformat(t)}function A6(e,t){return this.isValid()&&(Ki(e)&&e.isValid()||Kt(e).isValid())?eo({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function T6(e){return this.from(Kt(),e)}function P6(e,t){return this.isValid()&&(Ki(e)&&e.isValid()||Kt(e).isValid())?eo({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function C6(e){return this.to(Kt(),e)}function gL(e){var t;return e===void 0?this._locale._abbr:(t=fa(e),t!=null&&(this._locale=t),this)}var yL=Oi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function _L(){return this._locale}var hm=1e3,su=60*hm,pm=60*su,xL=(365*400+97)*24*pm;function lu(e,t){return(e%t+t)%t}function wL(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-xL:new Date(e,t,n).valueOf()}function bL(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-xL:Date.UTC(e,t,n)}function L6(e){var t,n;if(e=Ni(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?bL:wL,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=lu(t+(this._isUTC?0:this.utcOffset()*su),pm);break;case"minute":t=this._d.valueOf(),t-=lu(t,su);break;case"second":t=this._d.valueOf(),t-=lu(t,hm);break}return this._d.setTime(t),he.updateOffset(this,!0),this}function R6(e){var t,n;if(e=Ni(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?bL:wL,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=pm-lu(t+(this._isUTC?0:this.utcOffset()*su),pm)-1;break;case"minute":t=this._d.valueOf(),t+=su-lu(t,su)-1;break;case"second":t=this._d.valueOf(),t+=hm-lu(t,hm)-1;break}return this._d.setTime(t),he.updateOffset(this,!0),this}function O6(){return this._d.valueOf()-(this._offset||0)*6e4}function N6(){return Math.floor(this.valueOf()/1e3)}function k6(){return new Date(this.valueOf())}function I6(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function D6(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function F6(){return this.isValid()?this.toISOString():null}function B6(){return Ew(this)}function z6(){return La({},Qe(this))}function U6(){return Qe(this).overflow}function j6(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}De("N",0,0,"eraAbbr");De("NN",0,0,"eraAbbr");De("NNN",0,0,"eraAbbr");De("NNNN",0,0,"eraName");De("NNNNN",0,0,"eraNarrow");De("y",["y",1],"yo","eraYear");De("y",["yy",2],0,"eraYear");De("y",["yyy",3],0,"eraYear");De("y",["yyyy",4],0,"eraYear");Ae("N",Uw);Ae("NN",Uw);Ae("NNN",Uw);Ae("NNNN",J6);Ae("NNNNN",Q6);jt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?Qe(n).era=i:Qe(n).invalidEra=e});Ae("y",tc);Ae("yy",tc);Ae("yyy",tc);Ae("yyyy",tc);Ae("yo",eH);jt(["y","yy","yyy","yyyy"],rr);jt(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[rr]=n._locale.eraYearOrdinalParse(e,i):t[rr]=parseInt(e,10)});function H6(e,t){var n,r,i,o=this._eras||fa("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=he(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=he(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function G6(e,t,n){var r,i,o=this.eras(),a,l,u;for(e=e.toUpperCase(),r=0,i=o.length;r<i;++r)if(a=o[r].name.toUpperCase(),l=o[r].abbr.toUpperCase(),u=o[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(l===e)return o[r];break;case"NNNN":if(a===e)return o[r];break;case"NNNNN":if(u===e)return o[r];break}else if([a,l,u].indexOf(e)>=0)return o[r]}function V6(e,t){var n=e.since<=e.until?1:-1;return t===void 0?he(e.since).year():he(e.since).year()+(t-e.offset)*n}function W6(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function $6(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function Y6(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function Z6(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-he(i[e].since).year())*n+i[e].offset;return this.year()}function X6(e){return St(this,"_erasNameRegex")||jw.call(this),e?this._erasNameRegex:this._erasRegex}function q6(e){return St(this,"_erasAbbrRegex")||jw.call(this),e?this._erasAbbrRegex:this._erasRegex}function K6(e){return St(this,"_erasNarrowRegex")||jw.call(this),e?this._erasNarrowRegex:this._erasRegex}function Uw(e,t){return t.erasAbbrRegex(e)}function J6(e,t){return t.erasNameRegex(e)}function Q6(e,t){return t.erasNarrowRegex(e)}function eH(e,t){return t._eraYearOrdinalRegex||tc}function jw(){var e=[],t=[],n=[],r=[],i,o,a=this.eras();for(i=0,o=a.length;i<o;++i)t.push(Wr(a[i].name)),e.push(Wr(a[i].abbr)),n.push(Wr(a[i].narrow)),r.push(Wr(a[i].name)),r.push(Wr(a[i].abbr)),r.push(Wr(a[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}De(0,["gg",2],0,function(){return this.weekYear()%100});De(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ag(e,t){De(0,[e,e.length],0,t)}Ag("gggg","weekYear");Ag("ggggg","weekYear");Ag("GGGG","isoWeekYear");Ag("GGGGG","isoWeekYear");lr("weekYear","gg");lr("isoWeekYear","GG");ur("weekYear",1);ur("isoWeekYear",1);Ae("G",wg);Ae("g",wg);Ae("GG",Qt,si);Ae("gg",Qt,si);Ae("GGGG",Lw,Cw);Ae("gggg",Lw,Cw);Ae("GGGGG",xg,yg);Ae("ggggg",xg,yg);Qd(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=st(e)});Qd(["gg","GG"],function(e,t,n,r){t[r]=he.parseTwoDigitYear(e)});function tH(e){return SL.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function nH(e){return SL.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function rH(){return Ko(this.year(),1,4)}function iH(){return Ko(this.isoWeekYear(),1,4)}function oH(){var e=this.localeData()._week;return Ko(this.year(),e.dow,e.doy)}function aH(){var e=this.localeData()._week;return Ko(this.weekYear(),e.dow,e.doy)}function SL(e,t,n,r,i){var o;return e==null?Vf(this,r,i).year:(o=Ko(e,r,i),t>o&&(t=o),sH.call(this,e,t,n,r,i))}function sH(e,t,n,r,i){var o=nL(e,t,n,r,i),a=Gf(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}De("Q",0,"Qo","quarter");lr("quarter","Q");ur("quarter",7);Ae("Q",$C);jt("Q",function(e,t){t[Yo]=(st(e)-1)*3});function lH(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}De("D",["DD",2],"Do","date");lr("date","D");ur("date",9);Ae("D",Qt);Ae("DD",Qt,si);Ae("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});jt(["D","DD"],fo);jt("Do",function(e,t){t[fo]=st(e.match(Qt)[0])});var EL=ec("Date",!0);De("DDD",["DDDD",3],"DDDo","dayOfYear");lr("dayOfYear","DDD");ur("dayOfYear",4);Ae("DDD",_g);Ae("DDDD",YC);jt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=st(e)});function uH(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}De("m",["mm",2],0,"minute");lr("minute","m");ur("minute",14);Ae("m",Qt);Ae("mm",Qt,si);jt(["m","mm"],Vi);var cH=ec("Minutes",!1);De("s",["ss",2],0,"second");lr("second","s");ur("second",15);Ae("s",Qt);Ae("ss",Qt,si);jt(["s","ss"],Zo);var fH=ec("Seconds",!1);De("S",0,0,function(){return~~(this.millisecond()/100)});De(0,["SS",2],0,function(){return~~(this.millisecond()/10)});De(0,["SSS",3],0,"millisecond");De(0,["SSSS",4],0,function(){return this.millisecond()*10});De(0,["SSSSS",5],0,function(){return this.millisecond()*100});De(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});De(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});De(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});De(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});lr("millisecond","ms");ur("millisecond",16);Ae("S",_g,$C);Ae("SS",_g,si);Ae("SSS",_g,YC);var Ra,ML;for(Ra="SSSS";Ra.length<=9;Ra+="S")Ae(Ra,tc);function dH(e,t){t[Ps]=st(("0."+e)*1e3)}for(Ra="S";Ra.length<=9;Ra+="S")jt(Ra,dH);ML=ec("Milliseconds",!1);De("z",0,0,"zoneAbbr");De("zz",0,0,"zoneName");function hH(){return this._isUTC?"UTC":""}function pH(){return this._isUTC?"Coordinated Universal Time":""}var me=Kd.prototype;me.add=a6;me.calendar=h6;me.clone=p6;me.diff=w6;me.endOf=R6;me.format=M6;me.from=A6;me.fromNow=T6;me.to=P6;me.toNow=C6;me.get=v8;me.invalidAt=U6;me.isAfter=m6;me.isBefore=v6;me.isBetween=g6;me.isSame=y6;me.isSameOrAfter=_6;me.isSameOrBefore=x6;me.isValid=B6;me.lang=yL;me.locale=gL;me.localeData=_L;me.max=Bj;me.min=Fj;me.parsingFlags=z6;me.set=g8;me.startOf=L6;me.subtract=s6;me.toArray=I6;me.toObject=D6;me.toDate=k6;me.toISOString=S6;me.inspect=E6;typeof Symbol<"u"&&Symbol.for!=null&&(me[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});me.toJSON=F6;me.toString=b6;me.unix=N6;me.valueOf=O6;me.creationData=j6;me.eraName=W6;me.eraNarrow=$6;me.eraAbbr=Y6;me.eraYear=Z6;me.year=tL;me.isLeapYear=D8;me.weekYear=tH;me.isoWeekYear=nH;me.quarter=me.quarters=lH;me.month=QC;me.daysInMonth=N8;me.week=me.weeks=H8;me.isoWeek=me.isoWeeks=G8;me.weeksInYear=oH;me.weeksInWeekYear=aH;me.isoWeeksInYear=rH;me.isoWeeksInISOWeekYear=iH;me.date=EL;me.day=me.days=nj;me.weekday=rj;me.isoWeekday=ij;me.dayOfYear=uH;me.hour=me.hours=fj;me.minute=me.minutes=cH;me.second=me.seconds=fH;me.millisecond=me.milliseconds=ML;me.utcOffset=Yj;me.utc=Xj;me.local=qj;me.parseZone=Kj;me.hasAlignedHourOffset=Jj;me.isDST=Qj;me.isLocal=t6;me.isUtcOffset=n6;me.isUtc=hL;me.isUTC=hL;me.zoneAbbr=hH;me.zoneName=pH;me.dates=Oi("dates accessor is deprecated. Use date instead.",EL);me.months=Oi("months accessor is deprecated. Use month instead",QC);me.years=Oi("years accessor is deprecated. Use year instead",tL);me.zone=Oi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Zj);me.isDSTShifted=Oi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",e6);function mH(e){return Kt(e*1e3)}function vH(){return Kt.apply(null,arguments).parseZone()}function AL(e){return e}var Et=Aw.prototype;Et.calendar=n8;Et.longDateFormat=a8;Et.invalidDate=l8;Et.ordinal=f8;Et.preparse=AL;Et.postformat=AL;Et.relativeTime=h8;Et.pastFuture=p8;Et.set=e8;Et.eras=H6;Et.erasParse=G6;Et.erasConvertYear=V6;Et.erasAbbrRegex=q6;Et.erasNameRegex=X6;Et.erasNarrowRegex=K6;Et.months=C8;Et.monthsShort=L8;Et.monthsParse=O8;Et.monthsRegex=I8;Et.monthsShortRegex=k8;Et.week=B8;Et.firstDayOfYear=j8;Et.firstDayOfWeek=U8;Et.weekdays=K8;Et.weekdaysMin=Q8;Et.weekdaysShort=J8;Et.weekdaysParse=tj;Et.weekdaysRegex=oj;Et.weekdaysShortRegex=aj;Et.weekdaysMinRegex=sj;Et.isPM=uj;Et.meridiem=dj;function mm(e,t,n,r){var i=fa(),o=Lo().set(r,t);return i[n](o,e)}function TL(e,t,n){if(ra(e)&&(t=e,e=void 0),e=e||"",t!=null)return mm(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mm(e,r,n,"month");return i}function Hw(e,t,n,r){typeof e=="boolean"?(ra(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,ra(t)&&(n=t,t=void 0),t=t||"");var i=fa(),o=e?i._week.dow:0,a,l=[];if(n!=null)return mm(t,(n+o)%7,r,"day");for(a=0;a<7;a++)l[a]=mm(t,(a+o)%7,r,"day");return l}function gH(e,t){return TL(e,t,"months")}function yH(e,t){return TL(e,t,"monthsShort")}function _H(e,t,n){return Hw(e,t,n,"weekdays")}function xH(e,t,n){return Hw(e,t,n,"weekdaysShort")}function wH(e,t,n){return Hw(e,t,n,"weekdaysMin")}Wa("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=st(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});he.lang=Oi("moment.lang is deprecated. Use moment.locale instead.",Wa);he.langData=Oi("moment.langData is deprecated. Use moment.localeData instead.",fa);var Bo=Math.abs;function bH(){var e=this._data;return this._milliseconds=Bo(this._milliseconds),this._days=Bo(this._days),this._months=Bo(this._months),e.milliseconds=Bo(e.milliseconds),e.seconds=Bo(e.seconds),e.minutes=Bo(e.minutes),e.hours=Bo(e.hours),e.months=Bo(e.months),e.years=Bo(e.years),this}function PL(e,t,n,r){var i=eo(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function SH(e,t){return PL(this,e,t,1)}function EH(e,t){return PL(this,e,t,-1)}function NM(e){return e<0?Math.floor(e):Math.ceil(e)}function MH(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,o,a,l,u;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=NM(K_(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=yi(e/1e3),r.seconds=i%60,o=yi(i/60),r.minutes=o%60,a=yi(o/60),r.hours=a%24,t+=yi(a/24),u=yi(CL(t)),n+=u,t-=NM(K_(u)),l=yi(n/12),n%=12,r.days=t,r.months=n,r.years=l,this}function CL(e){return e*4800/146097}function K_(e){return e*146097/4800}function AH(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Ni(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+CL(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(K_(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function TH(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+st(this._months/12)*31536e6:NaN}function da(e){return function(){return this.as(e)}}var PH=da("ms"),CH=da("s"),LH=da("m"),RH=da("h"),OH=da("d"),NH=da("w"),kH=da("M"),IH=da("Q"),DH=da("y");function FH(){return eo(this)}function BH(e){return e=Ni(e),this.isValid()?this[e+"s"]():NaN}function nl(e){return function(){return this.isValid()?this._data[e]:NaN}}var zH=nl("milliseconds"),UH=nl("seconds"),jH=nl("minutes"),HH=nl("hours"),GH=nl("days"),VH=nl("months"),WH=nl("years");function $H(){return yi(this.days()/7)}var Uo=Math.round,Xl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function YH(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ZH(e,t,n,r){var i=eo(e).abs(),o=Uo(i.as("s")),a=Uo(i.as("m")),l=Uo(i.as("h")),u=Uo(i.as("d")),c=Uo(i.as("M")),d=Uo(i.as("w")),h=Uo(i.as("y")),p=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||l<=1&&["h"]||l<n.h&&["hh",l]||u<=1&&["d"]||u<n.d&&["dd",u];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],p[2]=t,p[3]=+e>0,p[4]=r,YH.apply(null,p)}function XH(e){return e===void 0?Uo:typeof e=="function"?(Uo=e,!0):!1}function qH(e,t){return Xl[e]===void 0?!1:t===void 0?Xl[e]:(Xl[e]=t,e==="s"&&(Xl.ss=t-1),!0)}function KH(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Xl,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Xl,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),o=ZH(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var l0=Math.abs;function Ml(e){return(e>0)-(e<0)||+e}function Tg(){if(!this.isValid())return this.localeData().invalidDate();var e=l0(this._milliseconds)/1e3,t=l0(this._days),n=l0(this._months),r,i,o,a,l=this.asSeconds(),u,c,d,h;return l?(r=yi(e/60),i=yi(r/60),e%=60,r%=60,o=yi(n/12),n%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",u=l<0?"-":"",c=Ml(this._months)!==Ml(l)?"-":"",d=Ml(this._days)!==Ml(l)?"-":"",h=Ml(this._milliseconds)!==Ml(l)?"-":"",u+"P"+(o?c+o+"Y":"")+(n?c+n+"M":"")+(t?d+t+"D":"")+(i||r||e?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(e?h+a+"S":"")):"P0D"}var vt=Mg.prototype;vt.isValid=Gj;vt.abs=bH;vt.add=SH;vt.subtract=EH;vt.as=AH;vt.asMilliseconds=PH;vt.asSeconds=CH;vt.asMinutes=LH;vt.asHours=RH;vt.asDays=OH;vt.asWeeks=NH;vt.asMonths=kH;vt.asQuarters=IH;vt.asYears=DH;vt.valueOf=TH;vt._bubble=MH;vt.clone=FH;vt.get=BH;vt.milliseconds=zH;vt.seconds=UH;vt.minutes=jH;vt.hours=HH;vt.days=GH;vt.weeks=$H;vt.months=VH;vt.years=WH;vt.humanize=KH;vt.toISOString=Tg;vt.toString=Tg;vt.toJSON=Tg;vt.locale=gL;vt.localeData=_L;vt.toIsoString=Oi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tg);vt.lang=yL;De("X",0,0,"unix");De("x",0,0,"valueOf");Ae("x",wg);Ae("X",_8);jt("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});jt("x",function(e,t,n){n._d=new Date(st(e))});//! moment.js
he.version="2.29.4";JU(Kt);he.fn=me;he.min=zj;he.max=Uj;he.now=jj;he.utc=Lo;he.unix=mH;he.months=gH;he.isDate=qd;he.locale=Wa;he.invalid=vg;he.duration=eo;he.isMoment=Ki;he.weekdays=_H;he.parseZone=vH;he.localeData=fa;he.isDuration=Ep;he.monthsShort=yH;he.weekdaysMin=wH;he.defineLocale=kw;he.updateLocale=vj;he.locales=gj;he.weekdaysShort=xH;he.normalizeUnits=Ni;he.relativeTimeRounding=XH;he.relativeTimeThreshold=qH;he.calendarFormat=d6;he.prototype=me;he.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const JH=""+new URL("cli-f9ef1393.mp3",import.meta.url).href,QH=""+new URL("gtav_tone_new_call-eef0824c.mp3",import.meta.url).href,e9=""+new URL("warning-e26ba838.mp3",import.meta.url).href,t9=""+new URL("accept-c4acdf31.mp3",import.meta.url).href,LL=O.createContext(),n9=({children:e})=>{const{t}=Jt(),{smallDispatch:n}=Ri(),[r,i]=O.useState([]),[o,a]=O.useState(0),[l,u]=O.useState(null),[c,d]=O.useState(!0);function h(){let R=new Audio(JH);R.volume=.3,R.play()}function p(){let R=new Audio(QH);R.volume=.3,R.play()}function v(){let R=new Audio(e9);R.volume=.3,R.play()}function g(){let R=new Audio(t9);R.volume=.3,R.play()}function y(){return!(r.length<=0)}function M(){n&&y()&&(o<r.length-1?a(o+1):a(0))}function _(){n&&y()&&(o>0?a(o-1):a(r.length-1))}function x(R){i(N=>{const F=N.findIndex(z=>(z==null?void 0:z.id)===R);return a(F),[...N]})}function b(R,N,F,z,G,K,W,$,X=[]){const J={code:(R==null?void 0:R.code)||t("NOT_ASIGNED"),codeSnippet:R.snippet||" ",message:N||t("NOT_ASIGNED"),location:F,locationText:z!=null&&z.street1?z.street1:t("NOT_ASIGNED"),officersList:K||[],createdAt:he().format(),flashes:W,image:$,id:G,otherData:X};i(I=>{const k=[...I,J];return k.length===1&&M(),W?v():p(),k});const V=parseInt(localStorage.getItem("timercount"))*6e4;!isNaN(V)&&V>0&&setTimeout(()=>{i(I=>I.find(q=>(q==null?void 0:q.id)===G)?(Be("deleteDispatchCall",{id:G},()=>{}),I.filter(q=>(q==null?void 0:q.id)!==G)):I)},V)}function E(R,N){const F=[...r],z=F.findIndex(G=>(G==null?void 0:G.id)===R);z!==-1&&(F[z]={...F[z],officersList:N},i(F))}function A(R,N){var F;if(N){const z=r.findIndex(G=>(G==null?void 0:G.id)===N);if(z!==-1){const G=[...r];G.splice(z,1),i([...G]),Be("deleteDispatchCall",{id:N},()=>{}),z===r.length-1&&r.length>1&&a(0)}}else if(R)i([]),Be("deleteDispatchCall",{id:"ALL"},()=>{});else if(r[o]){const z=(F=r[o])==null?void 0:F.id,G=[...r];G.splice(o,1),i([...G]),Be("deleteDispatchCall",{id:z},()=>{}),o===r.length-1&&r.length>1&&a(0)}}function C(){if(!y())return;let R=r[o||0];if((l==null?void 0:l.id)===(R==null?void 0:R.id))u(null),Be("desistCall",{id:R==null?void 0:R.id},()=>{});else{if(!c)return;l!=null&&l.id&&Be("desistCall",{id:l==null?void 0:l.id},()=>{}),u(R),Be("acceptCall",{id:R==null?void 0:R.id},()=>{}),g(),d(!1),setTimeout(function(){d(!0)},4e3)}}function P(R){if(!y())return;let N=r.findIndex(z=>z.id===R),F=r[N||0];if((l==null?void 0:l.id)===(F==null?void 0:F.id))u(null),Be("desistCall",{id:F==null?void 0:F.id},()=>{});else{if(!c)return;l!=null&&l.id&&Be("desistCall",{id:l==null?void 0:l.id},()=>{}),u(F),Be("acceptCall",{id:F==null?void 0:F.id},()=>{}),g(),d(!1),setTimeout(function(){d(!0)},4e3)}}return Fn("add_call",R=>{var N,F,z;b((N=R.callCode)==null?void 0:N.code,R.callCode.message,R.callCode.callLocation,R.callCode.callLocationText,(F=R.callCode)==null?void 0:F.id,R.callCode.responding,R.callCode.flashes,R.callCode.image,((z=R==null?void 0:R.callCode)==null?void 0:z.otherData)??[])}),Fn("next_call",R=>{M()}),Fn("prev_call",R=>{_()}),Fn("respond_current",R=>{n&&C()}),Fn("update_call",({id:R,responses:N})=>{!R||!N||E(R,N)}),w.jsx(LL.Provider,{value:{callList:r,currentCallIndex:o,respondingCall:l,next:M,prev:_,respondCurrent:C,deleteCall:A,ShowSpecific:x,PlayClick:h,respondSpecific:P},children:e})},eh=()=>O.useContext(LL),r9=()=>{var v,g;const{mooving:e,setMooving:t,smallDispatch:n}=Ri(),{t:r}=Jt(),{callList:i,currentCallIndex:o,respondingCall:a}=eh(),l=()=>{Be("SetNuiFocus",{focused:!1}),t(!1)},u=(y,M)=>{const{x:_,y:x}=M;localStorage.setItem("smallDispatchPosition",JSON.stringify({x:_,y:x}))};let c=i[o],d="";c!=null&&c.flashes&&c!==null&&(d=""),(c==null?void 0:c.id)===(a==null?void 0:a.id)&&(c==null?void 0:c.id)!==null&&(c==null?void 0:c.id)!==void 0&&(d="sirens");const h=localStorage.getItem("smallDispatchPosition");let p=h?JSON.parse(h):null;if(!p){let y=window.innerWidth,M=window.innerHeight;p={x:Math.round(y*.8),y:Math.round(M*.32)}}return w.jsx(VP,{handle:"#small_menu",bounds:"parent",onStop:u,defaultPosition:p,children:w.jsxs("div",{id:"small_menu",className:`select-none w-80 max-h-screen overflow-y-auto bg-gray-800 shadow-lg rounded-lg overflow-hidden cursor-move ${d} ${n?"":"hidden"}`,children:[w.jsxs("div",{id:"call-header",className:` ${(c==null?void 0:c.id)===(a==null?void 0:a.id)&&(c==null?void 0:c.id)!==null&&(c==null?void 0:c.id)!==void 0?"police-effect":""} ${c!=null&&c.flashes?"emergence-effect":""} flex justify-between px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700`,children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("span",{id:"current-call",children:i.length>0?o+1:0}),"/",w.jsx("span",{id:"total-calls",children:i.length})]}),w.jsxs("div",{className:"flex items-center",children:[w.jsx("i",{className:"fas fa-user-secret mr-2"}),w.jsx("span",{id:"officers-count",children:((v=c==null?void 0:c.officersList)==null?void 0:v.length)||0})]})]}),w.jsxs("div",{id:"current-call-details",className:"flex flex-col p-2 text-white",children:[i.length===0&&w.jsx("center",{className:"p-6",children:w.jsx("p",{children:r("NO_DISPATCH_CALLS")})}),i.length>0&&w.jsxs(w.Fragment,{children:[w.jsxs("p",{className:" text-xl",id:"callcode",children:["#",c==null?void 0:c.id," | ",c==null?void 0:c.code,"",w.jsx("span",{className:"text-xs",id:"call-code-snippet",children:c==null?void 0:c.codeSnippet})]}),w.jsx("hr",{}),w.jsx("p",{className:"",id:"message",children:c==null?void 0:c.message}),(c==null?void 0:c.otherData)&&w.jsx("div",{className:" my-1",children:(g=c==null?void 0:c.otherData)==null?void 0:g.map((y,M)=>w.jsxs("p",{className:" text-xs",id:"other-data",children:[w.jsx("i",{className:y==null?void 0:y.icon}),"",y.text]},M))}),w.jsx("p",{className:" text-xs",id:"text-location",children:c==null?void 0:c.locationText}),(c==null?void 0:c.image)&&w.jsx("img",{alt:"callimage",src:c==null?void 0:c.image})]})]}),w.jsxs("div",{id:"call-bottom",className:` ${c!=null&&c.flashes?"emergence-effect":""} flex justify-between px-4 py-2 text-sm font-medium text-white bg-gray-700`,children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("kbd",{className:"mx-1 bg-gray-800 rounded-lg p-1 pt-2 pr-2 pl-2",children:w.jsx("i",{className:"fa-solid fa-arrow-left"})}),w.jsx("kbd",{className:"mx-1 bg-gray-800 rounded-lg p-1 pt-2 pr-2 pl-2",children:(c==null?void 0:c.id)===(a==null?void 0:a.id)&&(c==null?void 0:c.id)!==null&&(c==null?void 0:c.id)!==void 0?r("CANCEL_KEY_SMALL"):r("ACCEPT_KEY_SMALL")}),w.jsx("kbd",{className:"mx-1 bg-gray-800 rounded-lg p-1 pt-2 pr-2 pl-2",children:w.jsx("i",{className:"fa-solid fa-arrow-right"})})]}),w.jsx("div",{className:"flex items-center",children:w.jsx("p",{id:"createdAt",className:"text-xs",children:c!=null&&c.createdAt?he(c==null?void 0:c.createdAt).fromNow():""})})]}),e&&w.jsx("div",{className:"items-center bg-orange-600 rounded-b-lg",id:"confirm-edit",children:w.jsx("center",{className:"bg-orange-600",children:w.jsx("button",{onClick:l,className:"select-none focus:outline-none font-medium rounded-lg text-sm px-2.5 py-1.5 m-1 bg-blue-600 hover:bg-blue-700 focus:ring-blue-900 text-white",id:"confirm-edit-button",children:r("CONFIRM_EDIT")})})})]})})};var Gw={},RL={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(RL);var rl=RL.exports,u0={};const i9=t1(K5);var kM;function il(){return kM||(kM=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=i9}(u0)),u0}var o9=rl;Object.defineProperty(Gw,"__esModule",{value:!0});var OL=Gw.default=void 0,a9=o9(il()),s9=w,l9=(0,a9.default)((0,s9.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");OL=Gw.default=l9;var u9=Object.defineProperty,c9=(e,t)=>{for(var n in t)u9(e,n,{get:t[n],enumerable:!0})},Ji={};c9(Ji,{assign:()=>h9,colors:()=>$a,createStringInterpolator:()=>qw,skipAnimation:()=>zL,to:()=>BL,willAdvance:()=>Kw});var Vw=nh(),$e=e=>th(e,Vw),Ww=nh();$e.write=e=>th(e,Ww);var Pg=nh();$e.onStart=e=>th(e,Pg);var $w=nh();$e.onFrame=e=>th(e,$w);var Yw=nh();$e.onFinish=e=>th(e,Yw);var uu=[];$e.setTimeout=(e,t)=>{const n=$e.now()+t,r=()=>{const o=uu.findIndex(a=>a.cancel==r);~o&&uu.splice(o,1),Na-=~o?1:0},i={time:n,handler:e,cancel:r};return uu.splice(NL(n),0,i),Na+=1,kL(),i};var NL=e=>~(~uu.findIndex(t=>t.time>e)||~uu.length);$e.cancel=e=>{Pg.delete(e),$w.delete(e),Yw.delete(e),Vw.delete(e),Ww.delete(e)};$e.sync=e=>{J_=!0,$e.batchedUpdates(e),J_=!1};$e.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,$e.onStart(n)}return r.handler=e,r.cancel=()=>{Pg.delete(n),t=null},r};var Zw=typeof window<"u"?window.requestAnimationFrame:()=>{};$e.use=e=>Zw=e;$e.now=typeof performance<"u"?()=>performance.now():Date.now;$e.batchedUpdates=e=>e();$e.catch=console.error;$e.frameLoop="always";$e.advance=()=>{$e.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):DL()};var Oa=-1,Na=0,J_=!1;function th(e,t){J_?(t.delete(e),e(0)):(t.add(e),kL())}function kL(){Oa<0&&(Oa=0,$e.frameLoop!=="demand"&&Zw(IL))}function f9(){Oa=-1}function IL(){~Oa&&(Zw(IL),$e.batchedUpdates(DL))}function DL(){const e=Oa;Oa=$e.now();const t=NL(Oa);if(t&&(FL(uu.splice(0,t),n=>n.handler()),Na-=t),!Na){f9();return}Pg.flush(),Vw.flush(e?Math.min(64,Oa-e):16.667),$w.flush(),Ww.flush(),Yw.flush()}function nh(){let e=new Set,t=e;return{add(n){Na+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Na-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Na-=t.size,FL(t,r=>r(n)&&e.add(r)),Na+=e.size,t=e)}}}function FL(e,t){e.forEach(n=>{try{t(n)}catch(r){$e.catch(r)}})}function Q_(){}var d9=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),de={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function jo(e,t){if(de.arr(e)){if(!de.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Ve=(e,t)=>e.forEach(t);function xo(e,t,n){if(de.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var yr=e=>de.und(e)?[]:de.arr(e)?e:[e];function ff(e,t){if(e.size){const n=Array.from(e);e.clear(),Ve(n,t)}}var Zc=(e,...t)=>ff(e,n=>n(...t)),Xw=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),qw,BL,$a=null,zL=!1,Kw=Q_,h9=e=>{e.to&&(BL=e.to),e.now&&($e.now=e.now),e.colors!==void 0&&($a=e.colors),e.skipAnimation!=null&&(zL=e.skipAnimation),e.createStringInterpolator&&(qw=e.createStringInterpolator),e.requestAnimationFrame&&$e.use(e.requestAnimationFrame),e.batchedUpdates&&($e.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Kw=e.willAdvance),e.frameLoop&&($e.frameLoop=e.frameLoop)},df=new Set,xi=[],c0=[],vm=0,Cg={get idle(){return!df.size&&!xi.length},start(e){vm>e.priority?(df.add(e),$e.onStart(p9)):(UL(e),$e(ex))},advance:ex,sort(e){if(vm)$e.onFrame(()=>Cg.sort(e));else{const t=xi.indexOf(e);~t&&(xi.splice(t,1),jL(e))}},clear(){xi=[],df.clear()}};function p9(){df.forEach(UL),df.clear(),$e(ex)}function UL(e){xi.includes(e)||jL(e)}function jL(e){xi.splice(m9(xi,t=>t.priority>e.priority),0,e)}function ex(e){const t=c0;for(let n=0;n<xi.length;n++){const r=xi[n];vm=r.priority,r.idle||(Kw(r),r.advance(e),r.idle||t.push(r))}return vm=0,c0=xi,c0.length=0,xi=t,xi.length>0}function m9(e,t){const n=e.findIndex(t);return n<0?e.length:n}var v9=(e,t,n)=>Math.min(Math.max(n,e),t),g9={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Wi="[-+]?\\d*\\.?\\d+",gm=Wi+"%";function Lg(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var y9=new RegExp("rgb"+Lg(Wi,Wi,Wi)),_9=new RegExp("rgba"+Lg(Wi,Wi,Wi,Wi)),x9=new RegExp("hsl"+Lg(Wi,gm,gm)),w9=new RegExp("hsla"+Lg(Wi,gm,gm,Wi)),b9=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,S9=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,E9=/^#([0-9a-fA-F]{6})$/,M9=/^#([0-9a-fA-F]{8})$/;function A9(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=E9.exec(e))?parseInt(t[1]+"ff",16)>>>0:$a&&$a[e]!==void 0?$a[e]:(t=y9.exec(e))?(Al(t[1])<<24|Al(t[2])<<16|Al(t[3])<<8|255)>>>0:(t=_9.exec(e))?(Al(t[1])<<24|Al(t[2])<<16|Al(t[3])<<8|FM(t[4]))>>>0:(t=b9.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=M9.exec(e))?parseInt(t[1],16)>>>0:(t=S9.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=x9.exec(e))?(IM(DM(t[1]),Xh(t[2]),Xh(t[3]))|255)>>>0:(t=w9.exec(e))?(IM(DM(t[1]),Xh(t[2]),Xh(t[3]))|FM(t[4]))>>>0:null}function f0(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IM(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=f0(i,r,e+1/3),a=f0(i,r,e),l=f0(i,r,e-1/3);return Math.round(o*255)<<24|Math.round(a*255)<<16|Math.round(l*255)<<8}function Al(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function DM(e){return(parseFloat(e)%360+360)%360/360}function FM(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Xh(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function BM(e){let t=A9(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,o=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${o})`}var $f=(e,t,n)=>{if(de.fun(e))return e;if(de.arr(e))return $f({range:e,output:t,extrapolate:n});if(de.str(e.output[0]))return qw(e);const r=e,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(c=>c);return c=>{const d=P9(c,o);return T9(c,o[d],o[d+1],i[d],i[d+1],u,a,l,r.map)}};function T9(e,t,n,r,i,o,a,l,u){let c=u?u(e):e;if(c<t){if(a==="identity")return c;a==="clamp"&&(c=t)}if(c>n){if(l==="identity")return c;l==="clamp"&&(c=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?c=-c:n===1/0?c=c-t:c=(c-t)/(n-t),c=o(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function P9(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var C9=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return v9(0,1,i/e)},ym=1.70158,qh=ym*1.525,zM=ym+1,UM=2*Math.PI/3,jM=2*Math.PI/4.5,Kh=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,L9={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>zM*e*e*e-ym*e*e,easeOutBack:e=>1+zM*Math.pow(e-1,3)+ym*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((qh+1)*2*e-qh)/2:(Math.pow(2*e-2,2)*((qh+1)*(e*2-2)+qh)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*UM),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*UM)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*jM))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*jM)/2+1,easeInBounce:e=>1-Kh(1-e),easeOutBounce:Kh,easeInOutBounce:e=>e<.5?(1-Kh(1-2*e))/2:(1+Kh(2*e-1))/2,steps:C9},Yf=Symbol.for("FluidValue.get"),Au=Symbol.for("FluidValue.observers"),_i=e=>!!(e&&e[Yf]),Rr=e=>e&&e[Yf]?e[Yf]():e,HM=e=>e[Au]||null;function R9(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Zf(e,t){const n=e[Au];n&&n.forEach(r=>{R9(r,t)})}var HL=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");O9(this,e)}},O9=(e,t)=>GL(e,Yf,t);function nc(e,t){if(e[Yf]){let n=e[Au];n||GL(e,Au,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Xf(e,t){const n=e[Au];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Au]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var GL=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Ap=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,N9=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,GM=new RegExp(`(${Ap.source})(%|[a-z]+)`,"i"),k9=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Rg=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,VL=e=>{const[t,n]=I9(e);if(!t||Xw())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&Rg.test(n))return VL(n);if(n)return n}return e},I9=e=>{const t=Rg.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},d0,D9=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,WL=e=>{d0||(d0=$a?new RegExp(`(${Object.keys($a).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(o=>Rr(o).replace(Rg,VL).replace(N9,BM).replace(d0,BM)),n=t.map(o=>o.match(Ap).map(Number)),i=n[0].map((o,a)=>n.map(l=>{if(!(a in l))throw Error('The arity of each "output" value must be equal');return l[a]})).map(o=>$f({...e,output:o}));return o=>{var u;const a=!GM.test(t[0])&&((u=t.find(c=>GM.test(c)))==null?void 0:u.replace(Ap,""));let l=0;return t[0].replace(Ap,()=>`${i[l++](o)}${a||""}`).replace(k9,D9)}},Jw="react-spring: ",$L=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Jw}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},F9=$L(console.warn);function B9(){F9(`${Jw}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var z9=$L(console.warn);function U9(){z9(`${Jw}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Og(e){return de.str(e)&&(e[0]=="#"||/\d/.test(e)||!Xw()&&Rg.test(e)||e in($a||{}))}var Cs=Xw()?O.useEffect:O.useLayoutEffect,j9=()=>{const e=O.useRef(!1);return Cs(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Qw(){const e=O.useState()[1],t=j9();return()=>{t.current&&e(Math.random())}}function H9(e,t){const[n]=O.useState(()=>({inputs:t,result:e()})),r=O.useRef(),i=r.current;let o=i;return o?t&&o.inputs&&G9(t,o.inputs)||(o={inputs:t,result:e()}):o=n,O.useEffect(()=>{r.current=o,i==n&&(n.inputs=n.result=void 0)},[o]),o.result}function G9(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var eb=e=>O.useEffect(e,V9),V9=[];function tx(e){const t=O.useRef();return O.useEffect(()=>{t.current=e}),t.current}var qf=Symbol.for("Animated:node"),W9=e=>!!e&&e[qf]===e,ao=e=>e&&e[qf],tb=(e,t)=>d9(e,qf,t),Ng=e=>e&&e[qf]&&e[qf].getPayload(),YL=class{constructor(){tb(this,this)}getPayload(){return this.payload||[]}},rh=class extends YL{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,de.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new rh(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return de.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,de.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Kf=class extends rh{constructor(e){super(0),this._string=null,this._toString=$f({output:[e,e]})}static create(e){return new Kf(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(de.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=$f({output:[this.getValue(),e]})),this._value=0,super.reset()}},_m={dependencies:null},kg=class extends YL{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return xo(this.source,(n,r)=>{W9(n)?t[r]=n.getValue(e):_i(n)?t[r]=Rr(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Ve(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return xo(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){_m.dependencies&&_i(e)&&_m.dependencies.add(e);const t=Ng(e);t&&Ve(t,n=>this.add(n))}},ZL=class extends kg{constructor(e){super(e)}static create(e){return new ZL(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map($9)),!0)}};function $9(e){return(Og(e)?Kf:rh).create(e)}function nx(e){const t=ao(e);return t?t.constructor:de.arr(e)?ZL:Og(e)?Kf:rh}var VM=(e,t)=>{const n=!de.fun(e)||e.prototype&&e.prototype.isReactComponent;return O.forwardRef((r,i)=>{const o=O.useRef(null),a=n&&O.useCallback(g=>{o.current=X9(i,g)},[i]),[l,u]=Z9(r,t),c=Qw(),d=()=>{const g=o.current;if(n&&!g)return;(g?t.applyAnimatedValues(g,l.getValue(!0)):!1)===!1&&c()},h=new Y9(d,u),p=O.useRef();Cs(()=>(p.current=h,Ve(u,g=>nc(g,h)),()=>{p.current&&(Ve(p.current.deps,g=>Xf(g,p.current)),$e.cancel(p.current.update))})),O.useEffect(d,[]),eb(()=>()=>{const g=p.current;Ve(g.deps,y=>Xf(y,g))});const v=t.getComponentProps(l.getValue());return O.createElement(e,{...v,ref:a})})},Y9=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&$e.write(this.update)}};function Z9(e,t){const n=new Set;return _m.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new kg(e),_m.dependencies=null,[e,n]}function X9(e,t){return e&&(de.fun(e)?e(t):e.current=t),t}var WM=Symbol.for("AnimatedComponent"),q9=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new kg(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=a=>{const l=$M(a)||"Anonymous";return de.str(a)?a=o[a]||(o[a]=VM(a,i)):a=a[WM]||(a[WM]=VM(a,i)),a.displayName=`Animated(${l})`,a};return xo(e,(a,l)=>{de.arr(e)&&(l=$M(a)),o[l]=o(a)}),{animated:o}},$M=e=>de.str(e)?e:e&&de.str(e.displayName)?e.displayName:de.fun(e)&&e.name||null;function Or(e,...t){return de.fun(e)?e(...t):e}var hf=(e,t)=>e===!0||!!(t&&e&&(de.fun(e)?e(t):yr(e).includes(t))),XL=(e,t)=>de.obj(e)?t&&e[t]:e,qL=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,K9=e=>e,Ig=(e,t=K9)=>{let n=J9;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const o=t(e[i],i);de.und(o)||(r[i]=o)}return r},J9=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Q9={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function eG(e){const t={};let n=0;if(xo(e,(r,i)=>{Q9[i]||(t[i]=r,n++)}),n)return t}function nb(e){const t=eG(e);if(t){const n={to:t};return xo(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function Jf(e){return e=Rr(e),de.arr(e)?e.map(Jf):Og(e)?Ji.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function KL(e){for(const t in e)return!0;return!1}function rx(e){return de.fun(e)||de.arr(e)&&de.obj(e[0])}function ix(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function JL(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var Ja={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},ox={...Ja.default,mass:1,damping:1,easing:L9.linear,clamp:!1},tG=class{constructor(){this.velocity=0,Object.assign(this,ox)}};function nG(e,t,n){n&&(n={...n},YM(n,t),t={...n,...t}),YM(e,t),Object.assign(e,t);for(const a in ox)e[a]==null&&(e[a]=ox[a]);let{frequency:r,damping:i}=e;const{mass:o}=e;return de.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*i*o/r),e}function YM(e,t){if(!de.und(t.decay))e.duration=void 0;else{const n=!de.und(t.tension)||!de.und(t.friction);(n||!de.und(t.frequency)||!de.und(t.damping)||!de.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var ZM=[],rG=class{constructor(){this.changed=!1,this.values=ZM,this.toValues=null,this.fromValues=ZM,this.config=new tG,this.immediate=!1}};function QL(e,{key:t,props:n,defaultProps:r,state:i,actions:o}){return new Promise((a,l)=>{let u,c,d=hf(n.cancel??(r==null?void 0:r.cancel),t);if(d)v();else{de.und(n.pause)||(i.paused=hf(n.pause,t));let g=r==null?void 0:r.pause;g!==!0&&(g=i.paused||hf(g,t)),u=Or(n.delay||0,t),g?(i.resumeQueue.add(p),o.pause()):(o.resume(),p())}function h(){i.resumeQueue.add(p),i.timeouts.delete(c),c.cancel(),u=c.time-$e.now()}function p(){u>0&&!Ji.skipAnimation?(i.delayed=!0,c=$e.setTimeout(v,u),i.pauseQueue.add(h),i.timeouts.add(c)):v()}function v(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(c),e<=(i.cancelId||0)&&(d=!0);try{o.start({...n,callId:e,cancel:d},a)}catch(g){l(g)}}})}var rb=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?cu(e.get()):t.every(n=>n.noop)?eR(e.get()):Gi(e.get(),t.every(n=>n.finished)),eR=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Gi=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),cu=e=>({value:e,cancelled:!0,finished:!1});function tR(e,t,n,r){const{callId:i,parentId:o,onRest:a}=t,{asyncTo:l,promise:u}=n;return!o&&e===l&&!t.reset?u:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const c=Ig(t,(M,_)=>_==="onRest"?void 0:M);let d,h;const p=new Promise((M,_)=>(d=M,h=_)),v=M=>{const _=i<=(n.cancelId||0)&&cu(r)||i!==n.asyncId&&Gi(r,!1);if(_)throw M.result=_,h(M),M},g=(M,_)=>{const x=new XM,b=new qM;return(async()=>{if(Ji.skipAnimation)throw Qf(n),b.result=Gi(r,!1),h(b),b;v(x);const E=de.obj(M)?{...M}:{..._,to:M};E.parentId=i,xo(c,(C,P)=>{de.und(E[P])&&(E[P]=C)});const A=await r.start(E);return v(x),n.paused&&await new Promise(C=>{n.resumeQueue.add(C)}),A})()};let y;if(Ji.skipAnimation)return Qf(n),Gi(r,!1);try{let M;de.arr(e)?M=(async _=>{for(const x of _)await g(x)})(e):M=Promise.resolve(e(g,r.stop.bind(r))),await Promise.all([M.then(d),p]),y=Gi(r.get(),!0,!1)}catch(M){if(M instanceof XM)y=M.result;else if(M instanceof qM)y=M.result;else throw M}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?l:void 0,n.promise=o?u:void 0)}return de.fun(a)&&$e.batchedUpdates(()=>{a(y,r,r.item)}),y})()}function Qf(e,t){ff(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var XM=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},qM=class extends Error{constructor(){super("SkipAnimationSignal")}},ax=e=>e instanceof ib,iG=1,ib=class extends HL{constructor(){super(...arguments),this.id=iG++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ao(this);return e&&e.getValue()}to(...e){return Ji.to(this,e)}interpolate(...e){return B9(),Ji.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Zf(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Cg.sort(this),Zf(this,{type:"priority",parent:this,priority:e})}},Vs=Symbol.for("SpringPhase"),nR=1,sx=2,lx=4,h0=e=>(e[Vs]&nR)>0,wa=e=>(e[Vs]&sx)>0,Fc=e=>(e[Vs]&lx)>0,KM=(e,t)=>t?e[Vs]|=sx|nR:e[Vs]&=~sx,JM=(e,t)=>t?e[Vs]|=lx:e[Vs]&=~lx,oG=class extends ib{constructor(e,t){if(super(),this.animation=new rG,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!de.und(e)||!de.und(t)){const n=de.obj(e)?{...e}:{...t,from:e};de.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(wa(this)||this._state.asyncTo)||Fc(this)}get goal(){return Rr(this.animation.to)}get velocity(){const e=ao(this);return e instanceof rh?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return h0(this)}get isAnimating(){return wa(this)}get isPaused(){return Fc(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,a=Ng(r.to);!a&&_i(r.to)&&(i=yr(Rr(r.to))),r.values.forEach((c,d)=>{if(c.done)return;const h=c.constructor==Kf?1:a?a[d].lastPosition:i[d];let p=r.immediate,v=h;if(!p){if(v=c.lastPosition,o.tension<=0){c.done=!0;return}let g=c.elapsedTime+=e;const y=r.fromValues[d],M=c.v0!=null?c.v0:c.v0=de.arr(o.velocity)?o.velocity[d]:o.velocity;let _;const x=o.precision||(y==h?.005:Math.min(1,Math.abs(h-y)*.001));if(de.und(o.duration))if(o.decay){const b=o.decay===!0?.998:o.decay,E=Math.exp(-(1-b)*g);v=y+M/(1-b)*(1-E),p=Math.abs(c.lastPosition-v)<=x,_=M*E}else{_=c.lastVelocity==null?M:c.lastVelocity;const b=o.restVelocity||x/10,E=o.clamp?0:o.bounce,A=!de.und(E),C=y==h?c.v0>0:y<h;let P,R=!1;const N=1,F=Math.ceil(e/N);for(let z=0;z<F&&(P=Math.abs(_)>b,!(!P&&(p=Math.abs(h-v)<=x,p)));++z){A&&(R=v==h||v>h==C,R&&(_=-_*E,v=h));const G=-o.tension*1e-6*(v-h),K=-o.friction*.001*_,W=(G+K)/o.mass;_=_+W*N,v=v+_*N}}else{let b=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,c.durationProgress>0&&(c.elapsedTime=o.duration*c.durationProgress,g=c.elapsedTime+=e)),b=(o.progress||0)+g/this._memoizedDuration,b=b>1?1:b<0?0:b,c.durationProgress=b),v=y+o.easing(b)*(h-y),_=(v-c.lastPosition)/e,p=b==1}c.lastVelocity=_,Number.isNaN(v)&&(console.warn("Got NaN while animating:",this),p=!0)}a&&!a[d].done&&(p=!1),p?c.done=!0:t=!1,c.setValue(v,o.round)&&(n=!0)});const l=ao(this),u=l.getValue();if(t){const c=Rr(r.to);(u!==c||n)&&!o.decay?(l.setValue(c),this._onChange(c)):n&&o.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return $e.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(wa(this)){const{to:e,config:t}=this.animation;$e.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return de.und(e)?(n=this.queue||[],this.queue=[]):n=[de.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>rb(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Qf(this._state,e&&this._lastCallId),$e.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=de.obj(n)?n[t]:n,(n==null||rx(n))&&(n=void 0),r=de.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return h0(this)||(e.reverse&&([n,r]=[r,n]),r=Rr(r),de.und(r)?ao(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Ig(e,(a,l)=>/^on/.test(l)?XL(a,n):a)),eA(this,e,"onProps"),zc(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return QL(++this._lastCallId,{key:n,props:e,defaultProps:r,state:o,actions:{pause:()=>{Fc(this)||(JM(this,!0),Zc(o.pauseQueue),zc(this,"onPause",Gi(this,Bc(this,this.animation.to)),this))},resume:()=>{Fc(this)&&(JM(this,!1),wa(this)&&this._resume(),Zc(o.resumeQueue),zc(this,"onResume",Gi(this,Bc(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(e.loop&&a.finished&&!(t&&a.noop)){const l=rR(e);if(l)return this._update(l,!0)}return a})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(cu(this));const r=!de.und(e.to),i=!de.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(cu(this));const{key:o,defaultProps:a,animation:l}=this,{to:u,from:c}=l;let{to:d=u,from:h=c}=e;i&&!r&&(!t.default||de.und(d))&&(d=h),t.reverse&&([d,h]=[h,d]);const p=!jo(h,c);p&&(l.from=h),h=Rr(h);const v=!jo(d,u);v&&this._focus(d);const g=rx(t.to),{config:y}=l,{decay:M,velocity:_}=y;(r||i)&&(y.velocity=0),t.config&&!g&&nG(y,Or(t.config,o),t.config!==a.config?Or(a.config,o):void 0);let x=ao(this);if(!x||de.und(d))return n(Gi(this,!0));const b=de.und(t.reset)?i&&!t.default:!de.und(h)&&hf(t.reset,o),E=b?h:this.get(),A=Jf(d),C=de.num(A)||de.arr(A)||Og(A),P=!g&&(!C||hf(a.immediate||t.immediate,o));if(v){const z=nx(d);if(z!==x.constructor)if(P)x=this._set(A);else throw Error(`Cannot animate between ${x.constructor.name} and ${z.name}, as the "to" prop suggests`)}const R=x.constructor;let N=_i(d),F=!1;if(!N){const z=b||!h0(this)&&p;(v||z)&&(F=jo(Jf(E),A),N=!F),(!jo(l.immediate,P)&&!P||!jo(y.decay,M)||!jo(y.velocity,_))&&(N=!0)}if(F&&wa(this)&&(l.changed&&!b?N=!0:N||this._stop(u)),!g&&((N||_i(u))&&(l.values=x.getPayload(),l.toValues=_i(d)?null:R==Kf?[1]:yr(A)),l.immediate!=P&&(l.immediate=P,!P&&!b&&this._set(u)),N)){const{onRest:z}=l;Ve(sG,K=>eA(this,t,K));const G=Gi(this,Bc(this,u));Zc(this._pendingCalls,G),this._pendingCalls.add(n),l.changed&&$e.batchedUpdates(()=>{var K;l.changed=!b,z==null||z(G,this),b?Or(a.onRest,G):(K=l.onStart)==null||K.call(l,G,this)})}b&&this._set(E),g?n(tR(t.to,t,this._state,this)):N?this._start():wa(this)&&!v?this._pendingCalls.add(n):n(eR(E))}_focus(e){const t=this.animation;e!==t.to&&(HM(this)&&this._detach(),t.to=e,HM(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;_i(t)&&(nc(t,this),ax(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;_i(e)&&Xf(e,this)}_set(e,t=!0){const n=Rr(e);if(!de.und(n)){const r=ao(this);if(!r||!jo(n,r.getValue())){const i=nx(n);!r||r.constructor!=i?tb(this,i.create(n)):r.setValue(n),r&&$e.batchedUpdates(()=>{this._onChange(n,t)})}}return ao(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,zc(this,"onStart",Gi(this,Bc(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Or(this.animation.onChange,e,this)),Or(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ao(this).reset(Rr(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),wa(this)||(KM(this,!0),Fc(this)||this._resume())}_resume(){Ji.skipAnimation?this.finish():Cg.start(this)}_stop(e,t){if(wa(this)){KM(this,!1);const n=this.animation;Ve(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Zf(this,{type:"idle",parent:this});const r=t?cu(this.get()):Gi(this.get(),Bc(this,e??n.to));Zc(this._pendingCalls,r),n.changed&&(n.changed=!1,zc(this,"onRest",r,this))}}};function Bc(e,t){const n=Jf(t),r=Jf(e.get());return jo(r,n)}function rR(e,t=e.loop,n=e.to){const r=Or(t);if(r){const i=r!==!0&&nb(r),o=(i||e).reverse,a=!i||i.reset;return ed({...e,loop:t,default:!1,pause:void 0,to:!o||rx(n)?n:void 0,from:a?e.from:void 0,reset:a,...i})}}function ed(e){const{to:t,from:n}=e=nb(e),r=new Set;return de.obj(t)&&QM(t,r),de.obj(n)&&QM(n,r),e.keys=r.size?Array.from(r):null,e}function aG(e){const t=ed(e);return de.und(t.default)&&(t.default=Ig(t)),t}function QM(e,t){xo(e,(n,r)=>n!=null&&t.add(r))}var sG=["onStart","onRest","onChange","onPause","onResume"];function eA(e,t,n){e.animation[n]=t[n]!==qL(t,n)?XL(t[n],e.key):void 0}function zc(e,t,...n){var r,i,o,a;(i=(r=e.animation)[t])==null||i.call(r,...n),(a=(o=e.defaultProps)[t])==null||a.call(o,...n)}var lG=["onStart","onChange","onRest"],uG=1,iR=class{constructor(e,t){this.id=uG++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];de.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(ed(e)),this}start(e){let{queue:t}=this;return e?t=yr(e).map(ed):this.queue=[],this._flush?this._flush(this,t):(uR(this,t),ux(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Ve(yr(t),r=>n[r].stop(!!e))}else Qf(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(de.und(e))this.start({pause:!0});else{const t=this.springs;Ve(yr(e),n=>t[n].pause())}return this}resume(e){if(de.und(e))this.start({pause:!1});else{const t=this.springs;Ve(yr(e),n=>t[n].resume())}return this}each(e){xo(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,ff(e,([l,u])=>{u.value=this.get(),l(u,this,this._item)}));const o=!r&&this._started,a=i||o&&n.size?this.get():null;i&&t.size&&ff(t,([l,u])=>{u.value=a,l(u,this,this._item)}),o&&(this._started=!1,ff(n,([l,u])=>{u.value=a,l(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;$e.onFrame(this._onFrame)}};function ux(e,t){return Promise.all(t.map(n=>oR(e,n))).then(n=>rb(e,n))}async function oR(e,t,n){const{keys:r,to:i,from:o,loop:a,onRest:l,onResolve:u}=t,c=de.obj(t.default)&&t.default;a&&(t.loop=!1),i===!1&&(t.to=null),o===!1&&(t.from=null);const d=de.arr(i)||de.fun(i)?i:void 0;d?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):Ve(lG,y=>{const M=t[y];if(de.fun(M)){const _=e._events[y];t[y]=({finished:x,cancelled:b})=>{const E=_.get(M);E?(x||(E.finished=!1),b&&(E.cancelled=!0)):_.set(M,{value:null,finished:x||!1,cancelled:b||!1})},c&&(c[y]=t[y])}});const h=e._state;t.pause===!h.paused?(h.paused=t.pause,Zc(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const p=(r||Object.keys(e.springs)).map(y=>e.springs[y].start(t)),v=t.cancel===!0||qL(t,"cancel")===!0;(d||v&&h.asyncId)&&p.push(QL(++e._lastAsyncId,{props:t,state:h,actions:{pause:Q_,resume:Q_,start(y,M){v?(Qf(h,e._lastAsyncId),M(cu(e))):(y.onRest=l,M(tR(d,y,h,e)))}}})),h.paused&&await new Promise(y=>{h.resumeQueue.add(y)});const g=rb(e,await Promise.all(p));if(a&&g.finished&&!(n&&g.noop)){const y=rR(t,a,i);if(y)return uR(e,[y]),oR(e,y,!0)}return u&&$e.batchedUpdates(()=>u(g,e,e.item)),g}function cx(e,t){const n={...e.springs};return t&&Ve(yr(t),r=>{de.und(r.keys)&&(r=ed(r)),de.obj(r.to)||(r={...r,to:void 0}),lR(n,r,i=>sR(i))}),aR(e,n),n}function aR(e,t){xo(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,nc(n,e))})}function sR(e,t){const n=new oG;return n.key=e,t&&nc(n,t),n}function lR(e,t,n){t.keys&&Ve(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function uR(e,t){Ve(t,n=>{lR(e.springs,n,r=>sR(r,e))})}var ih=({children:e,...t})=>{const n=O.useContext(xm),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=H9(()=>({pause:r,immediate:i}),[r,i]);const{Provider:o}=xm;return O.createElement(o,{value:t},e)},xm=cG(ih,{});ih.Provider=xm.Provider;ih.Consumer=xm.Consumer;function cG(e,t){return Object.assign(e,O.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var cR=()=>{const e=[],t=function(r){U9();const i=[];return Ve(e,(o,a)=>{if(de.und(r))i.push(o.start());else{const l=n(r,o,a);l&&i.push(o.start(l))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return Ve(e,r=>r.pause(...arguments)),this},t.resume=function(){return Ve(e,r=>r.resume(...arguments)),this},t.set=function(r){Ve(e,(i,o)=>{const a=de.fun(r)?r(o,i):r;a&&i.set(a)})},t.start=function(r){const i=[];return Ve(e,(o,a)=>{if(de.und(r))i.push(o.start());else{const l=this._getProps(r,o,a);l&&i.push(o.start(l))}}),i},t.stop=function(){return Ve(e,r=>r.stop(...arguments)),this},t.update=function(r){return Ve(e,(i,o)=>i.update(this._getProps(r,i,o))),this};const n=function(r,i,o){return de.fun(r)?r(o,i):r};return t._getProps=n,t};function fG(e,t,n){const r=de.fun(t)&&t;r&&!n&&(n=[]);const i=O.useMemo(()=>r||arguments.length==3?cR():void 0,[]),o=O.useRef(0),a=Qw(),l=O.useMemo(()=>({ctrls:[],queue:[],flush(_,x){const b=cx(_,x);return o.current>0&&!l.queue.length&&!Object.keys(b).some(A=>!_.springs[A])?ux(_,x):new Promise(A=>{aR(_,b),l.queue.push(()=>{A(ux(_,x))}),a()})}}),[]),u=O.useRef([...l.ctrls]),c=[],d=tx(e)||0;O.useMemo(()=>{Ve(u.current.slice(e,d),_=>{ix(_,i),_.stop(!0)}),u.current.length=e,h(d,e)},[e]),O.useMemo(()=>{h(0,Math.min(d,e))},n);function h(_,x){for(let b=_;b<x;b++){const E=u.current[b]||(u.current[b]=new iR(null,l.flush)),A=r?r(b,E):t[b];A&&(c[b]=aG(A))}}const p=u.current.map((_,x)=>cx(_,c[x])),v=O.useContext(ih),g=tx(v),y=v!==g&&KL(v);Cs(()=>{o.current++,l.ctrls=u.current;const{queue:_}=l;_.length&&(l.queue=[],Ve(_,x=>x())),Ve(u.current,(x,b)=>{i==null||i.add(x),y&&x.start({default:v});const E=c[b];E&&(JL(x,E.ref),x.ref?x.queue.push(E):x.start(E))})}),eb(()=>()=>{Ve(l.ctrls,_=>_.stop(!0))});const M=p.map(_=>({..._}));return i?[M,i]:M}function Qa(e,t){const n=de.fun(e),[[r],i]=fG(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}function dG(e,t,n){const r=de.fun(t)&&t,{reset:i,sort:o,trail:a=0,expires:l=!0,exitBeforeEnter:u=!1,onDestroyed:c,ref:d,config:h}=r?r():t,p=O.useMemo(()=>r||arguments.length==3?cR():void 0,[]),v=yr(e),g=[],y=O.useRef(null),M=i?null:y.current;Cs(()=>{y.current=g}),eb(()=>(Ve(g,W=>{p==null||p.add(W.ctrl),W.ctrl.ref=p}),()=>{Ve(y.current,W=>{W.expired&&clearTimeout(W.expirationId),ix(W.ctrl,p),W.ctrl.stop(!0)})}));const _=pG(v,r?r():t,M),x=i&&y.current||[];Cs(()=>Ve(x,({ctrl:W,item:$,key:X})=>{ix(W,p),Or(c,$,X)}));const b=[];if(M&&Ve(M,(W,$)=>{W.expired?(clearTimeout(W.expirationId),x.push(W)):($=b[$]=_.indexOf(W.key),~$&&(g[$]=W))}),Ve(v,(W,$)=>{g[$]||(g[$]={key:_[$],item:W,phase:"mount",ctrl:new iR},g[$].ctrl.item=W)}),b.length){let W=-1;const{leave:$}=r?r():t;Ve(b,(X,J)=>{const V=M[J];~X?(W=g.indexOf(V),g[W]={...V,item:v[X]}):$&&g.splice(++W,0,V)})}de.fun(o)&&g.sort((W,$)=>o(W.item,$.item));let E=-a;const A=Qw(),C=Ig(t),P=new Map,R=O.useRef(new Map),N=O.useRef(!1);Ve(g,(W,$)=>{const X=W.key,J=W.phase,V=r?r():t;let I,k;const q=Or(V.delay||0,X);if(J=="mount")I=V.enter,k="enter";else{const ne=_.indexOf(X)<0;if(J!="leave")if(ne)I=V.leave,k="leave";else if(I=V.update)k="update";else return;else if(!ne)I=V.enter,k="enter";else return}if(I=Or(I,W.item,$),I=de.obj(I)?nb(I):{to:I},!I.config){const ne=h||C.config;I.config=Or(ne,W.item,$,k)}E+=a;const H={...C,delay:q+E,ref:d,immediate:V.immediate,reset:!1,...I};if(k=="enter"&&de.und(H.from)){const ne=r?r():t,re=de.und(ne.initial)||M?ne.from:ne.initial;H.from=Or(re,W.item,$)}const{onResolve:ue}=H;H.onResolve=ne=>{Or(ue,ne);const re=y.current,ve=re.find(xe=>xe.key===X);if(ve&&!(ne.cancelled&&ve.phase!="update")&&ve.ctrl.idle){const xe=re.every(ge=>ge.ctrl.idle);if(ve.phase=="leave"){const ge=Or(l,ve.item);if(ge!==!1){const ae=ge===!0?0:ge;if(ve.expired=!0,!xe&&ae>0){ae<=2147483647&&(ve.expirationId=setTimeout(A,ae));return}}}xe&&re.some(ge=>ge.expired)&&(R.current.delete(ve),u&&(N.current=!0),A())}};const Q=cx(W.ctrl,H);k==="leave"&&u?R.current.set(W,{phase:k,springs:Q,payload:H}):P.set(W,{phase:k,springs:Q,payload:H})});const F=O.useContext(ih),z=tx(F),G=F!==z&&KL(F);Cs(()=>{G&&Ve(g,W=>{W.ctrl.start({default:F})})},[F]),Ve(P,(W,$)=>{if(R.current.size){const X=g.findIndex(J=>J.key===$.key);g.splice(X,1)}}),Cs(()=>{Ve(R.current.size?R.current:P,({phase:W,payload:$},X)=>{const{ctrl:J}=X;X.phase=W,p==null||p.add(J),G&&W=="enter"&&J.start({default:F}),$&&(JL(J,$.ref),(J.ref||p)&&!N.current?J.update($):(J.start($),N.current&&(N.current=!1)))})},i?void 0:n);const K=W=>O.createElement(O.Fragment,null,g.map(($,X)=>{const{springs:J}=P.get($)||$.ctrl,V=W({...J},$.item,$,X);return V&&V.type?O.createElement(V.type,{...V.props,key:de.str($.key)||de.num($.key)?$.key:$.ctrl.id,ref:V.ref}):V}));return p?[K,p]:K}var hG=1;function pG(e,{key:t,keys:n=t},r){if(n===null){const i=new Set;return e.map(o=>{const a=r&&r.find(l=>l.item===o&&l.phase!=="leave"&&!i.has(l));return a?(i.add(a),a.key):hG++})}return de.und(n)?e:de.fun(n)?e.map(n):yr(n)}var mG=class extends ib{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=$f(...t);const n=this._get(),r=nx(n);tb(this,r.create(n))}advance(e){const t=this._get(),n=this.get();jo(t,n)||(ao(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&tA(this._active)&&p0(this)}_get(){const e=de.arr(this.source)?this.source.map(Rr):yr(Rr(this.source));return this.calc(...e)}_start(){this.idle&&!tA(this._active)&&(this.idle=!1,Ve(Ng(this),e=>{e.done=!1}),Ji.skipAnimation?($e.batchedUpdates(()=>this.advance()),p0(this)):Cg.start(this))}_attach(){let e=1;Ve(yr(this.source),t=>{_i(t)&&nc(t,this),ax(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Ve(yr(this.source),e=>{_i(e)&&Xf(e,this)}),this._active.clear(),p0(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=yr(this.source).reduce((t,n)=>Math.max(t,(ax(n)?n.priority:0)+1),0))}};function vG(e){return e.idle!==!1}function tA(e){return!e.size||Array.from(e).every(vG)}function p0(e){e.idle||(e.idle=!0,Ve(Ng(e),t=>{t.done=!0}),Zf(e,{type:"idle",parent:e}))}Ji.assign({createStringInterpolator:WL,to:(e,t)=>new mG(e,t)});var fR=/^--/;function gG(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!fR.test(e)&&!(pf.hasOwnProperty(e)&&pf[e])?t+"px":(""+t).trim()}var nA={};function yG(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:o,scrollLeft:a,viewBox:l,...u}=t,c=Object.values(u),d=Object.keys(u).map(h=>n||e.hasAttribute(h)?h:nA[h]||(nA[h]=h.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(e.textContent=i);for(const h in r)if(r.hasOwnProperty(h)){const p=gG(h,r[h]);fR.test(h)?e.style.setProperty(h,p):e.style[h]=p}d.forEach((h,p)=>{e.setAttribute(h,c[p])}),o!==void 0&&(e.scrollTop=o),a!==void 0&&(e.scrollLeft=a),l!==void 0&&e.setAttribute("viewBox",l)}var pf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_G=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),xG=["Webkit","Ms","Moz","O"];pf=Object.keys(pf).reduce((e,t)=>(xG.forEach(n=>e[_G(n,t)]=e[t]),e),pf);var wG=/^(matrix|translate|scale|rotate|skew)/,bG=/^(translate)/,SG=/^(rotate|skew)/,m0=(e,t)=>de.num(e)&&e!==0?e+t:e,Tp=(e,t)=>de.arr(e)?e.every(n=>Tp(n,t)):de.num(e)?e===t:parseFloat(e)===t,EG=class extends kg{constructor({x:e,y:t,z:n,...r}){const i=[],o=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),o.push(a=>[`translate3d(${a.map(l=>m0(l,"px")).join(",")})`,Tp(a,0)])),xo(r,(a,l)=>{if(l==="transform")i.push([a||""]),o.push(u=>[u,u===""]);else if(wG.test(l)){if(delete r[l],de.und(a))return;const u=bG.test(l)?"px":SG.test(l)?"deg":"";i.push(yr(a)),o.push(l==="rotate3d"?([c,d,h,p])=>[`rotate3d(${c},${d},${h},${m0(p,u)})`,Tp(p,0)]:c=>[`${l}(${c.map(d=>m0(d,u)).join(",")})`,Tp(c,l.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new MG(i,o)),super(r)}},MG=class extends HL{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Ve(this.inputs,(n,r)=>{const i=Rr(n[0]),[o,a]=this.transforms[r](de.arr(i)?i:n.map(Rr));e+=" "+o,t=t&&a}),t?"none":e}observerAdded(e){e==1&&Ve(this.inputs,t=>Ve(t,n=>_i(n)&&nc(n,this)))}observerRemoved(e){e==0&&Ve(this.inputs,t=>Ve(t,n=>_i(n)&&Xf(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Zf(this,e)}},AG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Ji.assign({batchedUpdates:Ju.unstable_batchedUpdates,createStringInterpolator:WL,colors:g9});var TG=q9(AG,{applyAnimatedValues:yG,createAnimatedStyle:e=>new EG(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),mo=TG.animated;function Dg({children:e,title:t,keepopen:n,className:r,usingCustomIcon:i,customOriginTransform:o}){const[a,l]=O.useState(null),u=!!a;O.useEffect(()=>{n||l(null)},[n]);const c=p=>{l(p.currentTarget)},d=()=>{l(null)},h=Qa({opacity:u?1:0,config:Ja.slow});return w.jsxs("div",{className:"my-1",children:[w.jsx("div",{hidden:!u,style:{...h,zIndex:9999},className:" backdrop-blur-lg absolute top-[30vh] left-[19vw] h-[500vh] w-[500vw] transform -translate-x-1/2 -translate-y-1/2 bg-black/50 justify-center items-center md:inset-0 "}),w.jsxs("button",{onClick:c,className:r||" max-h-[5vh] min-w-[7vw] text-white focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-blue-800",style:{zIndex:9999},children:[t,!i&&w.jsxs(w.Fragment,{children:["",w.jsx(OL,{})]})]}),w.jsx(UU,{elevation:0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:o||{vertical:"bottom",horizontal:"right"},id:"demo-customized-menu",anchorEl:a,open:u,onClose:d,sx:{backgroundColor:"transparent","& .MuiPaper-root":{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)",borderRadius:"8px",marginTop:"-4px",minWidth:180,"& .MuiMenu-list":{padding:"4px"},"& .MuiMenuItem-root":{borderRadius:"8px",padding:"4px 16px",margin:"6px","& .MuiSvgIcon-root":{fontSize:18,color:"white",marginRight:1.5}}}},children:e})]})}const rA=Mr(w.jsx("path",{d:"M20 1v3h3v2h-3v3h-2V6h-3V4h3V1h2zm-8 12c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm2-9.75V7h3v3h2.92c.05.39.08.79.08 1.2 0 3.32-2.67 7.25-8 11.8-5.33-4.55-8-8.48-8-11.8C4 6.22 7.8 3 12 3c.68 0 1.35.08 2 .25z"}),"AddLocationAlt"),PG=Mr(w.jsx("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull"),CG=Mr(w.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),LG=Mr(w.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),RG=Mr(w.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),ob=Mr(w.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),dR=Mr(w.jsx("path",{d:"M13 7h9v2h-9zm0 8h9v2h-9zm3-4h6v2h-6zm-3 1L8 7v4H2v2h6v4z"}),"ReadMore"),OG=Mr(w.jsx("path",{d:"M20 6.83V20H6.83L20 6.83M22 2 2 22h20V2z"}),"SignalCellular0Bar"),NG=Mr(w.jsx("path",{d:"M12 10c3.03 0 5.78 1.23 7.76 3.22l-2.12 2.12C16.2 13.9 14.2 13 12 13c-2.2 0-4.2.9-5.64 2.35l-2.12-2.12C6.22 11.23 8.97 10 12 10zm0 6c-1.38 0-2.63.56-3.53 1.46L12 21l3.53-3.54c-.9-.9-2.15-1.46-3.53-1.46z"}),"Wifi2Bar");function kG({call:e}){var d;const{t}=Jt(),[n,r]=O.useState(!1),{respondingCall:i,deleteCall:o,respondSpecific:a}=eh();function l(h){e!=null&&e.id&&(o(!1,e==null?void 0:e.id),r(!0))}function u(h){o(!0),r(!0)}function c(h){e!=null&&e.id&&(a(e==null?void 0:e.id),r(!0))}return O.useEffect(()=>{const h=setTimeout(()=>{r(!1)},500);return()=>clearTimeout(h)},[n]),w.jsx(w.Fragment,{children:w.jsxs(Dg,{title:w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:` ${(i==null?void 0:i.id)===(e==null?void 0:e.id)?"police-effect":""} ${e!=null&&e.flashes?"emergence-effect":""} flex justify-between px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700`,children:[w.jsx("div",{className:"flex items-center",children:w.jsxs("span",{children:["#",e==null?void 0:e.id]})}),w.jsxs("div",{className:"flex items-center",children:[w.jsx("i",{className:"fas fa-user-secret mr-2"}),w.jsx("span",{id:"",children:e==null?void 0:e.officersList.length})]})]}),w.jsx("div",{id:"",className:"flex flex-col p-2 text-white",children:w.jsxs("center",{className:"p-2",children:[w.jsxs("p",{className:" text-xl",id:"callcode",children:[e==null?void 0:e.code,"",w.jsx("span",{className:"text-xs",id:"call-code-snippet",children:e==null?void 0:e.codeSnippet})]}),w.jsx("hr",{}),w.jsx("p",{className:"",id:"message",children:e==null?void 0:e.message}),(e==null?void 0:e.otherData)&&w.jsx("div",{className:" my-1",children:(d=e==null?void 0:e.otherData)==null?void 0:d.map((h,p)=>w.jsxs("p",{className:" text-xs",id:"other-data",children:[w.jsx("i",{className:h==null?void 0:h.icon}),"",h.text]},p))}),w.jsx("p",{className:" text-xs",id:"text-location",children:e==null?void 0:e.locationText})]})}),w.jsx("div",{className:`flex justify-between px-4 py-2 text-sm font-medium text-white bg-gray-700 ${e!=null&&e.flashes?"emergence-effect":""}`,children:w.jsx("div",{className:"flex items-center",children:w.jsx("p",{className:"text-xs",children:he(e==null?void 0:e.createdAt).fromNow()})})})]}),keepopen:n,customOriginTransform:{vertical:"top",horizontal:"left"},className:`${(i==null?void 0:i.id)===(e==null?void 0:e.id)?"sirens":""} w-52 max-h-screen overflow-y-auto bg-gray-800 shadow-lg rounded-lg overflow-hidden m-2`,usingCustomIcon:!0,children:[w.jsxs(qo,{onClick:c,children:[(i==null?void 0:i.id)===(e==null?void 0:e.id)&&w.jsxs(w.Fragment,{children:[w.jsx(LG,{}),"",t("CANCEL_CALL")]}),(i==null?void 0:i.id)!==(e==null?void 0:e.id)&&w.jsx(w.Fragment,{children:w.jsxs(w.Fragment,{children:[w.jsx(CG,{}),"",t("RESPOND")]})})]}),w.jsx(um,{sx:{my:.5}}),w.jsxs(qo,{onClick:l,children:[w.jsx(RG,{}),"",t("DELETE")]}),w.jsx(um,{sx:{my:.5}}),w.jsxs(qo,{onClick:u,children:[w.jsx(ob,{}),"",t("DELETE_ALL")]})]})})}var ab={},IG=rl;Object.defineProperty(ab,"__esModule",{value:!0});var sb=ab.default=void 0,DG=IG(il()),FG=w,BG=(0,DG.default)((0,FG.jsx)("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9 1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}),"DirectionsRunOutlined");sb=ab.default=BG;var lb={},zG=rl;Object.defineProperty(lb,"__esModule",{value:!0});var ub=lb.default=void 0,UG=zG(il()),v0=w,jG=(0,UG.default)([(0,v0.jsx)("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.85 7h10.29l1.04 3H5.81l1.04-3zM19 17H5v-5h14v5z"},"0"),(0,v0.jsx)("circle",{cx:"7.5",cy:"14.5",r:"1.5"},"1"),(0,v0.jsx)("circle",{cx:"16.5",cy:"14.5",r:"1.5"},"2")],"DirectionsCarFilledOutlined");ub=lb.default=jG;var cb={},HG=rl;Object.defineProperty(cb,"__esModule",{value:!0});var fb=cb.default=void 0,GG=HG(il()),VG=w,WG=(0,GG.default)((0,VG.jsx)("path",{d:"M4.17 11H4h.17m9.24-6H9v2h3.59l2 2H11l-4 2-2-2H0v2h4c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4l2 2h3l3.49-6.1 1.01 1.01c-.91.73-1.5 1.84-1.5 3.09 0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4c-.18 0-.36.03-.53.05L17.41 9H20V6l-3.72 1.86L13.41 5zM20 17c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM4 17c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"TwoWheelerOutlined");fb=cb.default=WG;var db={},$G=rl;Object.defineProperty(db,"__esModule",{value:!0});var hb=db.default=void 0,YG=$G(il()),ZG=w,XG=(0,YG.default)((0,ZG.jsx)("path",{d:"M11 13.5V2L3 13.5h8zm-2-2H6.83L9 8.38v3.12zm12 2C21 6.5 14.5 1 12.5 1c0 0 1 3 1 6.5s-1 6-1 6H21zm-5.62-8.26c1.42 1.52 2.88 3.72 3.41 6.26h-3.68c.21-1.1.39-2.46.39-4 0-.79-.05-1.55-.12-2.26zM22 15H2c.31 1.53 1.16 2.84 2.33 3.73.65-.27 1.22-.72 1.67-1.23.73.84 1.8 1.5 3 1.5s2.27-.66 3-1.5c.73.84 1.8 1.5 3 1.5s2.26-.66 3-1.5c.45.51 1.02.96 1.67 1.23 1.17-.89 2.02-2.2 2.33-3.73zm0 8v-2h-1c-1.04 0-2.08-.35-3-1-1.83 1.3-4.17 1.3-6 0-1.83 1.3-4.17 1.3-6 0-.91.65-1.96 1-3 1H2v2h1c1.03 0 2.05-.25 3-.75 1.89 1 4.11 1 6 0 1.89 1 4.11 1 6 0 .95.5 1.97.75 3 .75h1z"}),"SailingOutlined");hb=db.default=XG;var pb={},qG=rl;Object.defineProperty(pb,"__esModule",{value:!0});var mb=pb.default=void 0,KG=qG(il()),JG=w,QG=(0,KG.default)((0,JG.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"FlightOutlined");mb=pb.default=QG;var vb={},eV=rl;Object.defineProperty(vb,"__esModule",{value:!0});var gb=vb.default=void 0,tV=eV(il()),iA=w,nV=(0,tV.default)([(0,iA.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"0"),(0,iA.jsx)("path",{d:"M22 7.47V5.35C20.05 4.77 16.56 4 12 4c-2.15 0-4.11.86-5.54 2.24.13-.85.4-2.4 1.01-4.24H5.35C4.77 3.95 4 7.44 4 12c0 2.15.86 4.11 2.24 5.54-.85-.14-2.4-.4-4.24-1.01v2.12C3.95 19.23 7.44 20 12 20c2.15 0 4.11-.86 5.54-2.24-.14.85-.4 2.4-1.01 4.24h2.12c.58-1.95 1.35-5.44 1.35-10 0-2.15-.86-4.11-2.24-5.54.85.13 2.4.4 4.24 1.01zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"},"1")],"CycloneOutlined");gb=vb.default=nV;function hR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=hR(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ka(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=hR(e))&&(r&&(r+=" "),r+=t);return r}const mf=e=>typeof e=="number"&&!isNaN(e),Ws=e=>typeof e=="string",Ir=e=>typeof e=="function",Pp=e=>Ws(e)||Ir(e)?e:null,g0=e=>O.isValidElement(e)||Ws(e)||Ir(e)||mf(e);function rV(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Fg(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(a){let{children:l,position:u,preventExitTransition:c,done:d,nodeRef:h,isIn:p}=a;const v=r?`${t}--${u}`:t,g=r?`${n}--${u}`:n,y=O.useRef(0);return O.useLayoutEffect(()=>{const M=h.current,_=v.split(" "),x=b=>{b.target===h.current&&(M.dispatchEvent(new Event("d")),M.removeEventListener("animationend",x),M.removeEventListener("animationcancel",x),y.current===0&&b.type!=="animationcancel"&&M.classList.remove(..._))};M.classList.add(..._),M.addEventListener("animationend",x),M.addEventListener("animationcancel",x)},[]),O.useEffect(()=>{const M=h.current,_=()=>{M.removeEventListener("animationend",_),i?rV(M,d,o):d()};p||(c?_():(y.current=1,M.className+=` ${g}`,M.addEventListener("animationend",_)))},[p]),Ge.createElement(Ge.Fragment,null,l)}}function oA(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const mi={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Jh=e=>{let{theme:t,type:n,...r}=e;return Ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},y0={info:function(e){return Ge.createElement(Jh,{...e},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ge.createElement(Jh,{...e},Ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ge.createElement(Jh,{...e},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ge.createElement(Jh,{...e},Ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ge.createElement("div",{className:"Toastify__spinner"})}};function iV(e){const[,t]=O.useReducer(v=>v+1,0),[n,r]=O.useState([]),i=O.useRef(null),o=O.useRef(new Map).current,a=v=>n.indexOf(v)!==-1,l=O.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:a,getToast:v=>o.get(v)}).current;function u(v){let{containerId:g}=v;const{limit:y}=l.props;!y||g&&l.containerId!==g||(l.count-=l.queue.length,l.queue=[])}function c(v){r(g=>v==null?[]:g.filter(y=>y!==v))}function d(){const{toastContent:v,toastProps:g,staleId:y}=l.queue.shift();p(v,g,y)}function h(v,g){let{delay:y,staleId:M,..._}=g;if(!g0(v)||function(G){return!i.current||l.props.enableMultiContainer&&G.containerId!==l.props.containerId||o.has(G.toastId)&&G.updateId==null}(_))return;const{toastId:x,updateId:b,data:E}=_,{props:A}=l,C=()=>c(x),P=b==null;P&&l.count++;const R={...A,style:A.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(_).filter(G=>{let[K,W]=G;return W!=null})),toastId:x,updateId:b,data:E,closeToast:C,isIn:!1,className:Pp(_.className||A.toastClassName),bodyClassName:Pp(_.bodyClassName||A.bodyClassName),progressClassName:Pp(_.progressClassName||A.progressClassName),autoClose:!_.isLoading&&(N=_.autoClose,F=A.autoClose,N===!1||mf(N)&&N>0?N:F),deleteToast(){const G=oA(o.get(x),"removed");o.delete(x),mi.emit(4,G);const K=l.queue.length;if(l.count=x==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),K>0){const W=x==null?l.props.limit:1;if(K===1||W===1)l.displayedToast++,d();else{const $=W>K?K:W;l.displayedToast=$;for(let X=0;X<$;X++)d()}}else t()}};var N,F;R.iconOut=function(G){let{theme:K,type:W,isLoading:$,icon:X}=G,J=null;const V={theme:K,type:W};return X===!1||(Ir(X)?J=X(V):O.isValidElement(X)?J=O.cloneElement(X,V):Ws(X)||mf(X)?J=X:$?J=y0.spinner():(I=>I in y0)(W)&&(J=y0[W](V))),J}(R),Ir(_.onOpen)&&(R.onOpen=_.onOpen),Ir(_.onClose)&&(R.onClose=_.onClose),R.closeButton=A.closeButton,_.closeButton===!1||g0(_.closeButton)?R.closeButton=_.closeButton:_.closeButton===!0&&(R.closeButton=!g0(A.closeButton)||A.closeButton);let z=v;O.isValidElement(v)&&!Ws(v.type)?z=O.cloneElement(v,{closeToast:C,toastProps:R,data:E}):Ir(v)&&(z=v({closeToast:C,toastProps:R,data:E})),A.limit&&A.limit>0&&l.count>A.limit&&P?l.queue.push({toastContent:z,toastProps:R,staleId:M}):mf(y)?setTimeout(()=>{p(z,R,M)},y):p(z,R,M)}function p(v,g,y){const{toastId:M}=g;y&&o.delete(y);const _={content:v,props:g};o.set(M,_),r(x=>[...x,M].filter(b=>b!==y)),mi.emit(4,oA(_,_.props.updateId==null?"added":"updated"))}return O.useEffect(()=>(l.containerId=e.containerId,mi.cancelEmit(3).on(0,h).on(1,v=>i.current&&c(v)).on(5,u).emit(2,l),()=>{o.clear(),mi.emit(3,l)}),[]),O.useEffect(()=>{l.props=e,l.isToastActive=a,l.displayedToast=n.length}),{getToastToRender:function(v){const g=new Map,y=Array.from(o.values());return e.newestOnTop&&y.reverse(),y.forEach(M=>{const{position:_}=M.props;g.has(_)||g.set(_,[]),g.get(_).push(M)}),Array.from(g,M=>v(M[0],M[1]))},containerRef:i,isToastActive:a}}function aA(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function sA(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function oV(e){const[t,n]=O.useState(!1),[r,i]=O.useState(!1),o=O.useRef(null),a=O.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=O.useRef(e),{autoClose:u,pauseOnHover:c,closeToast:d,onClick:h,closeOnClick:p}=e;function v(E){if(e.draggable){E.nativeEvent.type==="touchstart"&&E.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",_),document.addEventListener("mouseup",x),document.addEventListener("touchmove",_),document.addEventListener("touchend",x);const A=o.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=A.getBoundingClientRect(),A.style.transition="",a.x=aA(E.nativeEvent),a.y=sA(E.nativeEvent),e.draggableDirection==="x"?(a.start=a.x,a.removalDistance=A.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=A.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(E){if(a.boundingRect){const{top:A,bottom:C,left:P,right:R}=a.boundingRect;E.nativeEvent.type!=="touchend"&&e.pauseOnHover&&a.x>=P&&a.x<=R&&a.y>=A&&a.y<=C?M():y()}}function y(){n(!0)}function M(){n(!1)}function _(E){const A=o.current;a.canDrag&&A&&(a.didMove=!0,t&&M(),a.x=aA(E),a.y=sA(E),a.delta=e.draggableDirection==="x"?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),A.style.transform=`translate${e.draggableDirection}(${a.delta}px)`,A.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function x(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",x);const E=o.current;if(a.canDrag&&a.didMove&&E){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),void e.closeToast();E.style.transition="transform 0.2s, opacity 0.2s",E.style.transform=`translate${e.draggableDirection}(0)`,E.style.opacity="1"}}O.useEffect(()=>{l.current=e}),O.useEffect(()=>(o.current&&o.current.addEventListener("d",y,{once:!0}),Ir(e.onOpen)&&e.onOpen(O.isValidElement(e.children)&&e.children.props),()=>{const E=l.current;Ir(E.onClose)&&E.onClose(O.isValidElement(E.children)&&E.children.props)}),[]),O.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||M(),window.addEventListener("focus",y),window.addEventListener("blur",M)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",M))}),[e.pauseOnFocusLoss]);const b={onMouseDown:v,onTouchStart:v,onMouseUp:g,onTouchEnd:g};return u&&c&&(b.onMouseEnter=M,b.onMouseLeave=y),p&&(b.onClick=E=>{h&&h(E),a.canCloseOnClick&&d()}),{playToast:y,pauseToast:M,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:b}}function pR(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function aV(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:a,style:l,controlledProgress:u,progress:c,rtl:d,isIn:h,theme:p}=e;const v=o||u&&c===0,g={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:v?0:1};u&&(g.transform=`scaleX(${c})`);const y=ka("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),M=Ir(a)?a({rtl:d,type:i,defaultClassName:y}):ka(y,a);return Ge.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:M,style:g,[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{h&&r()}})}const sV=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=oV(e),{closeButton:o,children:a,autoClose:l,onClick:u,type:c,hideProgressBar:d,closeToast:h,transition:p,position:v,className:g,style:y,bodyClassName:M,bodyStyle:_,progressClassName:x,progressStyle:b,updateId:E,role:A,progress:C,rtl:P,toastId:R,deleteToast:N,isIn:F,isLoading:z,iconOut:G,closeOnClick:K,theme:W}=e,$=ka("Toastify__toast",`Toastify__toast-theme--${W}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":K}),X=Ir(g)?g({rtl:P,position:v,type:c,defaultClassName:$}):ka($,g),J=!!C||!l,V={closeToast:h,type:c,theme:W};let I=null;return o===!1||(I=Ir(o)?o(V):O.isValidElement(o)?O.cloneElement(o,V):pR(V)),Ge.createElement(p,{isIn:F,done:N,position:v,preventExitTransition:n,nodeRef:r},Ge.createElement("div",{id:R,onClick:u,className:X,...i,style:y,ref:r},Ge.createElement("div",{...F&&{role:A},className:Ir(M)?M({type:c}):ka("Toastify__toast-body",M),style:_},G!=null&&Ge.createElement("div",{className:ka("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!z})},G),Ge.createElement("div",null,a)),I,Ge.createElement(aV,{...E&&!J?{key:`pb-${E}`}:{},rtl:P,theme:W,delay:l,isRunning:t,isIn:F,closeToast:h,hide:d,type:c,style:b,className:x,controlledProgress:J,progress:C||0})))},Bg=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},lV=Fg(Bg("bounce",!0));Fg(Bg("slide",!0));Fg(Bg("zoom"));Fg(Bg("flip"));const fx=O.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=iV(e),{className:o,style:a,rtl:l,containerId:u}=e;function c(d){const h=ka("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":l});return Ir(o)?o({position:d,rtl:l,defaultClassName:h}):ka(h,Pp(o))}return O.useEffect(()=>{t&&(t.current=r.current)},[]),Ge.createElement("div",{ref:r,className:"Toastify",id:u},n((d,h)=>{const p=h.length?{...a}:{...a,pointerEvents:"none"};return Ge.createElement("div",{className:c(d),style:p,key:`container-${d}`},h.map((v,g)=>{let{content:y,props:M}=v;return Ge.createElement(sV,{...M,isIn:i(M.toastId),style:{...M.style,"--nth":g+1,"--len":h.length},key:`toast-${M.key}`},y)}))}))});fx.displayName="ToastContainer",fx.defaultProps={position:"top-right",transition:lV,autoClose:5e3,closeButton:pR,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let _0,bs=new Map,Xc=[],uV=1;function mR(){return""+uV++}function cV(e){return e&&(Ws(e.toastId)||mf(e.toastId))?e.toastId:mR()}function vf(e,t){return bs.size>0?mi.emit(0,e,t):Xc.push({content:e,options:t}),t.toastId}function wm(e,t){return{...t,type:t&&t.type||e,toastId:cV(t)}}function Qh(e){return(t,n)=>vf(t,wm(e,n))}function ct(e,t){return vf(e,wm("default",t))}ct.loading=(e,t)=>vf(e,wm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),ct.promise=function(e,t,n){let r,{pending:i,error:o,success:a}=t;i&&(r=Ws(i)?ct.loading(i,n):ct.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,h,p)=>{if(h==null)return void ct.dismiss(r);const v={type:d,...l,...n,data:p},g=Ws(h)?{render:h}:h;return r?ct.update(r,{...v,...g}):ct(g.render,{...v,...g}),p},c=Ir(e)?e():e;return c.then(d=>u("success",a,d)).catch(d=>u("error",o,d)),c},ct.success=Qh("success"),ct.info=Qh("info"),ct.error=Qh("error"),ct.warning=Qh("warning"),ct.warn=ct.warning,ct.dark=(e,t)=>vf(e,wm("default",{theme:"dark",...t})),ct.dismiss=e=>{bs.size>0?mi.emit(1,e):Xc=Xc.filter(t=>e!=null&&t.options.toastId!==e)},ct.clearWaitingQueue=function(e){return e===void 0&&(e={}),mi.emit(5,e)},ct.isActive=e=>{let t=!1;return bs.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},ct.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const a=bs.get(o||_0);return a&&a.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:mR()};o.toastId!==e&&(o.staleId=e);const a=o.render||i;delete o.render,vf(a,o)}},0)},ct.done=e=>{ct.update(e,{progress:1})},ct.onChange=e=>(mi.on(4,e),()=>{mi.off(4,e)}),ct.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ct.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},mi.on(2,e=>{_0=e.containerId||e,bs.set(_0,e),Xc.forEach(t=>{mi.emit(0,t.content,t.options)}),Xc=[]}).on(3,e=>{bs.delete(e.containerId||e),bs.size===0&&mi.off(0).off(1).off(5)});const fV={walking:sb,automobile:ub,bike:fb,boat:hb,heli:gb,plane:mb};function dV({player:e}){var c;const{t}=Jt(),{PlayClick:n}=eh(),{ToggleLargue:r,largueDispatch:i}=Ri();function o(d){n(),r(),Be("setmarkerplayer",{coords:e.coords},()=>{})}function a(){if(n(),r(),!(e!=null&&e.src))return ct.error(t("PLAYER_NOT_CONNECTED"));Be("setbodycam",e==null?void 0:e.src,()=>{})}let l=fV[(e==null?void 0:e.vehType)||"walking"],u=(c=e==null?void 0:e.name)==null?void 0:c.replace(/\B#([A-Za-z0-9]{2,})(?![~!@#$%^&*()=+_`\-\|\\/'\[\]\{\}]|[?.,]*\w)/i,"");return w.jsx(w.Fragment,{children:w.jsxs(Dg,{keepopen:i,title:w.jsxs(w.Fragment,{children:[u," | ",w.jsx(l,{})]}),className:"w-full px-4 py-2 border-b rounded-t-lg border-gray-600",usingCustomIcon:!0,children:[w.jsxs(qo,{onClick:o,disableRipple:!0,children:[w.jsx(rA,{}),t("MARK_YOUR_CURENT_LOCATION")]}),w.jsxs(qo,{onClick:a,disableRipple:!0,children:[w.jsx(rA,{}),t("VIEW_BODY_CAM")]})]})})}function vR(e,t){const n=O.useRef(t);O.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const hV=1;function pV(e){return Object.freeze({__version:hV,map:e})}function zg(e,t){return Object.freeze({...e,...t})}const gR=O.createContext(null),yb=gR.Provider;function Ug(){const e=O.useContext(gR);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function yR(e){function t(n,r){const{instance:i,context:o}=e(n).current;return O.useImperativeHandle(r,()=>i),n.children==null?null:Ge.createElement(yb,{value:o},n.children)}return O.forwardRef(t)}function mV(e){function t(n,r){const[i,o]=O.useState(!1),{instance:a}=e(n,o).current;O.useImperativeHandle(r,()=>a),O.useEffect(function(){i&&a.update()},[a,i,n.children]);const l=a._contentNode;return l?Ju.createPortal(n.children,l):null}return O.forwardRef(t)}function vV(e){function t(n,r){const{instance:i}=e(n).current;return O.useImperativeHandle(r,()=>i),null}return O.forwardRef(t)}function gV(e){return function(n){const r=Ug(),i=e(n,r),{instance:o}=i.current,a=O.useRef(n.position),{position:l}=n;return O.useEffect(function(){return o.addTo(r.map),function(){o.remove()}},[r.map,o]),O.useEffect(function(){l!=null&&l!==a.current&&(o.setPosition(l),a.current=l)},[o,l]),i}}function _R(e,t){const n=O.useRef();O.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function _b(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function yV(e,t){return function(r,i){const o=Ug(),a=e(_b(r,o),o);return vR(o.map,r.attribution),_R(a.current,r.eventHandlers),t(a.current,o,r,i),a}}var dx={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(o3,function(n){var r="1.9.4";function i(s){var f,m,S,T;for(m=1,S=arguments.length;m<S;m++){T=arguments[m];for(f in T)s[f]=T[f]}return s}var o=Object.create||function(){function s(){}return function(f){return s.prototype=f,new s}}();function a(s,f){var m=Array.prototype.slice;if(s.bind)return s.bind.apply(s,m.call(arguments,1));var S=m.call(arguments,2);return function(){return s.apply(f,S.length?S.concat(m.call(arguments)):arguments)}}var l=0;function u(s){return"_leaflet_id"in s||(s._leaflet_id=++l),s._leaflet_id}function c(s,f,m){var S,T,D,Y;return Y=function(){S=!1,T&&(D.apply(m,T),T=!1)},D=function(){S?T=arguments:(s.apply(m,arguments),setTimeout(Y,f),S=!0)},D}function d(s,f,m){var S=f[1],T=f[0],D=S-T;return s===S&&m?s:((s-T)%D+D)%D+T}function h(){return!1}function p(s,f){if(f===!1)return s;var m=Math.pow(10,f===void 0?6:f);return Math.round(s*m)/m}function v(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function g(s){return v(s).split(/\s+/)}function y(s,f){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var m in f)s.options[m]=f[m];return s.options}function M(s,f,m){var S=[];for(var T in s)S.push(encodeURIComponent(m?T.toUpperCase():T)+"="+encodeURIComponent(s[T]));return(!f||f.indexOf("?")===-1?"?":"&")+S.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function x(s,f){return s.replace(_,function(m,S){var T=f[S];if(T===void 0)throw new Error("No value provided for variable "+m);return typeof T=="function"&&(T=T(f)),T})}var b=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function E(s,f){for(var m=0;m<s.length;m++)if(s[m]===f)return m;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var P=0;function R(s){var f=+new Date,m=Math.max(0,16-(f-P));return P=f+m,window.setTimeout(s,m)}var N=window.requestAnimationFrame||C("RequestAnimationFrame")||R,F=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function z(s,f,m){if(m&&N===R)s.call(f);else return N.call(window,a(s,f))}function G(s){s&&F.call(window,s)}var K={__proto__:null,extend:i,create:o,bind:a,get lastId(){return l},stamp:u,throttle:c,wrapNum:d,falseFn:h,formatNum:p,trim:v,splitWords:g,setOptions:y,getParamString:M,template:x,isArray:b,indexOf:E,emptyImageUrl:A,requestFn:N,cancelFn:F,requestAnimFrame:z,cancelAnimFrame:G};function W(){}W.extend=function(s){var f=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=f.__super__=this.prototype,S=o(m);S.constructor=f,f.prototype=S;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(f[T]=this[T]);return s.statics&&i(f,s.statics),s.includes&&($(s.includes),i.apply(null,[S].concat(s.includes))),i(S,s),delete S.statics,delete S.includes,S.options&&(S.options=m.options?o(m.options):{},i(S.options,s.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,Y=S._initHooks.length;D<Y;D++)S._initHooks[D].call(this)}},f},W.include=function(s){var f=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=f,this.mergeOptions(s.options)),this},W.mergeOptions=function(s){return i(this.prototype.options,s),this},W.addInitHook=function(s){var f=Array.prototype.slice.call(arguments,1),m=typeof s=="function"?s:function(){this[s].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function $(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=b(s)?s:[s];for(var f=0;f<s.length;f++)s[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(s,f,m){if(typeof s=="object")for(var S in s)this._on(S,s[S],f);else{s=g(s);for(var T=0,D=s.length;T<D;T++)this._on(s[T],f,m)}return this},off:function(s,f,m){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var S in s)this._off(S,s[S],f);else{s=g(s);for(var T=arguments.length===1,D=0,Y=s.length;D<Y;D++)T?this._off(s[D]):this._off(s[D],f,m)}return this},_on:function(s,f,m,S){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(s,f,m)===!1){m===this&&(m=void 0);var T={fn:f,ctx:m};S&&(T.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(T)}},_off:function(s,f,m){var S,T,D;if(this._events&&(S=this._events[s],!!S)){if(arguments.length===1){if(this._firingCount)for(T=0,D=S.length;T<D;T++)S[T].fn=h;delete this._events[s];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var Y=this._listens(s,f,m);if(Y!==!1){var te=S[Y];this._firingCount&&(te.fn=h,this._events[s]=S=S.slice()),S.splice(Y,1)}}},fire:function(s,f,m){if(!this.listens(s,m))return this;var S=i({},f,{type:s,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var T=this._events[s];if(T){this._firingCount=this._firingCount+1||1;for(var D=0,Y=T.length;D<Y;D++){var te=T[D],ie=te.fn;te.once&&this.off(s,ie,te.ctx),ie.call(te.ctx||this,S)}this._firingCount--}}return m&&this._propagateEvent(S),this},listens:function(s,f,m,S){typeof s!="string"&&console.warn('"string" type argument expected');var T=f;typeof f!="function"&&(S=!!f,T=void 0,m=void 0);var D=this._events&&this._events[s];if(D&&D.length&&this._listens(s,T,m)!==!1)return!0;if(S){for(var Y in this._eventParents)if(this._eventParents[Y].listens(s,f,m,S))return!0}return!1},_listens:function(s,f,m){if(!this._events)return!1;var S=this._events[s]||[];if(!f)return!!S.length;m===this&&(m=void 0);for(var T=0,D=S.length;T<D;T++)if(S[T].fn===f&&S[T].ctx===m)return T;return!1},once:function(s,f,m){if(typeof s=="object")for(var S in s)this._on(S,s[S],f,!0);else{s=g(s);for(var T=0,D=s.length;T<D;T++)this._on(s[T],f,m,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[u(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[u(s)],this},_propagateEvent:function(s){for(var f in this._eventParents)this._eventParents[f].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var J=W.extend(X);function V(s,f,m){this.x=m?Math.round(s):s,this.y=m?Math.round(f):f}var I=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(s){return this.clone()._add(k(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(k(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new V(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new V(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=I(this.x),this.y=I(this.y),this},distanceTo:function(s){s=k(s);var f=s.x-this.x,m=s.y-this.y;return Math.sqrt(f*f+m*m)},equals:function(s){return s=k(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=k(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function k(s,f,m){return s instanceof V?s:b(s)?new V(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new V(s.x,s.y):new V(s,f,m)}function q(s,f){if(s)for(var m=f?[s,f]:s,S=0,T=m.length;S<T;S++)this.extend(m[S])}q.prototype={extend:function(s){var f,m;if(!s)return this;if(s instanceof V||typeof s[0]=="number"||"x"in s)f=m=k(s);else if(s=H(s),f=s.min,m=s.max,!f||!m)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=m.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(s){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var f,m;return typeof s[0]=="number"||s instanceof V?s=k(s):s=H(s),s instanceof q?(f=s.min,m=s.max):f=m=s,f.x>=this.min.x&&m.x<=this.max.x&&f.y>=this.min.y&&m.y<=this.max.y},intersects:function(s){s=H(s);var f=this.min,m=this.max,S=s.min,T=s.max,D=T.x>=f.x&&S.x<=m.x,Y=T.y>=f.y&&S.y<=m.y;return D&&Y},overlaps:function(s){s=H(s);var f=this.min,m=this.max,S=s.min,T=s.max,D=T.x>f.x&&S.x<m.x,Y=T.y>f.y&&S.y<m.y;return D&&Y},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var f=this.min,m=this.max,S=Math.abs(f.x-m.x)*s,T=Math.abs(f.y-m.y)*s;return H(k(f.x-S,f.y-T),k(m.x+S,m.y+T))},equals:function(s){return s?(s=H(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function H(s,f){return!s||s instanceof q?s:new q(s,f)}function ue(s,f){if(s)for(var m=f?[s,f]:s,S=0,T=m.length;S<T;S++)this.extend(m[S])}ue.prototype={extend:function(s){var f=this._southWest,m=this._northEast,S,T;if(s instanceof ne)S=s,T=s;else if(s instanceof ue){if(S=s._southWest,T=s._northEast,!S||!T)return this}else return s?this.extend(re(s)||Q(s)):this;return!f&&!m?(this._southWest=new ne(S.lat,S.lng),this._northEast=new ne(T.lat,T.lng)):(f.lat=Math.min(S.lat,f.lat),f.lng=Math.min(S.lng,f.lng),m.lat=Math.max(T.lat,m.lat),m.lng=Math.max(T.lng,m.lng)),this},pad:function(s){var f=this._southWest,m=this._northEast,S=Math.abs(f.lat-m.lat)*s,T=Math.abs(f.lng-m.lng)*s;return new ue(new ne(f.lat-S,f.lng-T),new ne(m.lat+S,m.lng+T))},getCenter:function(){return new ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ne||"lat"in s?s=re(s):s=Q(s);var f=this._southWest,m=this._northEast,S,T;return s instanceof ue?(S=s.getSouthWest(),T=s.getNorthEast()):S=T=s,S.lat>=f.lat&&T.lat<=m.lat&&S.lng>=f.lng&&T.lng<=m.lng},intersects:function(s){s=Q(s);var f=this._southWest,m=this._northEast,S=s.getSouthWest(),T=s.getNorthEast(),D=T.lat>=f.lat&&S.lat<=m.lat,Y=T.lng>=f.lng&&S.lng<=m.lng;return D&&Y},overlaps:function(s){s=Q(s);var f=this._southWest,m=this._northEast,S=s.getSouthWest(),T=s.getNorthEast(),D=T.lat>f.lat&&S.lat<m.lat,Y=T.lng>f.lng&&S.lng<m.lng;return D&&Y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,f){return s?(s=Q(s),this._southWest.equals(s.getSouthWest(),f)&&this._northEast.equals(s.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(s,f){return s instanceof ue?s:new ue(s,f)}function ne(s,f,m){if(isNaN(s)||isNaN(f))throw new Error("Invalid LatLng object: ("+s+", "+f+")");this.lat=+s,this.lng=+f,m!==void 0&&(this.alt=+m)}ne.prototype={equals:function(s,f){if(!s)return!1;s=re(s);var m=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return m<=(f===void 0?1e-9:f)},toString:function(s){return"LatLng("+p(this.lat,s)+", "+p(this.lng,s)+")"},distanceTo:function(s){return xe.distance(this,re(s))},wrap:function(){return xe.wrapLatLng(this)},toBounds:function(s){var f=180*s/40075017,m=f/Math.cos(Math.PI/180*this.lat);return Q([this.lat-f,this.lng-m],[this.lat+f,this.lng+m])},clone:function(){return new ne(this.lat,this.lng,this.alt)}};function re(s,f,m){return s instanceof ne?s:b(s)&&typeof s[0]!="object"?s.length===3?new ne(s[0],s[1],s[2]):s.length===2?new ne(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ne(s.lat,"lng"in s?s.lng:s.lon,s.alt):f===void 0?null:new ne(s,f,m)}var ve={latLngToPoint:function(s,f){var m=this.projection.project(s),S=this.scale(f);return this.transformation._transform(m,S)},pointToLatLng:function(s,f){var m=this.scale(f),S=this.transformation.untransform(s,m);return this.projection.unproject(S)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var f=this.projection.bounds,m=this.scale(s),S=this.transformation.transform(f.min,m),T=this.transformation.transform(f.max,m);return new q(S,T)},infinite:!1,wrapLatLng:function(s){var f=this.wrapLng?d(s.lng,this.wrapLng,!0):s.lng,m=this.wrapLat?d(s.lat,this.wrapLat,!0):s.lat,S=s.alt;return new ne(m,f,S)},wrapLatLngBounds:function(s){var f=s.getCenter(),m=this.wrapLatLng(f),S=f.lat-m.lat,T=f.lng-m.lng;if(S===0&&T===0)return s;var D=s.getSouthWest(),Y=s.getNorthEast(),te=new ne(D.lat-S,D.lng-T),ie=new ne(Y.lat-S,Y.lng-T);return new ue(te,ie)}},xe=i({},ve,{wrapLng:[-180,180],R:6371e3,distance:function(s,f){var m=Math.PI/180,S=s.lat*m,T=f.lat*m,D=Math.sin((f.lat-s.lat)*m/2),Y=Math.sin((f.lng-s.lng)*m/2),te=D*D+Math.cos(S)*Math.cos(T)*Y*Y,ie=2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te));return this.R*ie}}),ge=6378137,ae={R:ge,MAX_LATITUDE:85.0511287798,project:function(s){var f=Math.PI/180,m=this.MAX_LATITUDE,S=Math.max(Math.min(m,s.lat),-m),T=Math.sin(S*f);return new V(this.R*s.lng*f,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(s){var f=180/Math.PI;return new ne((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*f,s.x*f/this.R)},bounds:function(){var s=ge*Math.PI;return new q([-s,-s],[s,s])}()};function Te(s,f,m,S){if(b(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=f,this._c=m,this._d=S}Te.prototype={transform:function(s,f){return this._transform(s.clone(),f)},_transform:function(s,f){return f=f||1,s.x=f*(this._a*s.x+this._b),s.y=f*(this._c*s.y+this._d),s},untransform:function(s,f){return f=f||1,new V((s.x/f-this._b)/this._a,(s.y/f-this._d)/this._c)}};function ze(s,f,m,S){return new Te(s,f,m,S)}var ye=i({},xe,{code:"EPSG:3857",projection:ae,transformation:function(){var s=.5/(Math.PI*ae.R);return ze(s,.5,-s,.5)}()}),qe=i({},ye,{code:"EPSG:900913"});function Ke(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Wt(s,f){var m="",S,T,D,Y,te,ie;for(S=0,D=s.length;S<D;S++){for(te=s[S],T=0,Y=te.length;T<Y;T++)ie=te[T],m+=(T?"L":"M")+ie.x+" "+ie.y;m+=f?Ne.svg?"z":"x":""}return m||"M0 0"}var Lt=document.documentElement.style,an="ActiveXObject"in window,Nn=an&&!document.addEventListener,Rt="msLaunchUri"in navigator&&!("documentMode"in document),Nt=ui("webkit"),Zt=ui("android"),Ar=ui("android 2")||ui("android 3"),gt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dn=Zt&&ui("Google")&&gt<537&&!("AudioNode"in window),Je=!!window.opera,it=!Rt&&ui("chrome"),ee=ui("gecko")&&!Nt&&!Je&&!an,se=!it&&ui("safari"),Me=ui("phantom"),Ye="OTransition"in Lt,Re=navigator.platform.indexOf("Win")===0,nt=an&&"transition"in Lt,Mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ar,At="MozPerspective"in Lt,qn=!window.L_DISABLE_3D&&(nt||Mt||At)&&!Ye&&!Me,yt=typeof orientation<"u"||ui("mobile"),cr=yt&&Nt,_n=yt&&Mt,cs=!window.PointerEvent&&window.MSPointerEvent,fs=!!(window.PointerEvent||cs),al="ontouchstart"in window||!!window.TouchEvent,uc=!window.L_NO_TOUCH&&(al||fs),sl=yt&&Je,ll=yt&&ee,Oo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zg=function(){var s=!1;try{var f=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",h,f),window.removeEventListener("testPassiveEventSupport",h,f)}catch{}return s}(),uh=function(){return!!document.createElement("canvas").getContext}(),cc=!!(document.createElementNS&&Ke("svg").createSVGRect),Xg=!!cc&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),qg=!cc&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var f=s.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),Kg=navigator.platform.indexOf("Mac")===0,Jg=navigator.platform.indexOf("Linux")===0;function ui(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ne={ie:an,ielt9:Nn,edge:Rt,webkit:Nt,android:Zt,android23:Ar,androidStock:dn,opera:Je,chrome:it,gecko:ee,safari:se,phantom:Me,opera12:Ye,win:Re,ie3d:nt,webkit3d:Mt,gecko3d:At,any3d:qn,mobile:yt,mobileWebkit:cr,mobileWebkit3d:_n,msPointer:cs,pointer:fs,touch:uc,touchNative:al,mobileOpera:sl,mobileGecko:ll,retina:Oo,passiveEvents:Zg,canvas:uh,svg:cc,vml:qg,inlineSvg:Xg,mac:Kg,linux:Jg},B=Ne.msPointer?"MSPointerDown":"pointerdown",j=Ne.msPointer?"MSPointerMove":"pointermove",Z=Ne.msPointer?"MSPointerUp":"pointerup",fe=Ne.msPointer?"MSPointerCancel":"pointercancel",Ee={touchstart:B,touchmove:j,touchend:Z,touchcancel:fe},lt={touchstart:ht,touchmove:ke,touchend:ke,touchcancel:ke},be={},Le=!1;function et(s,f,m){return f==="touchstart"&&rt(),lt[f]?(m=lt[f].bind(this,m),s.addEventListener(Ee[f],m,!1),m):(console.warn("wrong event specified:",f),h)}function kt(s,f,m){if(!Ee[f]){console.warn("wrong event specified:",f);return}s.removeEventListener(Ee[f],m,!1)}function Tt(s){be[s.pointerId]=s}function Ht(s){be[s.pointerId]&&(be[s.pointerId]=s)}function en(s){delete be[s.pointerId]}function rt(){Le||(document.addEventListener(B,Tt,!0),document.addEventListener(j,Ht,!0),document.addEventListener(Z,en,!0),document.addEventListener(fe,en,!0),Le=!0)}function ke(s,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var m in be)f.touches.push(be[m]);f.changedTouches=[f],s(f)}}function ht(s,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&Hn(f),ke(s,f)}function En(s){var f={},m,S;for(S in s)m=s[S],f[S]=m&&m.bind?m.bind(s):m;return s=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var ci=200;function hn(s,f){s.addEventListener("dblclick",f);var m=0,S;function T(D){if(D.detail!==1){S=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var Y=Ub(D);if(!(Y.some(function(ie){return ie instanceof HTMLLabelElement&&ie.attributes.for})&&!Y.some(function(ie){return ie instanceof HTMLInputElement||ie instanceof HTMLSelectElement}))){var te=Date.now();te-m<=ci?(S++,S===2&&f(En(D))):S=1,m=te}}}return s.addEventListener("click",T),{dblclick:f,simDblclick:T}}function ki(s,f){s.removeEventListener("dblclick",f.dblclick),s.removeEventListener("click",f.simDblclick)}var pa=dh(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),No=dh(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ul=No==="webkitTransition"||No==="OTransition"?No+"End":"transitionend";function Fb(s){return typeof s=="string"?document.getElementById(s):s}function fc(s,f){var m=s.style[f]||s.currentStyle&&s.currentStyle[f];if((!m||m==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(s,null);m=S?S[f]:null}return m==="auto"?null:m}function wt(s,f,m){var S=document.createElement(s);return S.className=f||"",m&&m.appendChild(S),S}function sn(s){var f=s.parentNode;f&&f.removeChild(s)}function ch(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function cl(s){var f=s.parentNode;f&&f.lastChild!==s&&f.appendChild(s)}function fl(s){var f=s.parentNode;f&&f.firstChild!==s&&f.insertBefore(s,f.firstChild)}function Qg(s,f){if(s.classList!==void 0)return s.classList.contains(f);var m=fh(s);return m.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(m)}function tt(s,f){if(s.classList!==void 0)for(var m=g(f),S=0,T=m.length;S<T;S++)s.classList.add(m[S]);else if(!Qg(s,f)){var D=fh(s);ey(s,(D?D+" ":"")+f)}}function xn(s,f){s.classList!==void 0?s.classList.remove(f):ey(s,v((" "+fh(s)+" ").replace(" "+f+" "," ")))}function ey(s,f){s.className.baseVal===void 0?s.className=f:s.className.baseVal=f}function fh(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function fi(s,f){"opacity"in s.style?s.style.opacity=f:"filter"in s.style&&sN(s,f)}function sN(s,f){var m=!1,S="DXImageTransform.Microsoft.Alpha";try{m=s.filters.item(S)}catch{if(f===1)return}f=Math.round(f*100),m?(m.Enabled=f!==100,m.Opacity=f):s.style.filter+=" progid:"+S+"(opacity="+f+")"}function dh(s){for(var f=document.documentElement.style,m=0;m<s.length;m++)if(s[m]in f)return s[m];return!1}function ds(s,f,m){var S=f||new V(0,0);s.style[pa]=(Ne.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(m?" scale("+m+")":"")}function Mn(s,f){s._leaflet_pos=f,Ne.any3d?ds(s,f):(s.style.left=f.x+"px",s.style.top=f.y+"px")}function hs(s){return s._leaflet_pos||new V(0,0)}var dc,hc,ty;if("onselectstart"in document)dc=function(){Ze(window,"selectstart",Hn)},hc=function(){$t(window,"selectstart",Hn)};else{var pc=dh(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);dc=function(){if(pc){var s=document.documentElement.style;ty=s[pc],s[pc]="none"}},hc=function(){pc&&(document.documentElement.style[pc]=ty,ty=void 0)}}function ny(){Ze(window,"dragstart",Hn)}function ry(){$t(window,"dragstart",Hn)}var hh,iy;function oy(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(ph(),hh=s,iy=s.style.outlineStyle,s.style.outlineStyle="none",Ze(window,"keydown",ph))}function ph(){hh&&(hh.style.outlineStyle=iy,hh=void 0,iy=void 0,$t(window,"keydown",ph))}function Bb(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function ay(s){var f=s.getBoundingClientRect();return{x:f.width/s.offsetWidth||1,y:f.height/s.offsetHeight||1,boundingClientRect:f}}var lN={__proto__:null,TRANSFORM:pa,TRANSITION:No,TRANSITION_END:ul,get:Fb,getStyle:fc,create:wt,remove:sn,empty:ch,toFront:cl,toBack:fl,hasClass:Qg,addClass:tt,removeClass:xn,setClass:ey,getClass:fh,setOpacity:fi,testProp:dh,setTransform:ds,setPosition:Mn,getPosition:hs,get disableTextSelection(){return dc},get enableTextSelection(){return hc},disableImageDrag:ny,enableImageDrag:ry,preventOutline:oy,restoreOutline:ph,getSizedParentNode:Bb,getScale:ay};function Ze(s,f,m,S){if(f&&typeof f=="object")for(var T in f)ly(s,T,f[T],m);else{f=g(f);for(var D=0,Y=f.length;D<Y;D++)ly(s,f[D],m,S)}return this}var to="_leaflet_events";function $t(s,f,m,S){if(arguments.length===1)zb(s),delete s[to];else if(f&&typeof f=="object")for(var T in f)uy(s,T,f[T],m);else if(f=g(f),arguments.length===2)zb(s,function(te){return E(f,te)!==-1});else for(var D=0,Y=f.length;D<Y;D++)uy(s,f[D],m,S);return this}function zb(s,f){for(var m in s[to]){var S=m.split(/\d/)[0];(!f||f(S))&&uy(s,S,null,null,m)}}var sy={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ly(s,f,m,S){var T=f+u(m)+(S?"_"+u(S):"");if(s[to]&&s[to][T])return this;var D=function(te){return m.call(S||s,te||window.event)},Y=D;!Ne.touchNative&&Ne.pointer&&f.indexOf("touch")===0?D=et(s,f,D):Ne.touch&&f==="dblclick"?D=hn(s,D):"addEventListener"in s?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?s.addEventListener(sy[f]||f,D,Ne.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(D=function(te){te=te||window.event,fy(s,te)&&Y(te)},s.addEventListener(sy[f],D,!1)):s.addEventListener(f,Y,!1):s.attachEvent("on"+f,D),s[to]=s[to]||{},s[to][T]=D}function uy(s,f,m,S,T){T=T||f+u(m)+(S?"_"+u(S):"");var D=s[to]&&s[to][T];if(!D)return this;!Ne.touchNative&&Ne.pointer&&f.indexOf("touch")===0?kt(s,f,D):Ne.touch&&f==="dblclick"?ki(s,D):"removeEventListener"in s?s.removeEventListener(sy[f]||f,D,!1):s.detachEvent("on"+f,D),s[to][T]=null}function ps(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function cy(s){return ly(s,"wheel",ps),this}function mc(s){return Ze(s,"mousedown touchstart dblclick contextmenu",ps),s._leaflet_disable_click=!0,this}function Hn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ms(s){return Hn(s),ps(s),this}function Ub(s){if(s.composedPath)return s.composedPath();for(var f=[],m=s.target;m;)f.push(m),m=m.parentNode;return f}function jb(s,f){if(!f)return new V(s.clientX,s.clientY);var m=ay(f),S=m.boundingClientRect;return new V((s.clientX-S.left)/m.x-f.clientLeft,(s.clientY-S.top)/m.y-f.clientTop)}var uN=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hb(s){return Ne.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/uN:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function fy(s,f){var m=f.relatedTarget;if(!m)return!0;try{for(;m&&m!==s;)m=m.parentNode}catch{return!1}return m!==s}var cN={__proto__:null,on:Ze,off:$t,stopPropagation:ps,disableScrollPropagation:cy,disableClickPropagation:mc,preventDefault:Hn,stop:ms,getPropagationPath:Ub,getMousePosition:jb,getWheelDelta:Hb,isExternalTarget:fy,addListener:Ze,removeListener:$t},Gb=J.extend({run:function(s,f,m,S){this.stop(),this._el=s,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=hs(s),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(s){var f=+new Date-this._startTime,m=this._duration*1e3;f<m?this._runFrame(this._easeOut(f/m),s):(this._runFrame(1),this._complete())},_runFrame:function(s,f){var m=this._startPos.add(this._offset.multiplyBy(s));f&&m._round(),Mn(this._el,m),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),pt=J.extend({options:{crs:ye,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,f){f=y(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(re(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=No&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ze(this._proxy,ul,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,f,m){if(f=f===void 0?this._zoom:this._limitZoom(f),s=this._limitCenter(re(s),f,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=i({animate:m.animate},m.zoom),m.pan=i({animate:m.animate,duration:m.duration},m.pan));var S=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,f,m.zoom):this._tryAnimatedPan(s,m.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(s,f,m.pan&&m.pan.noMoveStart),this},setZoom:function(s,f){return this._loaded?this.setView(this.getCenter(),s,{zoom:f}):(this._zoom=s,this)},zoomIn:function(s,f){return s=s||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,f)},zoomOut:function(s,f){return s=s||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,f)},setZoomAround:function(s,f,m){var S=this.getZoomScale(f),T=this.getSize().divideBy(2),D=s instanceof V?s:this.latLngToContainerPoint(s),Y=D.subtract(T).multiplyBy(1-1/S),te=this.containerPointToLatLng(T.add(Y));return this.setView(te,f,{zoom:m})},_getBoundsCenterZoom:function(s,f){f=f||{},s=s.getBounds?s.getBounds():Q(s);var m=k(f.paddingTopLeft||f.padding||[0,0]),S=k(f.paddingBottomRight||f.padding||[0,0]),T=this.getBoundsZoom(s,!1,m.add(S));if(T=typeof f.maxZoom=="number"?Math.min(f.maxZoom,T):T,T===1/0)return{center:s.getCenter(),zoom:T};var D=S.subtract(m).divideBy(2),Y=this.project(s.getSouthWest(),T),te=this.project(s.getNorthEast(),T),ie=this.unproject(Y.add(te).divideBy(2).add(D),T);return{center:ie,zoom:T}},fitBounds:function(s,f){if(s=Q(s),!s.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(s,f);return this.setView(m.center,m.zoom,f)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,f){return this.setView(s,this._zoom,{pan:f})},panBy:function(s,f){if(s=k(s).round(),f=f||{},!s.x&&!s.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Gb,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){tt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,m,f.duration||.25,f.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,f,m){if(m=m||{},m.animate===!1||!Ne.any3d)return this.setView(s,f,m);this._stop();var S=this.project(this.getCenter()),T=this.project(s),D=this.getSize(),Y=this._zoom;s=re(s),f=f===void 0?Y:f;var te=Math.max(D.x,D.y),ie=te*this.getZoomScale(Y,f),le=T.distanceTo(S)||1,Se=1.42,Ue=Se*Se;function ot(An){var Ah=An?-1:1,JN=An?ie:te,QN=ie*ie-te*te+Ah*Ue*Ue*le*le,e3=2*JN*Ue*le,by=QN/e3,SS=Math.sqrt(by*by+1)-by,t3=SS<1e-9?-18:Math.log(SS);return t3}function fr(An){return(Math.exp(An)-Math.exp(-An))/2}function kn(An){return(Math.exp(An)+Math.exp(-An))/2}function hi(An){return fr(An)/kn(An)}var Tr=ot(0);function gl(An){return te*(kn(Tr)/kn(Tr+Se*An))}function ZN(An){return te*(kn(Tr)*hi(Tr+Se*An)-fr(Tr))/Ue}function XN(An){return 1-Math.pow(1-An,1.5)}var qN=Date.now(),wS=(ot(1)-Tr)/Se,KN=m.duration?1e3*m.duration:1e3*wS*.8;function bS(){var An=(Date.now()-qN)/KN,Ah=XN(An)*wS;An<=1?(this._flyToFrame=z(bS,this),this._move(this.unproject(S.add(T.subtract(S).multiplyBy(ZN(Ah)/le)),Y),this.getScaleZoom(te/gl(Ah),Y),{flyTo:!0})):this._move(s,f)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),bS.call(this),this},flyToBounds:function(s,f){var m=this._getBoundsCenterZoom(s,f);return this.flyTo(m.center,m.zoom,f)},setMaxBounds:function(s){return s=Q(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var f=this.options.minZoom;return this.options.minZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var f=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,f){this._enforcingBounds=!0;var m=this.getCenter(),S=this._limitCenter(m,this._zoom,Q(s));return m.equals(S)||this.panTo(S,f),this._enforcingBounds=!1,this},panInside:function(s,f){f=f||{};var m=k(f.paddingTopLeft||f.padding||[0,0]),S=k(f.paddingBottomRight||f.padding||[0,0]),T=this.project(this.getCenter()),D=this.project(s),Y=this.getPixelBounds(),te=H([Y.min.add(m),Y.max.subtract(S)]),ie=te.getSize();if(!te.contains(D)){this._enforcingBounds=!0;var le=D.subtract(te.getCenter()),Se=te.extend(D).getSize().subtract(ie);T.x+=le.x<0?-Se.x:Se.x,T.y+=le.y<0?-Se.y:Se.y,this.panTo(this.unproject(T),f),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),S=f.divideBy(2).round(),T=m.divideBy(2).round(),D=S.subtract(T);return!D.x&&!D.y?this:(s.animate&&s.pan?this.panBy(D):(s.pan&&this._rawPanBy(D),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=a(this._handleGeolocationResponse,this),m=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,m,s):navigator.geolocation.getCurrentPosition(f,m,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var f=s.code,m=s.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var f=s.coords.latitude,m=s.coords.longitude,S=new ne(f,m),T=S.toBounds(s.coords.accuracy*2),D=this._locateOptions;if(D.setView){var Y=this.getBoundsZoom(T);this.setView(S,D.maxZoom?Math.min(Y,D.maxZoom):Y)}var te={latlng:S,bounds:T,timestamp:s.timestamp};for(var ie in s.coords)typeof s.coords[ie]=="number"&&(te[ie]=s.coords[ie]);this.fire("locationfound",te)}},addHandler:function(s,f){if(!f)return this;var m=this[s]=new f(this);return this._handlers.push(m),this.options[s]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),sn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)sn(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,f){var m="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),S=wt("div",m,f||this._mapPane);return s&&(this._panes[s]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),f=this.unproject(s.getBottomLeft()),m=this.unproject(s.getTopRight());return new ue(f,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,f,m){s=Q(s),m=k(m||[0,0]);var S=this.getZoom()||0,T=this.getMinZoom(),D=this.getMaxZoom(),Y=s.getNorthWest(),te=s.getSouthEast(),ie=this.getSize().subtract(m),le=H(this.project(te,S),this.project(Y,S)).getSize(),Se=Ne.any3d?this.options.zoomSnap:1,Ue=ie.x/le.x,ot=ie.y/le.y,fr=f?Math.max(Ue,ot):Math.min(Ue,ot);return S=this.getScaleZoom(fr,S),Se&&(S=Math.round(S/(Se/100))*(Se/100),S=f?Math.ceil(S/Se)*Se:Math.floor(S/Se)*Se),Math.max(T,Math.min(D,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,f){var m=this._getTopLeftPoint(s,f);return new q(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,f){var m=this.options.crs;return f=f===void 0?this._zoom:f,m.scale(s)/m.scale(f)},getScaleZoom:function(s,f){var m=this.options.crs;f=f===void 0?this._zoom:f;var S=m.zoom(s*m.scale(f));return isNaN(S)?1/0:S},project:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(re(s),f)},unproject:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(k(s),f)},layerPointToLatLng:function(s){var f=k(s).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(s){var f=this.project(re(s))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(re(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Q(s))},distance:function(s,f){return this.options.crs.distance(re(s),re(f))},containerPointToLayerPoint:function(s){return k(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return k(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var f=this.containerPointToLayerPoint(k(s));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(re(s)))},mouseEventToContainerPoint:function(s){return jb(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var f=this._container=Fb(s);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ze(f,"scroll",this._onScroll,this),this._containerId=u(f)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,tt(s,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=fc(s,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Mn(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(tt(s.markerPane,"leaflet-zoom-hide"),tt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,f,m){Mn(this._mapPane,new V(0,0));var S=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var T=this._zoom!==f;this._moveStart(T,m)._move(s,f)._moveEnd(T),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(s,f){return s&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(s,f,m,S){f===void 0&&(f=this._zoom);var T=this._zoom!==f;return this._zoom=f,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),S?m&&m.pinch&&this.fire("zoom",m):((T||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Mn(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[u(this._container)]=this;var f=s?$t:Ze;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,f){for(var m=[],S,T=f==="mouseout"||f==="mouseover",D=s.target||s.srcElement,Y=!1;D;){if(S=this._targets[u(D)],S&&(f==="click"||f==="preclick")&&this._draggableMoved(S)){Y=!0;break}if(S&&S.listens(f,!0)&&(T&&!fy(D,s)||(m.push(S),T))||D===this._container)break;D=D.parentNode}return!m.length&&!Y&&!T&&this.listens(f,!0)&&(m=[this]),m},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var f=s.target||s.srcElement;if(!(!this._loaded||f._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(f))){var m=s.type;m==="mousedown"&&oy(f),this._fireDOMEvent(s,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,f,m){if(s.type==="click"){var S=i({},s);S.type="preclick",this._fireDOMEvent(S,S.type,m)}var T=this._findEventTargets(s,f);if(m){for(var D=[],Y=0;Y<m.length;Y++)m[Y].listens(f,!0)&&D.push(m[Y]);T=D.concat(T)}if(T.length){f==="contextmenu"&&Hn(s);var te=T[0],ie={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var le=te.getLatLng&&(!te._radius||te._radius<=10);ie.containerPoint=le?this.latLngToContainerPoint(te.getLatLng()):this.mouseEventToContainerPoint(s),ie.layerPoint=this.containerPointToLayerPoint(ie.containerPoint),ie.latlng=le?te.getLatLng():this.layerPointToLatLng(ie.layerPoint)}for(Y=0;Y<T.length;Y++)if(T[Y].fire(f,ie,!0),ie.originalEvent._stopped||T[Y].options.bubblingMouseEvents===!1&&E(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,f=this._handlers.length;s<f;s++)this._handlers[s].disable()},whenReady:function(s,f){return this._loaded?s.call(f||this,{target:this}):this.on("load",s,f),this},_getMapPanePos:function(){return hs(this._mapPane)||new V(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,f){var m=s&&f!==void 0?this._getNewPixelOrigin(s,f):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,f){var m=this.getSize()._divideBy(2);return this.project(s,f)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,f,m){var S=this._getNewPixelOrigin(m,f);return this.project(s,f)._subtract(S)},_latLngBoundsToNewLayerBounds:function(s,f,m){var S=this._getNewPixelOrigin(m,f);return H([this.project(s.getSouthWest(),f)._subtract(S),this.project(s.getNorthWest(),f)._subtract(S),this.project(s.getSouthEast(),f)._subtract(S),this.project(s.getNorthEast(),f)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,f,m){if(!m)return s;var S=this.project(s,f),T=this.getSize().divideBy(2),D=new q(S.subtract(T),S.add(T)),Y=this._getBoundsOffset(D,m,f);return Math.abs(Y.x)<=1&&Math.abs(Y.y)<=1?s:this.unproject(S.add(Y),f)},_limitOffset:function(s,f){if(!f)return s;var m=this.getPixelBounds(),S=new q(m.min.add(s),m.max.add(s));return s.add(this._getBoundsOffset(S,f))},_getBoundsOffset:function(s,f,m){var S=H(this.project(f.getNorthEast(),m),this.project(f.getSouthWest(),m)),T=S.min.subtract(s.min),D=S.max.subtract(s.max),Y=this._rebound(T.x,-D.x),te=this._rebound(T.y,-D.y);return new V(Y,te)},_rebound:function(s,f){return s+f>0?Math.round(s-f)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(f))},_limitZoom:function(s){var f=this.getMinZoom(),m=this.getMaxZoom(),S=Ne.any3d?this.options.zoomSnap:1;return S&&(s=Math.round(s/S)*S),Math.max(f,Math.min(m,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,f){var m=this._getCenterOffset(s)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,f),!0)},_createAnimProxy:function(){var s=this._proxy=wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(f){var m=pa,S=this._proxy.style[m];ds(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),S===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){sn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),f=this.getZoom();ds(this._proxy,this.project(s,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,f,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(f),T=this._getCenterOffset(s)._divideBy(1-1/S);return m.animate!==!0&&!this.getSize().contains(T)?!1:(z(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(s,f,!0)},this),!0)},_animateZoom:function(s,f,m,S){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=f,tt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:f,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function fN(s,f){return new pt(s,f)}var Ii=W.extend({options:{position:"topright"},initialize:function(s){y(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var f=this._map;return f&&f.removeControl(this),this.options.position=s,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var f=this._container=this.onAdd(s),m=this.getPosition(),S=s._controlCorners[m];return tt(f,"leaflet-control"),m.indexOf("bottom")!==-1?S.insertBefore(f,S.firstChild):S.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(sn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),vc=function(s){return new Ii(s)};pt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},f="leaflet-",m=this._controlContainer=wt("div",f+"control-container",this._container);function S(T,D){var Y=f+T+" "+f+D;s[T+D]=wt("div",Y,m)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)sn(this._controlCorners[s]);sn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vb=Ii.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,f,m,S){return m<S?-1:S<m?1:0}},initialize:function(s,f,m){y(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in s)this._addLayer(s[S],S);for(S in f)this._addLayer(f[S],S,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Ii.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,f){return this._addLayer(s,f),this._map?this._update():this},addOverlay:function(s,f){return this._addLayer(s,f,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var f=this._getLayer(u(s));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){tt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(tt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):xn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",f=this._container=wt("div",s),m=this.options.collapsed;f.setAttribute("aria-haspopup",!0),mc(f),cy(f);var S=this._section=wt("section",s+"-list");m&&(this._map.on("click",this.collapse,this),Ze(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=wt("a",s+"-toggle",f);T.href="#",T.title="Layers",T.setAttribute("role","button"),Ze(T,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){Hn(D),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=wt("div",s+"-base",S),this._separator=wt("div",s+"-separator",S),this._overlaysList=wt("div",s+"-overlays",S),f.appendChild(S)},_getLayer:function(s){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&u(this._layers[f].layer)===s)return this._layers[f]},_addLayer:function(s,f,m){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:f,overlay:m}),this.options.sortLayers&&this._layers.sort(a(function(S,T){return this.options.sortFunction(S.layer,T.layer,S.name,T.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ch(this._baseLayersList),ch(this._overlaysList),this._layerControlInputs=[];var s,f,m,S,T=0;for(m=0;m<this._layers.length;m++)S=this._layers[m],this._addItem(S),f=f||S.overlay,s=s||!S.overlay,T+=S.overlay?0:1;return this.options.hideSingleBase&&(s=s&&T>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=f&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var f=this._getLayer(u(s.target)),m=f.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;m&&this._map.fire(m,f)},_createRadioElement:function(s,f){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(f?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=m,S.firstChild},_addItem:function(s){var f=document.createElement("label"),m=this._map.hasLayer(s.layer),S;s.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=m):S=this._createRadioElement("leaflet-base-layers_"+u(this),m),this._layerControlInputs.push(S),S.layerId=u(s.layer),Ze(S,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+s.name;var D=document.createElement("span");f.appendChild(D),D.appendChild(S),D.appendChild(T);var Y=s.overlay?this._overlaysList:this._baseLayersList;return Y.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,f,m,S=[],T=[];this._handlingClick=!0;for(var D=s.length-1;D>=0;D--)f=s[D],m=this._getLayer(f.layerId).layer,f.checked?S.push(m):f.checked||T.push(m);for(D=0;D<T.length;D++)this._map.hasLayer(T[D])&&this._map.removeLayer(T[D]);for(D=0;D<S.length;D++)this._map.hasLayer(S[D])||this._map.addLayer(S[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,f,m,S=this._map.getZoom(),T=s.length-1;T>=0;T--)f=s[T],m=this._getLayer(f.layerId).layer,f.disabled=m.options.minZoom!==void 0&&S<m.options.minZoom||m.options.maxZoom!==void 0&&S>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Ze(s,"click",Hn),this.expand();var f=this;setTimeout(function(){$t(s,"click",Hn),f._preventClick=!1})}}),dN=function(s,f,m){return new Vb(s,f,m)},dy=Ii.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var f="leaflet-control-zoom",m=wt("div",f+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,f+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,f+"-out",m,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,f,m,S,T){var D=wt("a",m,S);return D.innerHTML=s,D.href="#",D.title=f,D.setAttribute("role","button"),D.setAttribute("aria-label",f),mc(D),Ze(D,"click",ms),Ze(D,"click",T,this),Ze(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var s=this._map,f="leaflet-disabled";xn(this._zoomInButton,f),xn(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(tt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(tt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});pt.mergeOptions({zoomControl:!0}),pt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dy,this.addControl(this.zoomControl))});var hN=function(s){return new dy(s)},Wb=Ii.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var f="leaflet-control-scale",m=wt("div",f),S=this.options;return this._addScales(S,f+"-line",m),s.on(S.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),m},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,f,m){s.metric&&(this._mScale=wt("div",f,m)),s.imperial&&(this._iScale=wt("div",f,m))},_update:function(){var s=this._map,f=s.getSize().y/2,m=s.distance(s.containerPointToLatLng([0,f]),s.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(m)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var f=this._getRoundNum(s),m=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,m,f/s)},_updateImperial:function(s){var f=s*3.2808399,m,S,T;f>5280?(m=f/5280,S=this._getRoundNum(m),this._updateScale(this._iScale,S+" mi",S/m)):(T=this._getRoundNum(f),this._updateScale(this._iScale,T+" ft",T/f))},_updateScale:function(s,f,m){s.style.width=Math.round(this.options.maxWidth*m)+"px",s.innerHTML=f},_getRoundNum:function(s){var f=Math.pow(10,(Math.floor(s)+"").length-1),m=s/f;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,f*m}}),pN=function(s){return new Wb(s)},mN='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hy=Ii.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?mN+" ":"")+"Leaflet</a>"},initialize:function(s){y(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=wt("div","leaflet-control-attribution"),mc(this._container);for(var f in s._layers)s._layers[f].getAttribution&&this.addAttribution(s._layers[f].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var f in this._attributions)this._attributions[f]&&s.push(f);var m=[];this.options.prefix&&m.push(this.options.prefix),s.length&&m.push(s.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});pt.mergeOptions({attributionControl:!0}),pt.addInitHook(function(){this.options.attributionControl&&new hy().addTo(this)});var vN=function(s){return new hy(s)};Ii.Layers=Vb,Ii.Zoom=dy,Ii.Scale=Wb,Ii.Attribution=hy,vc.layers=dN,vc.zoom=hN,vc.scale=pN,vc.attribution=vN;var no=W.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});no.addTo=function(s,f){return s.addHandler(f,this),this};var gN={Events:X},$b=Ne.touch?"touchstart mousedown":"mousedown",ma=J.extend({options:{clickTolerance:3},initialize:function(s,f,m,S){y(this,S),this._element=s,this._dragStartTarget=f||s,this._preventOutline=m},enable:function(){this._enabled||(Ze(this._dragStartTarget,$b,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ma._dragging===this&&this.finishDrag(!0),$t(this._dragStartTarget,$b,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Qg(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){ma._dragging===this&&this.finishDrag();return}if(!(ma._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(ma._dragging=this,this._preventOutline&&oy(this._element),ny(),dc(),!this._moving)){this.fire("down");var f=s.touches?s.touches[0]:s,m=Bb(this._element);this._startPoint=new V(f.clientX,f.clientY),this._startPos=hs(this._element),this._parentScale=ay(m);var S=s.type==="mousedown";Ze(document,S?"mousemove":"touchmove",this._onMove,this),Ze(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var f=s.touches&&s.touches.length===1?s.touches[0]:s,m=new V(f.clientX,f.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Hn(s),this._moved||(this.fire("dragstart"),this._moved=!0,tt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),tt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Mn(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){xn(document.body,"leaflet-dragging"),this._lastTarget&&(xn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),$t(document,"mousemove touchmove",this._onMove,this),$t(document,"mouseup touchend touchcancel",this._onUp,this),ry(),hc();var f=this._moved&&this._moving;this._moving=!1,ma._dragging=!1,f&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Yb(s,f,m){var S,T=[1,4,2,8],D,Y,te,ie,le,Se,Ue,ot;for(D=0,Se=s.length;D<Se;D++)s[D]._code=vs(s[D],f);for(te=0;te<4;te++){for(Ue=T[te],S=[],D=0,Se=s.length,Y=Se-1;D<Se;Y=D++)ie=s[D],le=s[Y],ie._code&Ue?le._code&Ue||(ot=mh(le,ie,Ue,f,m),ot._code=vs(ot,f),S.push(ot)):(le._code&Ue&&(ot=mh(le,ie,Ue,f,m),ot._code=vs(ot,f),S.push(ot)),S.push(ie));s=S}return s}function Zb(s,f){var m,S,T,D,Y,te,ie,le,Se;if(!s||s.length===0)throw new Error("latlngs not passed");di(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ue=re([0,0]),ot=Q(s),fr=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());fr<1700&&(Ue=py(s));var kn=s.length,hi=[];for(m=0;m<kn;m++){var Tr=re(s[m]);hi.push(f.project(re([Tr.lat-Ue.lat,Tr.lng-Ue.lng])))}for(te=ie=le=0,m=0,S=kn-1;m<kn;S=m++)T=hi[m],D=hi[S],Y=T.y*D.x-D.y*T.x,ie+=(T.x+D.x)*Y,le+=(T.y+D.y)*Y,te+=Y*3;te===0?Se=hi[0]:Se=[ie/te,le/te];var gl=f.unproject(k(Se));return re([gl.lat+Ue.lat,gl.lng+Ue.lng])}function py(s){for(var f=0,m=0,S=0,T=0;T<s.length;T++){var D=re(s[T]);f+=D.lat,m+=D.lng,S++}return re([f/S,m/S])}var yN={__proto__:null,clipPolygon:Yb,polygonCenter:Zb,centroid:py};function Xb(s,f){if(!f||!s.length)return s.slice();var m=f*f;return s=wN(s,m),s=xN(s,m),s}function qb(s,f,m){return Math.sqrt(gc(s,f,m,!0))}function _N(s,f,m){return gc(s,f,m)}function xN(s,f){var m=s.length,S=typeof Uint8Array!=void 0+""?Uint8Array:Array,T=new S(m);T[0]=T[m-1]=1,my(s,T,f,0,m-1);var D,Y=[];for(D=0;D<m;D++)T[D]&&Y.push(s[D]);return Y}function my(s,f,m,S,T){var D=0,Y,te,ie;for(te=S+1;te<=T-1;te++)ie=gc(s[te],s[S],s[T],!0),ie>D&&(Y=te,D=ie);D>m&&(f[Y]=1,my(s,f,m,S,Y),my(s,f,m,Y,T))}function wN(s,f){for(var m=[s[0]],S=1,T=0,D=s.length;S<D;S++)bN(s[S],s[T])>f&&(m.push(s[S]),T=S);return T<D-1&&m.push(s[D-1]),m}var Kb;function Jb(s,f,m,S,T){var D=S?Kb:vs(s,m),Y=vs(f,m),te,ie,le;for(Kb=Y;;){if(!(D|Y))return[s,f];if(D&Y)return!1;te=D||Y,ie=mh(s,f,te,m,T),le=vs(ie,m),te===D?(s=ie,D=le):(f=ie,Y=le)}}function mh(s,f,m,S,T){var D=f.x-s.x,Y=f.y-s.y,te=S.min,ie=S.max,le,Se;return m&8?(le=s.x+D*(ie.y-s.y)/Y,Se=ie.y):m&4?(le=s.x+D*(te.y-s.y)/Y,Se=te.y):m&2?(le=ie.x,Se=s.y+Y*(ie.x-s.x)/D):m&1&&(le=te.x,Se=s.y+Y*(te.x-s.x)/D),new V(le,Se,T)}function vs(s,f){var m=0;return s.x<f.min.x?m|=1:s.x>f.max.x&&(m|=2),s.y<f.min.y?m|=4:s.y>f.max.y&&(m|=8),m}function bN(s,f){var m=f.x-s.x,S=f.y-s.y;return m*m+S*S}function gc(s,f,m,S){var T=f.x,D=f.y,Y=m.x-T,te=m.y-D,ie=Y*Y+te*te,le;return ie>0&&(le=((s.x-T)*Y+(s.y-D)*te)/ie,le>1?(T=m.x,D=m.y):le>0&&(T+=Y*le,D+=te*le)),Y=s.x-T,te=s.y-D,S?Y*Y+te*te:new V(T,D)}function di(s){return!b(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Qb(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),di(s)}function eS(s,f){var m,S,T,D,Y,te,ie,le;if(!s||s.length===0)throw new Error("latlngs not passed");di(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Se=re([0,0]),Ue=Q(s),ot=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());ot<1700&&(Se=py(s));var fr=s.length,kn=[];for(m=0;m<fr;m++){var hi=re(s[m]);kn.push(f.project(re([hi.lat-Se.lat,hi.lng-Se.lng])))}for(m=0,S=0;m<fr-1;m++)S+=kn[m].distanceTo(kn[m+1])/2;if(S===0)le=kn[0];else for(m=0,D=0;m<fr-1;m++)if(Y=kn[m],te=kn[m+1],T=Y.distanceTo(te),D+=T,D>S){ie=(D-S)/T,le=[te.x-ie*(te.x-Y.x),te.y-ie*(te.y-Y.y)];break}var Tr=f.unproject(k(le));return re([Tr.lat+Se.lat,Tr.lng+Se.lng])}var SN={__proto__:null,simplify:Xb,pointToSegmentDistance:qb,closestPointOnSegment:_N,clipSegment:Jb,_getEdgeIntersection:mh,_getBitCode:vs,_sqClosestPointOnSegment:gc,isFlat:di,_flat:Qb,polylineCenter:eS},vy={project:function(s){return new V(s.lng,s.lat)},unproject:function(s){return new ne(s.y,s.x)},bounds:new q([-180,-90],[180,90])},gy={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var f=Math.PI/180,m=this.R,S=s.lat*f,T=this.R_MINOR/m,D=Math.sqrt(1-T*T),Y=D*Math.sin(S),te=Math.tan(Math.PI/4-S/2)/Math.pow((1-Y)/(1+Y),D/2);return S=-m*Math.log(Math.max(te,1e-10)),new V(s.lng*f*m,S)},unproject:function(s){for(var f=180/Math.PI,m=this.R,S=this.R_MINOR/m,T=Math.sqrt(1-S*S),D=Math.exp(-s.y/m),Y=Math.PI/2-2*Math.atan(D),te=0,ie=.1,le;te<15&&Math.abs(ie)>1e-7;te++)le=T*Math.sin(Y),le=Math.pow((1-le)/(1+le),T/2),ie=Math.PI/2-2*Math.atan(D*le)-Y,Y+=ie;return new ne(Y*f,s.x*f/m)}},EN={__proto__:null,LonLat:vy,Mercator:gy,SphericalMercator:ae},MN=i({},xe,{code:"EPSG:3395",projection:gy,transformation:function(){var s=.5/(Math.PI*gy.R);return ze(s,.5,-s,.5)}()}),tS=i({},xe,{code:"EPSG:4326",projection:vy,transformation:ze(1/180,1,-1/180,.5)}),AN=i({},ve,{projection:vy,transformation:ze(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,f){var m=f.lng-s.lng,S=f.lat-s.lat;return Math.sqrt(m*m+S*S)},infinite:!0});ve.Earth=xe,ve.EPSG3395=MN,ve.EPSG3857=ye,ve.EPSG900913=qe,ve.EPSG4326=tS,ve.Simple=AN;var Di=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[u(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[u(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var f=s.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var m=this.getEvents();f.on(m,this),this.once("remove",function(){f.off(m,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});pt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var f=u(s);return this._layers[f]?this:(this._layers[f]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var f=u(s);return this._layers[f]?(this._loaded&&s.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return u(s)in this._layers},eachLayer:function(s,f){for(var m in this._layers)s.call(f,this._layers[m]);return this},_addLayers:function(s){s=s?b(s)?s:[s]:[];for(var f=0,m=s.length;f<m;f++)this.addLayer(s[f])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[u(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var f=u(s);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,f=-1/0,m=this._getZoomSpan();for(var S in this._zoomBoundLayers){var T=this._zoomBoundLayers[S].options;s=T.minZoom===void 0?s:Math.min(s,T.minZoom),f=T.maxZoom===void 0?f:Math.max(f,T.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=s===1/0?void 0:s,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var dl=Di.extend({initialize:function(s,f){y(this,f),this._layers={};var m,S;if(s)for(m=0,S=s.length;m<S;m++)this.addLayer(s[m])},addLayer:function(s){var f=this.getLayerId(s);return this._layers[f]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var f=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(s){var f=typeof s=="number"?s:this.getLayerId(s);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var f=Array.prototype.slice.call(arguments,1),m,S;for(m in this._layers)S=this._layers[m],S[s]&&S[s].apply(S,f);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,f){for(var m in this._layers)s.call(f,this._layers[m]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return u(s)}}),TN=function(s,f){return new dl(s,f)},ko=dl.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),dl.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),dl.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ue;for(var f in this._layers){var m=this._layers[f];s.extend(m.getBounds?m.getBounds():m.getLatLng())}return s}}),PN=function(s,f){return new ko(s,f)},hl=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){y(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,f){var m=this._getIconUrl(s);if(!m){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(m,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(S,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(s,f){var m=this.options,S=m[f+"Size"];typeof S=="number"&&(S=[S,S]);var T=k(S),D=k(f==="shadow"&&m.shadowAnchor||m.iconAnchor||T&&T.divideBy(2,!0));s.className="leaflet-marker-"+f+" "+(m.className||""),D&&(s.style.marginLeft=-D.x+"px",s.style.marginTop=-D.y+"px"),T&&(s.style.width=T.x+"px",s.style.height=T.y+"px")},_createImg:function(s,f){return f=f||document.createElement("img"),f.src=s,f},_getIconUrl:function(s){return Ne.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function CN(s){return new hl(s)}var yc=hl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof yc.imagePath!="string"&&(yc.imagePath=this._detectIconPath()),(this.options.imagePath||yc.imagePath)+hl.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var f=function(m,S,T){var D=S.exec(m);return D&&D[T]};return s=f(s,/^url\((['"])?(.+)\1\)$/,2),s&&f(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=wt("div","leaflet-default-icon-path",document.body),f=fc(s,"background-image")||fc(s,"backgroundImage");if(document.body.removeChild(s),f=this._stripUrl(f),f)return f;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),nS=no.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new ma(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),tt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var f=this._marker,m=f._map,S=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,D=hs(f._icon),Y=m.getPixelBounds(),te=m.getPixelOrigin(),ie=H(Y.min._subtract(te).add(T),Y.max._subtract(te).subtract(T));if(!ie.contains(D)){var le=k((Math.max(ie.max.x,D.x)-ie.max.x)/(Y.max.x-ie.max.x)-(Math.min(ie.min.x,D.x)-ie.min.x)/(Y.min.x-ie.min.x),(Math.max(ie.max.y,D.y)-ie.max.y)/(Y.max.y-ie.max.y)-(Math.min(ie.min.y,D.y)-ie.min.y)/(Y.min.y-ie.min.y)).multiplyBy(S);m.panBy(le,{animate:!1}),this._draggable._newPos._add(le),this._draggable._startPos._add(le),Mn(f._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=z(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,s)))},_onDrag:function(s){var f=this._marker,m=f._shadow,S=hs(f._icon),T=f._map.layerPointToLatLng(S);m&&Mn(m,S),f._latlng=T,s.latlng=T,s.oldLatLng=this._oldLatLng,f.fire("move",s).fire("drag",s)},_onDragEnd:function(s){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),vh=Di.extend({options:{icon:new yc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,f){y(this,f),this._latlng=re(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var f=this._latlng;return this._latlng=re(s),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=s.icon.createIcon(this._icon),S=!1;m!==this._icon&&(this._icon&&this._removeIcon(),S=!0,s.title&&(m.title=s.title),m.tagName==="IMG"&&(m.alt=s.alt||"")),tt(m,f),s.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ze(m,"focus",this._panOnFocus,this);var T=s.icon.createShadow(this._shadow),D=!1;T!==this._shadow&&(this._removeShadow(),D=!0),T&&(tt(T,f),T.alt=""),this._shadow=T,s.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&D&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$t(this._icon,"focus",this._panOnFocus,this),sn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&sn(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Mn(this._icon,s),this._shadow&&Mn(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(tt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nS)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nS(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&fi(this._icon,s),this._shadow&&fi(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var f=this.options.icon.options,m=f.iconSize?k(f.iconSize):k(0,0),S=f.iconAnchor?k(f.iconAnchor):k(0,0);s.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:m.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function LN(s,f){return new vh(s,f)}var va=Di.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return y(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gh=va.extend({options:{fill:!0,radius:10},initialize:function(s,f){y(this,f),this._latlng=re(s),this._radius=this.options.radius},setLatLng:function(s){var f=this._latlng;return this._latlng=re(s),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var f=s&&s.radius||this._radius;return va.prototype.setStyle.call(this,s),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,f=this._radiusY||s,m=this._clickTolerance(),S=[s+m,f+m];this._pxBounds=new q(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function RN(s,f){return new gh(s,f)}var yy=gh.extend({initialize:function(s,f,m){if(typeof f=="number"&&(f=i({},m,{radius:f})),y(this,f),this._latlng=re(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ue(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:va.prototype.setStyle,_project:function(){var s=this._latlng.lng,f=this._latlng.lat,m=this._map,S=m.options.crs;if(S.distance===xe.distance){var T=Math.PI/180,D=this._mRadius/xe.R/T,Y=m.project([f+D,s]),te=m.project([f-D,s]),ie=Y.add(te).divideBy(2),le=m.unproject(ie).lat,Se=Math.acos((Math.cos(D*T)-Math.sin(f*T)*Math.sin(le*T))/(Math.cos(f*T)*Math.cos(le*T)))/T;(isNaN(Se)||Se===0)&&(Se=D/Math.cos(Math.PI/180*f)),this._point=ie.subtract(m.getPixelOrigin()),this._radius=isNaN(Se)?0:ie.x-m.project([le,s-Se]).x,this._radiusY=ie.y-Y.y}else{var Ue=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Ue).x}this._updateBounds()}});function ON(s,f,m){return new yy(s,f,m)}var Io=va.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,f){y(this,f),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var f=1/0,m=null,S=gc,T,D,Y=0,te=this._parts.length;Y<te;Y++)for(var ie=this._parts[Y],le=1,Se=ie.length;le<Se;le++){T=ie[le-1],D=ie[le];var Ue=S(s,T,D,!0);Ue<f&&(f=Ue,m=S(s,T,D))}return m&&(m.distance=Math.sqrt(f)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return eS(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,f){return f=f||this._defaultShape(),s=re(s),f.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ue,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return di(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var f=[],m=di(s),S=0,T=s.length;S<T;S++)m?(f[S]=re(s[S]),this._bounds.extend(f[S])):f[S]=this._convertLatLngs(s[S]);return f},_project:function(){var s=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),f=new V(s,s);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(s,f,m){var S=s[0]instanceof ne,T=s.length,D,Y;if(S){for(Y=[],D=0;D<T;D++)Y[D]=this._map.latLngToLayerPoint(s[D]),m.extend(Y[D]);f.push(Y)}else for(D=0;D<T;D++)this._projectLatlngs(s[D],f,m)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,m,S,T,D,Y,te,ie;for(m=0,T=0,D=this._rings.length;m<D;m++)for(ie=this._rings[m],S=0,Y=ie.length;S<Y-1;S++)te=Jb(ie[S],ie[S+1],s,S,!0),te&&(f[T]=f[T]||[],f[T].push(te[0]),(te[1]!==ie[S+1]||S===Y-2)&&(f[T].push(te[1]),T++))}},_simplifyPoints:function(){for(var s=this._parts,f=this.options.smoothFactor,m=0,S=s.length;m<S;m++)s[m]=Xb(s[m],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,f){var m,S,T,D,Y,te,ie=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(m=0,D=this._parts.length;m<D;m++)for(te=this._parts[m],S=0,Y=te.length,T=Y-1;S<Y;T=S++)if(!(!f&&S===0)&&qb(s,te[T],te[S])<=ie)return!0;return!1}});function NN(s,f){return new Io(s,f)}Io._flat=Qb;var pl=Io.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zb(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var f=Io.prototype._convertLatLngs.call(this,s),m=f.length;return m>=2&&f[0]instanceof ne&&f[0].equals(f[m-1])&&f.pop(),f},_setLatLngs:function(s){Io.prototype._setLatLngs.call(this,s),di(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return di(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,f=this.options.weight,m=new V(f,f);if(s=new q(s.min.subtract(m),s.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,T=this._rings.length,D;S<T;S++)D=Yb(this._rings[S],s,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var f=!1,m,S,T,D,Y,te,ie,le;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(D=0,ie=this._parts.length;D<ie;D++)for(m=this._parts[D],Y=0,le=m.length,te=le-1;Y<le;te=Y++)S=m[Y],T=m[te],S.y>s.y!=T.y>s.y&&s.x<(T.x-S.x)*(s.y-S.y)/(T.y-S.y)+S.x&&(f=!f);return f||Io.prototype._containsPoint.call(this,s,!0)}});function kN(s,f){return new pl(s,f)}var Do=ko.extend({initialize:function(s,f){y(this,f),this._layers={},s&&this.addData(s)},addData:function(s){var f=b(s)?s:s.features,m,S,T;if(f){for(m=0,S=f.length;m<S;m++)T=f[m],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var D=this.options;if(D.filter&&!D.filter(s))return this;var Y=yh(s,D);return Y?(Y.feature=wh(s),Y.defaultOptions=Y.options,this.resetStyle(Y),D.onEachFeature&&D.onEachFeature(s,Y),this.addLayer(Y)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(f){this._setLayerStyle(f,s)},this)},_setLayerStyle:function(s,f){s.setStyle&&(typeof f=="function"&&(f=f(s.feature)),s.setStyle(f))}});function yh(s,f){var m=s.type==="Feature"?s.geometry:s,S=m?m.coordinates:null,T=[],D=f&&f.pointToLayer,Y=f&&f.coordsToLatLng||_y,te,ie,le,Se;if(!S&&!m)return null;switch(m.type){case"Point":return te=Y(S),rS(D,s,te,f);case"MultiPoint":for(le=0,Se=S.length;le<Se;le++)te=Y(S[le]),T.push(rS(D,s,te,f));return new ko(T);case"LineString":case"MultiLineString":return ie=_h(S,m.type==="LineString"?0:1,Y),new Io(ie,f);case"Polygon":case"MultiPolygon":return ie=_h(S,m.type==="Polygon"?1:2,Y),new pl(ie,f);case"GeometryCollection":for(le=0,Se=m.geometries.length;le<Se;le++){var Ue=yh({geometry:m.geometries[le],type:"Feature",properties:s.properties},f);Ue&&T.push(Ue)}return new ko(T);case"FeatureCollection":for(le=0,Se=m.features.length;le<Se;le++){var ot=yh(m.features[le],f);ot&&T.push(ot)}return new ko(T);default:throw new Error("Invalid GeoJSON object.")}}function rS(s,f,m,S){return s?s(f,m):new vh(m,S&&S.markersInheritOptions&&S)}function _y(s){return new ne(s[1],s[0],s[2])}function _h(s,f,m){for(var S=[],T=0,D=s.length,Y;T<D;T++)Y=f?_h(s[T],f-1,m):(m||_y)(s[T]),S.push(Y);return S}function xy(s,f){return s=re(s),s.alt!==void 0?[p(s.lng,f),p(s.lat,f),p(s.alt,f)]:[p(s.lng,f),p(s.lat,f)]}function xh(s,f,m,S){for(var T=[],D=0,Y=s.length;D<Y;D++)T.push(f?xh(s[D],di(s[D])?0:f-1,m,S):xy(s[D],S));return!f&&m&&T.length>0&&T.push(T[0].slice()),T}function ml(s,f){return s.feature?i({},s.feature,{geometry:f}):wh(f)}function wh(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var wy={toGeoJSON:function(s){return ml(this,{type:"Point",coordinates:xy(this.getLatLng(),s)})}};vh.include(wy),yy.include(wy),gh.include(wy),Io.include({toGeoJSON:function(s){var f=!di(this._latlngs),m=xh(this._latlngs,f?1:0,!1,s);return ml(this,{type:(f?"Multi":"")+"LineString",coordinates:m})}}),pl.include({toGeoJSON:function(s){var f=!di(this._latlngs),m=f&&!di(this._latlngs[0]),S=xh(this._latlngs,m?2:f?1:0,!0,s);return f||(S=[S]),ml(this,{type:(m?"Multi":"")+"Polygon",coordinates:S})}}),dl.include({toMultiPoint:function(s){var f=[];return this.eachLayer(function(m){f.push(m.toGeoJSON(s).geometry.coordinates)}),ml(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(s){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(s);var m=f==="GeometryCollection",S=[];return this.eachLayer(function(T){if(T.toGeoJSON){var D=T.toGeoJSON(s);if(m)S.push(D.geometry);else{var Y=wh(D);Y.type==="FeatureCollection"?S.push.apply(S,Y.features):S.push(Y)}}}),m?ml(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function iS(s,f){return new Do(s,f)}var IN=iS,bh=Di.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,f,m){this._url=s,this._bounds=Q(f),y(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(tt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){sn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&cl(this._image),this},bringToBack:function(){return this._map&&fl(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Q(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",f=this._image=s?this._url:wt("img");if(tt(f,"leaflet-image-layer"),this._zoomAnimated&&tt(f,"leaflet-zoom-animated"),this.options.className&&tt(f,this.options.className),f.onselectstart=h,f.onmousemove=h,f.onload=a(this.fire,this,"load"),f.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(s){var f=this._map.getZoomScale(s.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;ds(this._image,m,f)},_reset:function(){var s=this._image,f=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=f.getSize();Mn(s,f.min),s.style.width=m.x+"px",s.style.height=m.y+"px"},_updateOpacity:function(){fi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),DN=function(s,f,m){return new bh(s,f,m)},oS=bh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",f=this._image=s?this._url:wt("video");if(tt(f,"leaflet-image-layer"),this._zoomAnimated&&tt(f,"leaflet-zoom-animated"),this.options.className&&tt(f,this.options.className),f.onselectstart=h,f.onmousemove=h,f.onloadeddata=a(this.fire,this,"load"),s){for(var m=f.getElementsByTagName("source"),S=[],T=0;T<m.length;T++)S.push(m[T].src);this._url=m.length>0?S:[f.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var Y=wt("source");Y.src=this._url[D],f.appendChild(Y)}}});function FN(s,f,m){return new oS(s,f,m)}var aS=bh.extend({_initImage:function(){var s=this._image=this._url;tt(s,"leaflet-image-layer"),this._zoomAnimated&&tt(s,"leaflet-zoom-animated"),this.options.className&&tt(s,this.options.className),s.onselectstart=h,s.onmousemove=h}});function BN(s,f,m){return new aS(s,f,m)}var ro=Di.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,f){s&&(s instanceof ne||b(s))?(this._latlng=re(s),y(this,f)):(y(this,s),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&fi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&fi(this._container,1),this.bringToFront(),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(fi(this._container,0),this._removeTimeout=setTimeout(a(sn,void 0,this._container),200)):sn(this._container),this.options.interactive&&(xn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=re(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&cl(this._container),this},bringToBack:function(){return this._map&&fl(this._container),this},_prepareOpen:function(s){var f=this._source;if(!f._map)return!1;if(f instanceof ko){f=null;var m=this._source._layers;for(var S in m)if(m[S]._map){f=m[S];break}if(!f)return!1;this._source=f}if(!s)if(f.getCenter)s=f.getCenter();else if(f.getLatLng)s=f.getLatLng();else if(f.getBounds)s=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")s.innerHTML=f;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),f=k(this.options.offset),m=this._getAnchor();this._zoomAnimated?Mn(this._container,s.add(m)):f=f.add(s).add(m);var S=this._containerBottom=-f.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=S+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});pt.include({_initOverlay:function(s,f,m,S){var T=f;return T instanceof s||(T=new s(S).setContent(f)),m&&T.setLatLng(m),T}}),Di.include({_initOverlay:function(s,f,m,S){var T=m;return T instanceof s?(y(T,S),T._source=this):(T=f&&!S?f:new s(S,this),T.setContent(m)),T}});var Sh=ro.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,ro.prototype.openOn.call(this,s)},onAdd:function(s){ro.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof va||this._source.on("preclick",ps))},onRemove:function(s){ro.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof va||this._source.off("preclick",ps))},getEvents:function(){var s=ro.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",f=this._container=wt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=wt("div",s+"-content-wrapper",f);if(this._contentNode=wt("div",s+"-content",m),mc(f),cy(this._contentNode),Ze(f,"contextmenu",ps),this._tipContainer=wt("div",s+"-tip-container",f),this._tip=wt("div",s+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=wt("a",s+"-close-button",f);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Ze(S,"click",function(T){Hn(T),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,f=s.style;f.width="",f.whiteSpace="nowrap";var m=s.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),f.width=m+1+"px",f.whiteSpace="",f.height="";var S=s.offsetHeight,T=this.options.maxHeight,D="leaflet-popup-scrolled";T&&S>T?(f.height=T+"px",tt(s,D)):xn(s,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),m=this._getAnchor();Mn(this._container,f.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,f=parseInt(fc(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+f,S=this._containerWidth,T=new V(this._containerLeft,-m-this._containerBottom);T._add(hs(this._container));var D=s.layerPointToContainerPoint(T),Y=k(this.options.autoPanPadding),te=k(this.options.autoPanPaddingTopLeft||Y),ie=k(this.options.autoPanPaddingBottomRight||Y),le=s.getSize(),Se=0,Ue=0;D.x+S+ie.x>le.x&&(Se=D.x+S-le.x+ie.x),D.x-Se-te.x<0&&(Se=D.x-te.x),D.y+m+ie.y>le.y&&(Ue=D.y+m-le.y+ie.y),D.y-Ue-te.y<0&&(Ue=D.y-te.y),(Se||Ue)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Se,Ue]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zN=function(s,f){return new Sh(s,f)};pt.mergeOptions({closePopupOnClick:!0}),pt.include({openPopup:function(s,f,m){return this._initOverlay(Sh,s,f,m).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Di.include({bindPopup:function(s,f){return this._popup=this._initOverlay(Sh,this._popup,s,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ko||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ms(s);var f=s.layer||s.target;if(this._popup._source===f&&!(f instanceof va)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=f,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Eh=ro.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){ro.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){ro.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=ro.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",f=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=wt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var f,m,S=this._map,T=this._container,D=S.latLngToContainerPoint(S.getCenter()),Y=S.layerPointToContainerPoint(s),te=this.options.direction,ie=T.offsetWidth,le=T.offsetHeight,Se=k(this.options.offset),Ue=this._getAnchor();te==="top"?(f=ie/2,m=le):te==="bottom"?(f=ie/2,m=0):te==="center"?(f=ie/2,m=le/2):te==="right"?(f=0,m=le/2):te==="left"?(f=ie,m=le/2):Y.x<D.x?(te="right",f=0,m=le/2):(te="left",f=ie+(Se.x+Ue.x)*2,m=le/2),s=s.subtract(k(f,m,!0)).add(Se).add(Ue),xn(T,"leaflet-tooltip-right"),xn(T,"leaflet-tooltip-left"),xn(T,"leaflet-tooltip-top"),xn(T,"leaflet-tooltip-bottom"),tt(T,"leaflet-tooltip-"+te),Mn(T,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&fi(this._container,s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(f)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),UN=function(s,f){return new Eh(s,f)};pt.include({openTooltip:function(s,f,m){return this._initOverlay(Eh,s,f,m).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Di.include({bindTooltip:function(s,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Eh,this._tooltip,s,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var f=s?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[f](m),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ko||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&(Ze(f,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Ze(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var f=s.latlng,m,S;this._tooltip.options.sticky&&s.originalEvent&&(m=this._map.mouseEventToContainerPoint(s.originalEvent),S=this._map.containerPointToLayerPoint(m),f=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(f)}});var sS=hl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var f=s&&s.tagName==="DIV"?s:document.createElement("div"),m=this.options;if(m.html instanceof Element?(ch(f),f.appendChild(m.html)):f.innerHTML=m.html!==!1?m.html:"",m.bgPos){var S=k(m.bgPos);f.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function jN(s){return new sS(s)}hl.Default=yc;var _c=Di.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){y(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),sn(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(cl(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fl(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof V?s:new V(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var f=this.getPane().children,m=-s(-1/0,1/0),S=0,T=f.length,D;S<T;S++)D=f[S].style.zIndex,f[S]!==this._container&&D&&(m=s(m,+D));isFinite(m)&&(this.options.zIndex=m+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){fi(this._container,this.options.opacity);var s=+new Date,f=!1,m=!1;for(var S in this._tiles){var T=this._tiles[S];if(!(!T.current||!T.loaded)){var D=Math.min(1,(s-T.loaded)/200);fi(T.el,D),D<1?f=!0:(T.active?m=!0:this._onOpaqueTile(T),T.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),f&&(G(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,f=this.options.maxZoom;if(s!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===s?(this._levels[m].el.style.zIndex=f-Math.abs(s-m),this._onUpdateLevel(m)):(sn(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var S=this._levels[s],T=this._map;return S||(S=this._levels[s]={},S.el=wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=f,S.origin=T.project(T.unproject(T.getPixelOrigin()),s).round(),S.zoom=s,this._setZoomTransform(S,T.getCenter(),T.getZoom()),h(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var s,f,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)f=this._tiles[s],f.retain=f.current;for(s in this._tiles)if(f=this._tiles[s],f.current&&!f.active){var S=f.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var f in this._tiles)this._tiles[f].coords.z===s&&this._removeTile(f)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)sn(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,f,m,S){var T=Math.floor(s/2),D=Math.floor(f/2),Y=m-1,te=new V(+T,+D);te.z=+Y;var ie=this._tileCoordsToKey(te),le=this._tiles[ie];return le&&le.active?(le.retain=!0,!0):(le&&le.loaded&&(le.retain=!0),Y>S?this._retainParent(T,D,Y,S):!1)},_retainChildren:function(s,f,m,S){for(var T=2*s;T<2*s+2;T++)for(var D=2*f;D<2*f+2;D++){var Y=new V(T,D);Y.z=m+1;var te=this._tileCoordsToKey(Y),ie=this._tiles[te];if(ie&&ie.active){ie.retain=!0;continue}else ie&&ie.loaded&&(ie.retain=!0);m+1<S&&this._retainChildren(T,D,m+1,S)}},_resetView:function(s){var f=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var f=this.options;return f.minNativeZoom!==void 0&&s<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<s?f.maxNativeZoom:s},_setView:function(s,f,m,S){var T=Math.round(f);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var D=this.options.updateWhenZooming&&T!==this._tileZoom;(!S||D)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(s),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(s,f)},_setZoomTransforms:function(s,f){for(var m in this._levels)this._setZoomTransform(this._levels[m],s,f)},_setZoomTransform:function(s,f,m){var S=this._map.getZoomScale(m,s.zoom),T=s.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(f,m)).round();Ne.any3d?ds(s.el,T,S):Mn(s.el,T)},_resetGrid:function(){var s=this._map,f=s.options.crs,m=this._tileSize=this.getTileSize(),S=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,f.wrapLng[0]],S).x/m.x),Math.ceil(s.project([0,f.wrapLng[1]],S).x/m.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([f.wrapLat[0],0],S).y/m.x),Math.ceil(s.project([f.wrapLat[1],0],S).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var f=this._map,m=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),S=f.getZoomScale(m,this._tileZoom),T=f.project(s,this._tileZoom).floor(),D=f.getSize().divideBy(S*2);return new q(T.subtract(D),T.add(D))},_update:function(s){var f=this._map;if(f){var m=this._clampZoom(f.getZoom());if(s===void 0&&(s=f.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(s),T=this._pxBoundsToTileRange(S),D=T.getCenter(),Y=[],te=this.options.keepBuffer,ie=new q(T.getBottomLeft().subtract([te,-te]),T.getTopRight().add([te,-te]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var le in this._tiles){var Se=this._tiles[le].coords;(Se.z!==this._tileZoom||!ie.contains(new V(Se.x,Se.y)))&&(this._tiles[le].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(s,m);return}for(var Ue=T.min.y;Ue<=T.max.y;Ue++)for(var ot=T.min.x;ot<=T.max.x;ot++){var fr=new V(ot,Ue);if(fr.z=this._tileZoom,!!this._isValidTile(fr)){var kn=this._tiles[this._tileCoordsToKey(fr)];kn?kn.current=!0:Y.push(fr)}}if(Y.sort(function(Tr,gl){return Tr.distanceTo(D)-gl.distanceTo(D)}),Y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var hi=document.createDocumentFragment();for(ot=0;ot<Y.length;ot++)this._addTile(Y[ot],hi);this._level.el.appendChild(hi)}}}},_isValidTile:function(s){var f=this._map.options.crs;if(!f.infinite){var m=this._globalTileRange;if(!f.wrapLng&&(s.x<m.min.x||s.x>m.max.x)||!f.wrapLat&&(s.y<m.min.y||s.y>m.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(s);return Q(this.options.bounds).overlaps(S)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var f=this._map,m=this.getTileSize(),S=s.scaleBy(m),T=S.add(m),D=f.unproject(S,s.z),Y=f.unproject(T,s.z);return[D,Y]},_tileCoordsToBounds:function(s){var f=this._tileCoordsToNwSe(s),m=new ue(f[0],f[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var f=s.split(":"),m=new V(+f[0],+f[1]);return m.z=+f[2],m},_removeTile:function(s){var f=this._tiles[s];f&&(sn(f.el),delete this._tiles[s],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){tt(s,"leaflet-tile");var f=this.getTileSize();s.style.width=f.x+"px",s.style.height=f.y+"px",s.onselectstart=h,s.onmousemove=h,Ne.ielt9&&this.options.opacity<1&&fi(s,this.options.opacity)},_addTile:function(s,f){var m=this._getTilePos(s),S=this._tileCoordsToKey(s),T=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(T),this.createTile.length<2&&z(a(this._tileReady,this,s,null,T)),Mn(T,m),this._tiles[S]={el:T,coords:s,current:!0},f.appendChild(T),this.fire("tileloadstart",{tile:T,coords:s})},_tileReady:function(s,f,m){f&&this.fire("tileerror",{error:f,tile:m,coords:s});var S=this._tileCoordsToKey(s);m=this._tiles[S],m&&(m.loaded=+new Date,this._map._fadeAnimated?(fi(m.el,0),G(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),f||(tt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var f=new V(this._wrapX?d(s.x,this._wrapX):s.x,this._wrapY?d(s.y,this._wrapY):s.y);return f.z=s.z,f},_pxBoundsToTileRange:function(s){var f=this.getTileSize();return new q(s.min.unscaleBy(f).floor(),s.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function HN(s){return new _c(s)}var vl=_c.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,f){this._url=s,f=y(this,f),f.detectRetina&&Ne.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,f){return this._url===s&&f===void 0&&(f=!0),this._url=s,f||this.redraw(),this},createTile:function(s,f){var m=document.createElement("img");return Ze(m,"load",a(this._tileOnLoad,this,f,m)),Ze(m,"error",a(this._tileOnError,this,f,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(s),m},getTileUrl:function(s){var f={r:Ne.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-s.y;this.options.tms&&(f.y=m),f["-y"]=m}return x(this._url,i(f,this.options))},_tileOnLoad:function(s,f){Ne.ielt9?setTimeout(a(s,this,null,f),0):s(null,f)},_tileOnError:function(s,f,m){var S=this.options.errorTileUrl;S&&f.getAttribute("src")!==S&&(f.src=S),s(m,f)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,f=this.options.maxZoom,m=this.options.zoomReverse,S=this.options.zoomOffset;return m&&(s=f-s),s+S},_getSubdomain:function(s){var f=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var s,f;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(f=this._tiles[s].el,f.onload=h,f.onerror=h,!f.complete)){f.src=A;var m=this._tiles[s].coords;sn(f),delete this._tiles[s],this.fire("tileabort",{tile:f,coords:m})}},_removeTile:function(s){var f=this._tiles[s];if(f)return f.el.setAttribute("src",A),_c.prototype._removeTile.call(this,s)},_tileReady:function(s,f,m){if(!(!this._map||m&&m.getAttribute("src")===A))return _c.prototype._tileReady.call(this,s,f,m)}});function lS(s,f){return new vl(s,f)}var uS=vl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,f){this._url=s;var m=i({},this.defaultWmsParams);for(var S in f)S in this.options||(m[S]=f[S]);f=y(this,f);var T=f.detectRetina&&Ne.retina?2:1,D=this.getTileSize();m.width=D.x*T,m.height=D.y*T,this.wmsParams=m},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,vl.prototype.onAdd.call(this,s)},getTileUrl:function(s){var f=this._tileCoordsToNwSe(s),m=this._crs,S=H(m.project(f[0]),m.project(f[1])),T=S.min,D=S.max,Y=(this._wmsVersion>=1.3&&this._crs===tS?[T.y,T.x,D.y,D.x]:[T.x,T.y,D.x,D.y]).join(","),te=vl.prototype.getTileUrl.call(this,s);return te+M(this.wmsParams,te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Y},setParams:function(s,f){return i(this.wmsParams,s),f||this.redraw(),this}});function GN(s,f){return new uS(s,f)}vl.WMS=uS,lS.wms=GN;var Fo=Di.extend({options:{padding:.1},initialize:function(s){y(this,s),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),tt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,f){var m=this._map.getZoomScale(f,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,f),D=S.multiplyBy(-m).add(T).subtract(this._map._getNewPixelOrigin(s,f));Ne.any3d?ds(this._container,D,m):Mn(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,f=this._map.getSize(),m=this._map.containerPointToLayerPoint(f.multiplyBy(-s)).round();this._bounds=new q(m,m.add(f.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cS=Fo.extend({options:{tolerance:0},getEvents:function(){var s=Fo.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Ze(s,"mousemove",this._onMouseMove,this),Ze(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ze(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,sn(this._container),$t(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var f in this._layers)s=this._layers[f],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fo.prototype._update.call(this);var s=this._bounds,f=this._container,m=s.getSize(),S=Ne.retina?2:1;Mn(f,s.min),f.width=S*m.x,f.height=S*m.y,f.style.width=m.x+"px",f.style.height=m.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Fo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[u(s)]=s;var f=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var f=s._order,m=f.next,S=f.prev;m?m.prev=S:this._drawLast=S,S?S.next=m:this._drawFirst=m,delete s._order,delete this._layers[u(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var f=s.options.dashArray.split(/[, ]+/),m=[],S,T;for(T=0;T<f.length;T++){if(S=Number(f[T]),isNaN(S))return;m.push(S)}s.options._dashArray=m}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var f=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(s._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(s._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var f=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,f=this._redrawBounds;if(this._ctx.save(),f){var m=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)s=S.layer,(!f||s._pxBounds&&s._pxBounds.intersects(f))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,f){if(this._drawing){var m,S,T,D,Y=s._parts,te=Y.length,ie=this._ctx;if(te){for(ie.beginPath(),m=0;m<te;m++){for(S=0,T=Y[m].length;S<T;S++)D=Y[m][S],ie[S?"lineTo":"moveTo"](D.x,D.y);f&&ie.closePath()}this._fillStroke(ie,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var f=s._point,m=this._ctx,S=Math.max(Math.round(s._radius),1),T=(Math.max(Math.round(s._radiusY),1)||S)/S;T!==1&&(m.save(),m.scale(1,T)),m.beginPath(),m.arc(f.x,f.y/T,S,0,Math.PI*2,!1),T!==1&&m.restore(),this._fillStroke(m,s)}},_fillStroke:function(s,f){var m=f.options;m.fill&&(s.globalAlpha=m.fillOpacity,s.fillStyle=m.fillColor||m.color,s.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(s.setLineDash&&s.setLineDash(f.options&&f.options._dashArray||[]),s.globalAlpha=m.opacity,s.lineWidth=m.weight,s.strokeStyle=m.color,s.lineCap=m.lineCap,s.lineJoin=m.lineJoin,s.stroke())},_onClick:function(s){for(var f=this._map.mouseEventToLayerPoint(s),m,S,T=this._drawFirst;T;T=T.next)m=T.layer,m.options.interactive&&m._containsPoint(f)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(m))&&(S=m);this._fireEvent(S?[S]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,f)}},_handleMouseOut:function(s){var f=this._hoveredLayer;f&&(xn(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,f){if(!this._mouseHoverThrottled){for(var m,S,T=this._drawFirst;T;T=T.next)m=T.layer,m.options.interactive&&m._containsPoint(f)&&(S=m);S!==this._hoveredLayer&&(this._handleMouseOut(s),S&&(tt(this._container,"leaflet-interactive"),this._fireEvent([S],s,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,f,m){this._map._fireDOMEvent(f,m||f.type,s)},_bringToFront:function(s){var f=s._order;if(f){var m=f.next,S=f.prev;if(m)m.prev=S;else return;S?S.next=m:m&&(this._drawFirst=m),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(s)}},_bringToBack:function(s){var f=s._order;if(f){var m=f.next,S=f.prev;if(S)S.next=m;else return;m?m.prev=S:S&&(this._drawLast=S),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(s)}}});function fS(s){return Ne.canvas?new cS(s):null}var xc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),VN={_initContainer:function(){this._container=wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fo.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var f=s._container=xc("shape");tt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",s._path=xc("path"),f.appendChild(s._path),this._updateStyle(s),this._layers[u(s)]=s},_addPath:function(s){var f=s._container;this._container.appendChild(f),s.options.interactive&&s.addInteractiveTarget(f)},_removePath:function(s){var f=s._container;sn(f),s.removeInteractiveTarget(f),delete this._layers[u(s)]},_updateStyle:function(s){var f=s._stroke,m=s._fill,S=s.options,T=s._container;T.stroked=!!S.stroke,T.filled=!!S.fill,S.stroke?(f||(f=s._stroke=xc("stroke")),T.appendChild(f),f.weight=S.weight+"px",f.color=S.color,f.opacity=S.opacity,S.dashArray?f.dashStyle=b(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=S.lineCap.replace("butt","flat"),f.joinstyle=S.lineJoin):f&&(T.removeChild(f),s._stroke=null),S.fill?(m||(m=s._fill=xc("fill")),T.appendChild(m),m.color=S.fillColor||S.color,m.opacity=S.fillOpacity):m&&(T.removeChild(m),s._fill=null)},_updateCircle:function(s){var f=s._point.round(),m=Math.round(s._radius),S=Math.round(s._radiusY||m);this._setPath(s,s._empty()?"M0 0":"AL "+f.x+","+f.y+" "+m+","+S+" 0,"+65535*360)},_setPath:function(s,f){s._path.v=f},_bringToFront:function(s){cl(s._container)},_bringToBack:function(s){fl(s._container)}},Mh=Ne.vml?xc:Ke,wc=Fo.extend({_initContainer:function(){this._container=Mh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Mh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){sn(this._container),$t(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fo.prototype._update.call(this);var s=this._bounds,f=s.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,m.setAttribute("width",f.x),m.setAttribute("height",f.y)),Mn(m,s.min),m.setAttribute("viewBox",[s.min.x,s.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(s){var f=s._path=Mh("path");s.options.className&&tt(f,s.options.className),s.options.interactive&&tt(f,"leaflet-interactive"),this._updateStyle(s),this._layers[u(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){sn(s._path),s.removeInteractiveTarget(s._path),delete this._layers[u(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var f=s._path,m=s.options;f&&(m.stroke?(f.setAttribute("stroke",m.color),f.setAttribute("stroke-opacity",m.opacity),f.setAttribute("stroke-width",m.weight),f.setAttribute("stroke-linecap",m.lineCap),f.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?f.setAttribute("stroke-dasharray",m.dashArray):f.removeAttribute("stroke-dasharray"),m.dashOffset?f.setAttribute("stroke-dashoffset",m.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),m.fill?(f.setAttribute("fill",m.fillColor||m.color),f.setAttribute("fill-opacity",m.fillOpacity),f.setAttribute("fill-rule",m.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(s,f){this._setPath(s,Wt(s._parts,f))},_updateCircle:function(s){var f=s._point,m=Math.max(Math.round(s._radius),1),S=Math.max(Math.round(s._radiusY),1)||m,T="a"+m+","+S+" 0 1,0 ",D=s._empty()?"M0 0":"M"+(f.x-m)+","+f.y+T+m*2+",0 "+T+-m*2+",0 ";this._setPath(s,D)},_setPath:function(s,f){s._path.setAttribute("d",f)},_bringToFront:function(s){cl(s._path)},_bringToBack:function(s){fl(s._path)}});Ne.vml&&wc.include(VN);function dS(s){return Ne.svg||Ne.vml?new wc(s):null}pt.include({getRenderer:function(s){var f=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var f=this._paneRenderers[s];return f===void 0&&(f=this._createRenderer({pane:s}),this._paneRenderers[s]=f),f},_createRenderer:function(s){return this.options.preferCanvas&&fS(s)||dS(s)}});var hS=pl.extend({initialize:function(s,f){pl.prototype.initialize.call(this,this._boundsToLatLngs(s),f)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Q(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function WN(s,f){return new hS(s,f)}wc.create=Mh,wc.pointsToPath=Wt,Do.geometryToLayer=yh,Do.coordsToLatLng=_y,Do.coordsToLatLngs=_h,Do.latLngToCoords=xy,Do.latLngsToCoords=xh,Do.getFeature=ml,Do.asFeature=wh,pt.mergeOptions({boxZoom:!0});var pS=no.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$t(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){sn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),dc(),ny(),this._startPoint=this._map.mouseEventToContainerPoint(s),Ze(document,{contextmenu:ms,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=wt("div","leaflet-zoom-box",this._container),tt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var f=new q(this._point,this._startPoint),m=f.getSize();Mn(this._box,f.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(sn(this._box),xn(this._container,"leaflet-crosshair")),hc(),ry(),$t(document,{contextmenu:ms,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var f=new ue(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});pt.addInitHook("addHandler","boxZoom",pS),pt.mergeOptions({doubleClickZoom:!0});var mS=no.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var f=this._map,m=f.getZoom(),S=f.options.zoomDelta,T=s.originalEvent.shiftKey?m-S:m+S;f.options.doubleClickZoom==="center"?f.setZoom(T):f.setZoomAround(s.containerPoint,T)}});pt.addInitHook("addHandler","doubleClickZoom",mS),pt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vS=no.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new ma(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}tt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xn(this._map._container,"leaflet-grab"),xn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Q(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var f=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(f),this._prunePositions(f)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,f){return s-(s-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;s.x<f.min.x&&(s.x=this._viscousLimit(s.x,f.min.x)),s.y<f.min.y&&(s.y=this._viscousLimit(s.y,f.min.y)),s.x>f.max.x&&(s.x=this._viscousLimit(s.x,f.max.x)),s.y>f.max.y&&(s.y=this._viscousLimit(s.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,f=Math.round(s/2),m=this._initialWorldOffset,S=this._draggable._newPos.x,T=(S-f+m)%s+f-m,D=(S+f+m)%s-f-m,Y=Math.abs(T+m)<Math.abs(D+m)?T:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Y},_onDragEnd:function(s){var f=this._map,m=f.options,S=!m.inertia||s.noInertia||this._times.length<2;if(f.fire("dragend",s),S)f.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,Y=m.easeLinearity,te=T.multiplyBy(Y/D),ie=te.distanceTo([0,0]),le=Math.min(m.inertiaMaxSpeed,ie),Se=te.multiplyBy(le/ie),Ue=le/(m.inertiaDeceleration*Y),ot=Se.multiplyBy(-Ue/2).round();!ot.x&&!ot.y?f.fire("moveend"):(ot=f._limitOffset(ot,f.options.maxBounds),z(function(){f.panBy(ot,{duration:Ue,easeLinearity:Y,noMoveStart:!0,animate:!0})}))}}});pt.addInitHook("addHandler","dragging",vS),pt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gS=no.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Ze(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$t(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,f=document.documentElement,m=s.scrollTop||f.scrollTop,S=s.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(S,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var f=this._panKeys={},m=this.keyCodes,S,T;for(S=0,T=m.left.length;S<T;S++)f[m.left[S]]=[-1*s,0];for(S=0,T=m.right.length;S<T;S++)f[m.right[S]]=[s,0];for(S=0,T=m.down.length;S<T;S++)f[m.down[S]]=[0,s];for(S=0,T=m.up.length;S<T;S++)f[m.up[S]]=[0,-1*s]},_setZoomDelta:function(s){var f=this._zoomKeys={},m=this.keyCodes,S,T;for(S=0,T=m.zoomIn.length;S<T;S++)f[m.zoomIn[S]]=s;for(S=0,T=m.zoomOut.length;S<T;S++)f[m.zoomOut[S]]=-s},_addHooks:function(){Ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$t(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var f=s.keyCode,m=this._map,S;if(f in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(S=this._panKeys[f],s.shiftKey&&(S=k(S).multiplyBy(3)),m.options.maxBounds&&(S=m._limitOffset(k(S),m.options.maxBounds)),m.options.worldCopyJump){var T=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(S)));m.panTo(T)}else m.panBy(S)}else if(f in this._zoomKeys)m.setZoom(m.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;ms(s)}}});pt.addInitHook("addHandler","keyboard",gS),pt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yS=no.extend({addHooks:function(){Ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$t(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var f=Hb(s),m=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var S=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),S),ms(s)},_performZoom:function(){var s=this._map,f=s.getZoom(),m=this._map.options.zoomSnap||0;s._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,D=m?Math.ceil(T/m)*m:T,Y=s._limitZoom(f+(this._delta>0?D:-D))-f;this._delta=0,this._startTime=null,Y&&(s.options.scrollWheelZoom==="center"?s.setZoom(f+Y):s.setZoomAround(this._lastMousePos,f+Y))}});pt.addInitHook("addHandler","scrollWheelZoom",yS);var $N=600;pt.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var _S=no.extend({addHooks:function(){Ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$t(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var f=s.touches[0];this._startPos=this._newPos=new V(f.clientX,f.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Ze(document,"touchend",Hn),Ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),$N),Ze(document,"touchend touchcancel contextmenu",this._cancel,this),Ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){$t(document,"touchend",Hn),$t(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),$t(document,"touchend touchcancel contextmenu",this._cancel,this),$t(document,"touchmove",this._onMove,this)},_onMove:function(s){var f=s.touches[0];this._newPos=new V(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,f){var m=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});m._simulated=!0,f.target.dispatchEvent(m)}});pt.addInitHook("addHandler","tapHold",_S),pt.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var xS=no.extend({addHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),Ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xn(this._map._container,"leaflet-touch-zoom"),$t(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var f=this._map;if(!(!s.touches||s.touches.length!==2||f._animatingZoom||this._zooming)){var m=f.mouseEventToContainerPoint(s.touches[0]),S=f.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(m.add(S)._divideBy(2))),this._startDist=m.distanceTo(S),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Ze(document,"touchmove",this._onTouchMove,this),Ze(document,"touchend touchcancel",this._onTouchEnd,this),Hn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var f=this._map,m=f.mouseEventToContainerPoint(s.touches[0]),S=f.mouseEventToContainerPoint(s.touches[1]),T=m.distanceTo(S)/this._startDist;if(this._zoom=f.getScaleZoom(T,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&T<1||this._zoom>f.getMaxZoom()&&T>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var D=m._add(S)._divideBy(2)._subtract(this._centerPoint);if(T===1&&D.x===0&&D.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var Y=a(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(Y,this,!0),Hn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),$t(document,"touchmove",this._onTouchMove,this),$t(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});pt.addInitHook("addHandler","touchZoom",xS),pt.BoxZoom=pS,pt.DoubleClickZoom=mS,pt.Drag=vS,pt.Keyboard=gS,pt.ScrollWheelZoom=yS,pt.TapHold=_S,pt.TouchZoom=xS,n.Bounds=q,n.Browser=Ne,n.CRS=ve,n.Canvas=cS,n.Circle=yy,n.CircleMarker=gh,n.Class=W,n.Control=Ii,n.DivIcon=sS,n.DivOverlay=ro,n.DomEvent=cN,n.DomUtil=lN,n.Draggable=ma,n.Evented=J,n.FeatureGroup=ko,n.GeoJSON=Do,n.GridLayer=_c,n.Handler=no,n.Icon=hl,n.ImageOverlay=bh,n.LatLng=ne,n.LatLngBounds=ue,n.Layer=Di,n.LayerGroup=dl,n.LineUtil=SN,n.Map=pt,n.Marker=vh,n.Mixin=gN,n.Path=va,n.Point=V,n.PolyUtil=yN,n.Polygon=pl,n.Polyline=Io,n.Popup=Sh,n.PosAnimation=Gb,n.Projection=EN,n.Rectangle=hS,n.Renderer=Fo,n.SVG=wc,n.SVGOverlay=aS,n.TileLayer=vl,n.Tooltip=Eh,n.Transformation=Te,n.Util=K,n.VideoOverlay=oS,n.bind=a,n.bounds=H,n.canvas=fS,n.circle=ON,n.circleMarker=RN,n.control=vc,n.divIcon=jN,n.extend=i,n.featureGroup=PN,n.geoJSON=iS,n.geoJson=IN,n.gridLayer=HN,n.icon=CN,n.imageOverlay=DN,n.latLng=re,n.latLngBounds=Q,n.layerGroup=TN,n.map=fN,n.marker=LN,n.point=k,n.polygon=kN,n.polyline=NN,n.popup=zN,n.rectangle=WN,n.setOptions=y,n.stamp=u,n.svg=dS,n.svgOverlay=BN,n.tileLayer=lS,n.tooltip=UN,n.transformation=ze,n.version=r,n.videoOverlay=FN;var YN=window.L;n.noConflict=function(){return window.L=YN,this},window.L=n})})(dx,dx.exports);var ls=dx.exports;const Ls=Ud(ls);function rc(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function jg(e,t){return t==null?function(r,i){const o=O.useRef();return o.current||(o.current=e(r,i)),o}:function(r,i){const o=O.useRef();o.current||(o.current=e(r,i));const a=O.useRef(r),{instance:l}=o.current;return O.useEffect(function(){a.current!==r&&(t(l,r,a.current),a.current=r)},[l,r,i]),o}}function _V(e,t){O.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function xR(e){return function(n){const r=Ug(),i=e(_b(n,r),r);return vR(r.map,n.attribution),_R(i.current,n.eventHandlers),_V(i.current,r),i}}function wR(e,t){const n=jg(e,t),r=xR(n);return yR(r)}function bR(e,t){const n=jg(e),r=yV(n,t);return mV(r)}function xV(e,t){const n=jg(e,t),r=xR(n);return vV(r)}function wV(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}const lA=wR(function({children:t,...n},r){const i=new ls.LayerGroup([],n);return rc(i,zg(r,{layerContainer:i}))}),bV=jg(function({children:t,...n},r){const i=new ls.Control.Layers(void 0,void 0,n);return rc(i,zg(r,{layersControl:i}))},function(t,n,r){n.collapsed!==r.collapsed&&(n.collapsed===!0?t.collapse():t.expand())}),SV=gV(bV),Ea=yR(SV);function SR(e){return function(n){const r=Ug(),i=O.useRef(n),[o,a]=O.useState(null),{layersControl:l,map:u}=r,c=O.useCallback(p=>{l!=null&&(i.current.checked&&u.addLayer(p),e(l,p,i.current.name),a(p))},[l,u]),d=O.useCallback(p=>{l==null||l.removeLayer(p),a(null)},[l]),h=O.useMemo(()=>zg(r,{layerContainer:{addLayer:c,removeLayer:d}}),[r,c,d]);return O.useEffect(()=>{o!==null&&i.current!==n&&(n.checked===!0&&(i.current.checked==null||i.current.checked===!1)?u.addLayer(o):i.current.checked===!0&&(n.checked==null||n.checked===!1)&&u.removeLayer(o),i.current=n)}),n.children?Ge.createElement(yb,{value:h},n.children):null}}Ea.BaseLayer=SR(function(t,n,r){t.addBaseLayer(n,r)});Ea.Overlay=SR(function(t,n,r){t.addOverlay(n,r)});function hx(){return hx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hx.apply(this,arguments)}function EV({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:a,style:l,whenReady:u,zoom:c,...d},h){const[p]=O.useState({className:i,id:o,style:l}),[v,g]=O.useState(null);O.useImperativeHandle(h,()=>(v==null?void 0:v.map)??null,[v]);const y=O.useCallback(_=>{if(_!==null&&v===null){const x=new ls.Map(_,d);n!=null&&c!=null?x.setView(n,c):e!=null&&x.fitBounds(e,t),u!=null&&x.whenReady(u),g(pV(x))}},[]);O.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const M=v?Ge.createElement(yb,{value:v},r):a??null;return Ge.createElement("div",hx({},p,{ref:y}),M)}const MV=O.forwardRef(EV),uA=wR(function({position:t,...n},r){const i=new ls.Marker(t,n);return rc(i,zg(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),cA=bR(function(t,n){const r=new ls.Popup(t,n.overlayContainer);return rc(r,n)},function(t,n,{position:r},i){O.useEffect(function(){const{instance:a}=t;function l(c){c.popup===a&&(a.update(),i(!0))}function u(c){c.popup===a&&i(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var d;n.map.off({popupopen:l,popupclose:u}),(d=n.overlayContainer)==null||d.unbindPopup(),n.map.removeLayer(a)}},[t,n,i,r])}),x0=xV(function({url:t,...n},r){const i=new ls.TileLayer(t,_b(n,r));return rc(i,r)},function(t,n,r){wV(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),AV=bR(function(t,n){const r=new ls.Tooltip(t,n.overlayContainer);return rc(r,n)},function(t,n,{position:r},i){O.useEffect(function(){const a=n.overlayContainer;if(a==null)return;const{instance:l}=t,u=d=>{d.tooltip===l&&(r!=null&&l.setLatLng(r),l.update(),i(!0))},c=d=>{d.tooltip===l&&i(!1)};return a.on({tooltipopen:u,tooltipclose:c}),a.bindTooltip(l),function(){a.off({tooltipopen:u,tooltipclose:c}),a._map!=null&&a.unbindTooltip()}},[t,n,i,r])}),w0="data:image/jpeg;base64,/9j/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwMBAQEBAQEBAgEBAgICAQICAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA//dAAQAIP/uAA5BZG9iZQBkwAAAAAH/wAARCAEAAQADABEAAREBAhEB/8QATAABAQAAAAAAAAAAAAAAAAAAAAoBAQEAAAAAAAAAAAAAAAAAAAAJEAEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMAAAERAhEAPwCXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9CXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9GXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9KXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9OXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9SXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9WXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9aXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9eXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9CXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9GXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9KXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9OXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9SXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9WXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9aXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9eXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9CXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9GXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9KXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9OXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9SXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9WXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9aXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9eXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9CXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9GXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9KXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9OXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9SXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9WXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9aXtRFPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9k=",TV=""+new URL("location_target-8076ad5c.png",import.meta.url).href,PV=""+new URL("location-8f316350.png",import.meta.url).href,CV=""+new URL("user-1efb44cb.png",import.meta.url).href,ER=O.createContext(null),LV=({children:e})=>{const[t,n]=O.useState([]);return Fn("map_players",function({players:r,localjob:i}){Array.isArray(r)||(r=Object.values(r)),n(r.filter(o=>i===(o==null?void 0:o.job)))}),w.jsx(ER.Provider,{value:{playerList:t,setPlayersList:n},children:e})},MR=()=>O.useContext(ER),RV=""+new URL("helicopter-4417265a.png",import.meta.url).href,OV=""+new URL("plane-a92c9a52.png",import.meta.url).href,NV=""+new URL("boat-e60986a1.png",import.meta.url).href,kV=""+new URL("motorbike-40608bf3.png",import.meta.url).href,IV=""+new URL("sport-car-b8aeec5f.png",import.meta.url).href,DV=117.3,FV=172.8,BV=.02072,zV=.0205,UV=Ls.extend({},Ls.CRS.Simple,{projection:Ls.Projection.LonLat,scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/.6931471805599453},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},transformation:new Ls.Transformation(BV,DV,-zV,FV),infinite:!0}),jV={walking:CV,automobile:IV,bike:kV,boat:NV,heli:RV,plane:OV};function b0(e,t){if(e==="location_target")return Ls.icon({iconUrl:TV,iconSize:[30,30],iconAnchor:[30,30],popupAnchor:[-10,-27]});if(e==="location")return Ls.icon({iconUrl:PV,iconSize:[30,30],iconAnchor:[30,30],popupAnchor:[-10,-27]});if(e==="user")return Ls.icon({iconUrl:jV[t],iconSize:[30,30],iconAnchor:[30,30],popupAnchor:[-10,-27]})}const HV={walking:sb,automobile:ub,bike:fb,boat:hb,heli:gb,plane:mb};function GV(){const{t:e,gameconfig:t}=Jt(),{playerList:n}=MR(),{respondingCall:r,callList:i,respondSpecific:o,deleteCall:a}=eh(),l=u=>{Be("setmarkerplayer",{coords:u},()=>{})};return w.jsx(MV,{className:"relative h-full w-full bg-blue z-0",crs:UV,center:[0,0],zoom:3,minZoom:2,maxZoom:5,preferCanvas:!0,children:w.jsxs(Ea,{position:"topright",children:[w.jsx(Ea.BaseLayer,{checked:!0,name:"Style Satelite",children:w.jsx(x0,{url:"https://www.quasar-store.com/static/mapStyles/styleSatelite/{z}/{x}/{y}.jpg",errorTileUrl:w0,noWrap:!0})}),w.jsx(Ea.BaseLayer,{name:"Style Atlas",children:w.jsx(x0,{url:"https://www.quasar-store.com/static/mapStyles/styleAtlas/{z}/{x}/{y}.jpg",errorTileUrl:w0,noWrap:!0})}),w.jsx(Ea.BaseLayer,{name:"Style Grid",children:w.jsx(x0,{url:"https://www.quasar-store.com/static/mapStyles/styleGrid/{z}/{x}/{y}.png",errorTileUrl:w0,noWrap:!0})}),w.jsx(Ea.Overlay,{checked:!0,name:e("CALLS"),children:w.jsx(lA,{children:i.map(u=>{var d,h;const c=w.jsx(w.Fragment,{children:w.jsxs("div",{className:"p-4",children:[w.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[w.jsxs("span",{id:"popupcallid","call-id":u==null?void 0:u.id,children:["#",u==null?void 0:u.id]}),"Code: ",u==null?void 0:u.code,"",w.jsx("span",{className:"text-xs",children:u==null?void 0:u.codeSnippet})]}),w.jsx("ul",{className:"list-disc pl-4 mb-4",children:w.jsxs("li",{children:[e("MESSAGE"),": ",u!=null&&u.message?u==null?void 0:u.message:e("NOTHING")]})}),w.jsx("br",{}),(u==null?void 0:u.image)&&w.jsx("img",{src:u==null?void 0:u.image,alt:"axD"}),w.jsx("br",{}),w.jsxs("div",{className:"flex justify-center",children:[w.jsx(nr,{variant:"outlined",color:"error",onClick:()=>a(!1,u==null?void 0:u.id),children:e("DELETE")}),"",w.jsx(nr,{variant:"contained",onClick:()=>o(u==null?void 0:u.id),children:(r==null?void 0:r.id)===(u==null?void 0:u.id)?e("CANCEL_CALL"):e("ACCEPT_CALL")})]})]})});return w.jsx(uA,{position:[((d=u==null?void 0:u.location)==null?void 0:d.y)||0,((h=u==null?void 0:u.location)==null?void 0:h.x)||0],icon:(r==null?void 0:r.id)===(u==null?void 0:u.id)?b0("location_target"):b0("location"),children:w.jsx(cA,{children:c})},u==null?void 0:u.id)})})}),w.jsx(Ea.Overlay,{checked:!0,name:e("COLLEGUES"),children:w.jsx(lA,{children:n.map(u=>{var d,h,p;let c=HV[(u==null?void 0:u.vehType)||"walking"];return w.jsxs(uA,{position:[((d=u==null?void 0:u.coords)==null?void 0:d.y)||0,((h=u==null?void 0:u.coords)==null?void 0:h.x)||0],icon:b0("user",t.useVehicleIconsInDispatchLargueMap&&(u==null?void 0:u.vehType)||"walking"),children:[w.jsxs(cA,{children:[w.jsxs("p",{className:"text-center",children:[((p=u==null?void 0:u.name)==null?void 0:p.replace(/\B#([A-Za-z0-9]{2,})(?![~!@#$%^&*()=+_`\-\|\\/'\[\]\{\}]|[?.,]*\w)/i,""))+` #${u==null?void 0:u.callsign}`," | ",w.jsx(c,{})," "]}),w.jsx("button",{onClick:()=>l(u.coords),className:"text-center cursor-pointer focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 m-2 bg-blue-600 hover:bg-blue-700 focus:ring-blue-900 select-none",children:e("MARK_YOUR_CURENT_LOCATION")})]}),w.jsx(AV,{children:u.name+` #${u==null?void 0:u.callsign}`})]},u.src)})})})]})})}function AR({children:e,open:t}){const[n,r]=O.useState(he()),i=Qa({opacity:t?1:0,transform:t?"translateY(0%)":"translateY(100%)",config:Ja.stiff});return O.useEffect(()=>{const o=setInterval(()=>{r(he())},1e3);return()=>clearInterval(o)},[]),w.jsx(mo.div,{style:{...i,zIndex:998},className:"absolute flex justify-center items-center w-full h-full",children:w.jsx("div",{className:"tablet h-[90vh] w-[74vw] flex justify-center",children:w.jsx("div",{className:"",children:w.jsxs("div",{className:"flex items-center justify-center w-full h-full",children:[w.jsx("div",{className:"cam"}),w.jsxs("div",{id:"mdt_main_cont",className:"absolute h-[82%] rounded-[3vh] overflow-hidden w-[70%] bg-[#111828] text-white m-4 border-gray-400",children:[w.jsx("div",{id:"head_tablet",style:{zIndex:997},className:"bg-[rgba(0,0,0,0.17)] h-[2.1vh] mt-[.09vh]  w-[100vw] backdrop-filter backdrop-blur-sm flex items-center justify-between px-4",children:w.jsxs("div",{className:"flex items-center justify-between w-[68vw]",children:[w.jsx("div",{className:"text-white text-[.8vh] mr-4 right-0",children:n.format("LLL")}),w.jsxs("div",{className:"flex items-center left-0",children:[w.jsx(OG,{fontSize:"1vh",className:"text-white text-[1vh] mr-2"}),w.jsx(NG,{fontSize:"1vh",className:"text-white text-[1vh] mr-2"}),w.jsx(PG,{fontSize:"1vh",className:"text-white text-[1vh] transform rotate-90"})]})]})}),e]})]})})})})}const VV=()=>{const{t:e,gameconfig:t}=Jt(),{largueDispatch:n,ToggleLargue:r,onlyFrontRadar:i,toggleOnlyFront:o}=Ri(),{playerList:a}=MR(),{callList:l,PlayClick:u}=eh(),[c,d]=O.useState(!0),[h,p]=O.useState(!1),[v,g]=O.useState(),[y,M]=O.useState(),[_,x]=O.useState("");O.useEffect(function(){localStorage.getItem("timercount")?g(localStorage.getItem("timercount")):(localStorage.setItem("timercount","5"),g("5"));const W=localStorage.getItem("ifseevelocimeter");W!==null?M(W==="true"):(M(!0),localStorage.setItem("ifseevelocimeter",!0));const $=localStorage.getItem("callsign");$!==null?(x($),localStorage.setItem("callsign",$)):(x(""),localStorage.setItem("callsign",""))},[]);const b=()=>{u(),Be("SaveCallsign",{callsign:_},function(W){})},E=()=>{d(!c)},A=()=>{p(!h)},C=W=>{localStorage.setItem("timercount",W.target.value),g(W.target.value)},P=W=>{const $=W.target.checked;localStorage.setItem("ifseevelocimeter",$),M($)},R=W=>{const $=W.target.checked;localStorage.setItem("isusingmph",$)},N=a.reduce((W,$)=>{const{callsign:X}=$;return W[X]||(W[X]=[]),W[X].push($),W},{}),[F,z]=O.useState(c);O.useEffect(()=>{c&&z(c);const W=setTimeout(()=>{z(c)},300);return()=>clearTimeout(W)},[c]);const G=Qa({transform:c?"translateX(0%)":"translateX(94.6%)",config:Ja.gentle,position:c?"relative":"absolute",height:"80vh"}),K=Qa({transform:c?"translateX(0%)":"",config:Ja.gentle,position:c?"relative":"absolute",height:"80vh"});return w.jsxs(AR,{open:n,children:[w.jsxs("div",{id:"big_menu_map",className:"flex h-[97.5%] text-white",style:{zIndex:999},children:[w.jsxs("div",{className:"bg-gray-800 w-64 px-4 pt-4 pb-6 overflow-y-auto rounded-l-xl",children:[(t==null?void 0:t.logoURL)&&t.useLogo&&w.jsx("img",{src:t==null?void 0:t.logoURL,height:50,width:50,alt:"",srcSet:""}),w.jsx("h1",{className:"text-white text-lg font-bold mb-6 select-none justify-center text-center",children:e("DISPATCH_TITLE")}),w.jsx("nav",{children:w.jsx("ul",{children:w.jsxs("li",{id:"apend_card_calls",children:[l.map((W,$)=>w.jsx(kG,{call:W},$)),l.length<=0&&w.jsx("div",{className:"bg-gray-900 rounded-md p-4 text-center justify-center",children:e("NO_DISPATCH_CALLS")})]})})})]}),w.jsx("div",{className:"flex-1 bg-blue",id:"map_placement",children:w.jsx(GV,{})}),!F&&w.jsx("div",{className:" w-5"}),w.jsxs(mo.div,{style:F?G:K,className:`flex flex-row ${c?"":" right-[-0vw]"}`,children:[w.jsx("div",{id:"toggle_sidebar_2",className:`${c?"":"rounded-l-xl"} h-full bg-gray-800 p-2 flex items-center justify-center cursor-pointer`,onClick:E,children:w.jsx("i",{id:"class_icon_sidebar",className:`fa-solid ${c?"fa-angle-right":"fa-angle-left"}`})}),F&&w.jsx("div",{id:"players_sidebar",className:"bg-gray-800 w-80 px-2 pt-4 pb-6 overflow-y-auto rounded-r-xl ease-in-out duration-300",children:w.jsxs("center",{children:[w.jsx("nav",{children:w.jsx("ul",{children:w.jsx("li",{id:"apend_card_players",children:w.jsx("h1",{id:"sidebar_right_title",className:"select-none text-xl font-bold",children:e(h?"SETTINGS":"PLAYERS")})})})}),w.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[w.jsx("button",{onClick:A,type:"button",className:" select-none px-4 py-2 text-sm font-medium border rounded-l-lg focus:z-10 focus:ring-2 bg-gray-700 border-gray-600 text-white hover:text-white hover:bg-gray-600 focus:ring-blue-500 focus:text-white",children:e("PLAYERS")}),w.jsx("button",{onClick:A,type:"button",className:" select-none px-4 py-2 text-sm font-medium border rounded-r-md focus:z-10 focus:ring-2 bg-gray-700 border-gray-600 text-white hover:text-white hover:bg-gray-600 focus:ring-blue-500 focus:text-white",children:e("SETTINGS")})]}),w.jsxs("div",{className:"mt-4",children:[!h&&w.jsxs(w.Fragment,{children:[Object.entries(N).map(([W,$],X)=>w.jsx("ul",{id:"job_players",className:" mb-2 w-64 text-sm font-medium border rounded-lg bg-gray-700 border-gray-600 text-white",children:w.jsxs("div",{children:[w.jsxs("h3",{children:["#",W]}),w.jsx("hr",{}),$.map((J,V)=>w.jsx(dV,{player:J},V))]},W)},X)),Object.entries(N).length<=0&&w.jsx(w.Fragment,{children:w.jsx(OC,{})})]}),h&&w.jsxs("div",{id:"settings",className:"text-left",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("label",{htmlFor:"minutos-select",className:"mr-2",children:e("AUTO_REMOVE_MINUTES_EDIT")}),w.jsx("select",{onChange:C,value:v,id:"minutos-select",className:"border rounded-md p-2 text-white bg-gray-600",children:[1,2,3,4,5].map((W,$)=>{const X=($+1)*5,J=X<10?"0"+X:X;return w.jsx("option",{value:X,children:J},$)})})]}),w.jsx("br",{}),w.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[w.jsx("input",{id:"ifseevelocimeter",checked:y,onChange:P,type:"checkbox",className:"sr-only peer"}),w.jsx("div",{className:"w-11 h-6 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all border-gray-600 peer-checked:bg-blue-600"}),w.jsx("span",{className:"ml-3 text-sm font-medium text-gray-300",children:e("TOGGLE_RADAR")})]}),w.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[w.jsx("input",{id:"ifseevelocimeter",checked:i,onChange:o,type:"checkbox",className:"sr-only peer"}),w.jsx("div",{className:"w-11 h-6 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all border-gray-600 peer-checked:bg-blue-600"}),w.jsx("span",{className:"ml-3 text-sm font-medium text-gray-300",children:e("ONLY_FRONT_RADAR")})]}),w.jsx("br",{}),w.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[w.jsx("input",{id:"handleMPH",defaultChecked:localStorage.getItem("isusingmph")===!0||localStorage.getItem("isusingmph")==="true",onChange:R,type:"checkbox",className:"sr-only peer"}),w.jsx("div",{className:"w-11 h-6 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all border-gray-600 peer-checked:bg-blue-600"}),w.jsx("span",{className:"ml-3 text-sm font-medium text-gray-300",children:e("TOGGLE_USE_MPH")})]}),w.jsx("br",{}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"callsign",className:"block mb-2 text-sm font-medium text-white",children:e("SET_CALLSIGN")}),w.jsx("input",{type:"text",id:"callsign",defaultValue:_,onChange:W=>x(W.target.value),className:"block w-full p-2 border rounded-lg sm:text-xs bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"})]}),w.jsx("br",{}),w.jsx(nr,{variant:"contained",onClick:b,id:"callsign_save",children:e("SAVE_CALLSIGN")})]})]})]})})]})]}),w.jsx("div",{onClick:r,className:"bg-white h-[.45vh] rounded-[12px] z-[99999] relative top-[-3%] w-[17vw] ml-auto mr-auto cursor-pointer hover:bg-gray-500 transition-colors"})]})};function WV({currentPlayer:e}){const{t}=Jt(),[n,r]=O.useState(!1),[i,o]=O.useState([]);O.useEffect(()=>{e&&(r(!0),a())},[e]);const a=()=>{Be("getPlayerBills",{identifier:e}).then(u=>{o(u)}).catch(u=>{console.error("Error:",u)}).finally(()=>{r(!1)})},l=()=>w.jsx("div",{className:"bg-gray-800 p-4 pt-4 pb-4 rounded-md mb-4 flex items-center",children:w.jsxs("table",{className:"w-full mb-4",children:[w.jsx("thead",{className:"sticky top-0 bg-gray-700 rounded-md",children:w.jsxs("tr",{className:"bg-gray-700 rounded-md",children:[w.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("AUTHOR_NAME")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("TIMESTAMP")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("STATUS")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("ITEM")})]})}),w.jsx("tbody",{children:i.map((u,c)=>w.jsxs("tr",{className:"border-white border-b pt-5",children:[w.jsx("td",{className:"px-2",children:u==null?void 0:u.author_name}),w.jsx("td",{className:"px-2",children:he(u==null?void 0:u.timestamp).format("YYYY/MM/DD")}),w.jsx("td",{className:"px-2",children:u.status}),w.jsx("td",{className:"px-2",children:u.item})]},c))})]})});return n?w.jsxs("div",{role:"status",children:[w.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 animate-spin text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),w.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),w.jsx("span",{className:"sr-only",children:"Loading..."})]}):w.jsxs(w.Fragment,{children:[i.length>0&&l(),i.length<=0&&w.jsx("div",{className:"p-4 mb-4 text-sm rounded-lg bg-gray-800 text-red-400",role:"alert",children:t("UNKNOWN")})]})}var TR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fA=Ge.createContext&&Ge.createContext(TR),Ya=globalThis&&globalThis.__assign||function(){return Ya=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ya.apply(this,arguments)},$V=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function PR(e){return e&&e.map(function(t,n){return Ge.createElement(t.tag,Ya({key:n},t.attr),PR(t.child))})}function CR(e){return function(t){return Ge.createElement(YV,Ya({attr:Ya({},e.attr)},t),PR(e.child))}}function YV(e){var t=function(n){var r=e.attr,i=e.size,o=e.title,a=$V(e,["attr","size","title"]),l=i||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),Ge.createElement("svg",Ya({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:Ya(Ya({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&Ge.createElement("title",null,o),e.children)};return fA!==void 0?Ge.createElement(fA.Consumer,null,function(n){return t(n)}):t(TR)}function ZV(e){return CR({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function XV(e){return CR({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}var LR={};function bm(){return null}bm.isRequired=bm;function mt(){return bm}var qV={and:mt,between:mt,booleanSome:mt,childrenHavePropXorChildren:mt,childrenOf:mt,childrenOfType:mt,childrenSequenceOf:mt,componentWithName:mt,disallowedIf:mt,elementType:mt,empty:mt,explicitNull:mt,forbidExtraProps:Object,integer:mt,keysOf:mt,mutuallyExclusiveProps:mt,mutuallyExclusiveTrueProps:mt,nChildren:mt,nonNegativeInteger:bm,nonNegativeNumber:mt,numericString:mt,object:mt,or:mt,predicate:mt,range:mt,ref:mt,requiredBy:mt,restrictedProp:mt,sequenceOf:mt,shape:mt,stringEndsWith:mt,stringStartsWith:mt,uniqueArray:mt,uniqueArrayOf:mt,valuesOf:mt,withShape:mt},KV=qV,JV=!!(typeof window<"u"&&window.document&&window.document.createElement);function QV(){if(!JV||!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){function r(){e=!0}return r}()}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch{}return e}var S0=void 0;function eW(){return S0===void 0&&(S0=QV()),S0}function tW(e){if(e)return eW()?e:!!e.capture}function nW(e){if(!e)return 0;if(e===!0)return 100;var t=e.capture<<0,n=e.passive<<1,r=e.once<<2;return t+n+r}function dA(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function Hg(e){this.target=e,this.events={}}Hg.prototype.getEventHandlers=function(){function e(t,n){var r=String(t)+" "+String(nW(n));return this.events[r]||(this.events[r]={handlers:[],handleEvent:void 0},this.events[r].nextHandlers=this.events[r].handlers),this.events[r]}return e}();Hg.prototype.handleEvent=function(){function e(t,n,r){var i=this.getEventHandlers(t,n);i.handlers=i.nextHandlers,i.handlers.forEach(function(o){o&&o(r)})}return e}();Hg.prototype.add=function(){function e(t,n,r){var i=this,o=this.getEventHandlers(t,r);dA(o),o.nextHandlers.length===0&&(o.handleEvent=this.handleEvent.bind(this,t,r),this.target.addEventListener(t,o.handleEvent,r)),o.nextHandlers.push(n);var a=!0,l=function(){function u(){if(a){a=!1,dA(o);var c=o.nextHandlers.indexOf(n);o.nextHandlers.splice(c,1),o.nextHandlers.length===0&&(i.target&&i.target.removeEventListener(t,o.handleEvent,r),o.handleEvent=void 0)}}return u}();return l}return e}();var E0="__consolidated_events_handlers__";function rW(e,t,n,r){e[E0]||(e[E0]=new Hg(e));var i=tW(r);return e[E0].add(t,n,i)}const iW=Object.freeze(Object.defineProperty({__proto__:null,addEventListener:rW},Symbol.toStringTag,{value:"Module"})),oW=t1(iW);var hA=Object.prototype.toString,RR=function(t){var n=hA.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&hA.call(t.callee)==="[object Function]"),r},M0,pA;function aW(){if(pA)return M0;pA=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=RR,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(p){var v=p.constructor;return v&&v.prototype===p},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if(typeof window>"u")return!1;for(var p in window)try{if(!c["$"+p]&&t.call(window,p)&&window[p]!==null&&typeof window[p]=="object")try{u(window[p])}catch{return!0}}catch{return!0}return!1}(),h=function(p){if(typeof window>"u"||!d)return u(p);try{return u(p)}catch{return!1}};e=function(v){var g=v!==null&&typeof v=="object",y=n.call(v)==="[object Function]",M=r(v),_=g&&n.call(v)==="[object String]",x=[];if(!g&&!y&&!M)throw new TypeError("Object.keys called on a non-object");var b=a&&y;if(_&&v.length>0&&!t.call(v,0))for(var E=0;E<v.length;++E)x.push(String(E));if(M&&v.length>0)for(var A=0;A<v.length;++A)x.push(String(A));else for(var C in v)!(b&&C==="prototype")&&t.call(v,C)&&x.push(String(C));if(o)for(var P=h(v),R=0;R<l.length;++R)!(P&&l[R]==="constructor")&&t.call(v,l[R])&&x.push(l[R]);return x}}return M0=e,M0}var sW=Array.prototype.slice,lW=RR,mA=Object.keys,Cp=mA?function(t){return mA(t)}:aW(),vA=Object.keys;Cp.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return lW(r)?vA(sW.call(r)):vA(r)})}else Object.keys=Cp;return Object.keys||Cp};var uW=Cp,cW=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},gA=typeof Symbol<"u"&&Symbol,fW=cW,dW=function(){return typeof gA!="function"||typeof Symbol!="function"||typeof gA("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:fW()},yA={foo:{}},hW=Object,pW=function(){return{__proto__:yA}.foo===yA.foo&&!({__proto__:null}instanceof hW)},mW="Function.prototype.bind called on incompatible ",vW=Object.prototype.toString,gW=Math.max,yW="[object Function]",_A=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},_W=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},xW=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},wW=function(t){var n=this;if(typeof n!="function"||vW.apply(n)!==yW)throw new TypeError(mW+n);for(var r=_W(arguments,1),i,o=function(){if(this instanceof i){var d=n.apply(this,_A(r,arguments));return Object(d)===d?d:this}return n.apply(t,_A(r,arguments))},a=gW(0,n.length-r.length),l=[],u=0;u<a;u++)l[u]="$"+u;if(i=Function("binder","return function ("+xW(l,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var c=function(){};c.prototype=n.prototype,i.prototype=new c,c.prototype=null}return i},bW=wW,xb=Function.prototype.bind||bW,SW=Function.prototype.call,EW=Object.prototype.hasOwnProperty,MW=xb,AW=MW.call(SW,EW),ut,Tu=SyntaxError,OR=Function,fu=TypeError,A0=function(e){try{return OR('"use strict"; return ('+e+").constructor;")()}catch{}},Is=Object.getOwnPropertyDescriptor;if(Is)try{Is({},"")}catch{Is=null}var T0=function(){throw new fu},TW=Is?function(){try{return arguments.callee,T0}catch{try{return Is(arguments,"callee").get}catch{return T0}}}():T0,Tl=dW(),PW=pW(),In=Object.getPrototypeOf||(PW?function(e){return e.__proto__}:null),Il={},CW=typeof Uint8Array>"u"||!In?ut:In(Uint8Array),Ds={"%AggregateError%":typeof AggregateError>"u"?ut:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ut:ArrayBuffer,"%ArrayIteratorPrototype%":Tl&&In?In([][Symbol.iterator]()):ut,"%AsyncFromSyncIteratorPrototype%":ut,"%AsyncFunction%":Il,"%AsyncGenerator%":Il,"%AsyncGeneratorFunction%":Il,"%AsyncIteratorPrototype%":Il,"%Atomics%":typeof Atomics>"u"?ut:Atomics,"%BigInt%":typeof BigInt>"u"?ut:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ut:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ut:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ut:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ut:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ut:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ut:FinalizationRegistry,"%Function%":OR,"%GeneratorFunction%":Il,"%Int8Array%":typeof Int8Array>"u"?ut:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ut:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ut:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Tl&&In?In(In([][Symbol.iterator]())):ut,"%JSON%":typeof JSON=="object"?JSON:ut,"%Map%":typeof Map>"u"?ut:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Tl||!In?ut:In(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ut:Promise,"%Proxy%":typeof Proxy>"u"?ut:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ut:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ut:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Tl||!In?ut:In(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ut:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Tl&&In?In(""[Symbol.iterator]()):ut,"%Symbol%":Tl?Symbol:ut,"%SyntaxError%":Tu,"%ThrowTypeError%":TW,"%TypedArray%":CW,"%TypeError%":fu,"%Uint8Array%":typeof Uint8Array>"u"?ut:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ut:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ut:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ut:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ut:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ut:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ut:WeakSet};if(In)try{null.error}catch(e){var LW=In(In(e));Ds["%Error.prototype%"]=LW}var RW=function e(t){var n;if(t==="%AsyncFunction%")n=A0("async function () {}");else if(t==="%GeneratorFunction%")n=A0("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=A0("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&In&&(n=In(i.prototype))}return Ds[t]=n,n},xA={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},oh=xb,Sm=AW,OW=oh.call(Function.call,Array.prototype.concat),NW=oh.call(Function.apply,Array.prototype.splice),wA=oh.call(Function.call,String.prototype.replace),Em=oh.call(Function.call,String.prototype.slice),kW=oh.call(Function.call,RegExp.prototype.exec),IW=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,DW=/\\(\\)?/g,FW=function(t){var n=Em(t,0,1),r=Em(t,-1);if(n==="%"&&r!=="%")throw new Tu("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Tu("invalid intrinsic syntax, expected opening `%`");var i=[];return wA(t,IW,function(o,a,l,u){i[i.length]=l?wA(u,DW,"$1"):a||o}),i},BW=function(t,n){var r=t,i;if(Sm(xA,r)&&(i=xA[r],r="%"+i[0]+"%"),Sm(Ds,r)){var o=Ds[r];if(o===Il&&(o=RW(r)),typeof o>"u"&&!n)throw new fu("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Tu("intrinsic "+t+" does not exist!")},ol=function(t,n){if(typeof t!="string"||t.length===0)throw new fu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new fu('"allowMissing" argument must be a boolean');if(kW(/^%?[^%]*%?$/,t)===null)throw new Tu("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=FW(t),i=r.length>0?r[0]:"",o=BW("%"+i+"%",n),a=o.name,l=o.value,u=!1,c=o.alias;c&&(i=c[0],NW(r,OW([0,1],c)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],v=Em(p,0,1),g=Em(p,-1);if((v==='"'||v==="'"||v==="`"||g==='"'||g==="'"||g==="`")&&v!==g)throw new Tu("property names with quotes must have matching quotes");if((p==="constructor"||!h)&&(u=!0),i+="."+p,a="%"+i+"%",Sm(Ds,a))l=Ds[a];else if(l!=null){if(!(p in l)){if(!n)throw new fu("base intrinsic for "+t+" exists, but the property is not available.");return}if(Is&&d+1>=r.length){var y=Is(l,p);h=!!y,h&&"get"in y&&!("originalValue"in y.get)?l=y.get:l=l[p]}else h=Sm(l,p),l=l[p];h&&!u&&(Ds[a]=l)}}return l},zW=ol,px=zW("%Object.defineProperty%",!0),mx=function(){if(px)try{return px({},"a",{value:1}),!0}catch{return!1}return!1};mx.hasArrayLengthDefineBug=function(){if(!mx())return null;try{return px([],"length",{value:1}).length!==1}catch{return!0}};var wb=mx,UW=ol,Lp=UW("%Object.getOwnPropertyDescriptor%",!0);if(Lp)try{Lp([],"length")}catch{Lp=null}var NR=Lp,jW=wb(),bb=ol,gf=jW&&bb("%Object.defineProperty%",!0);if(gf)try{gf({},"a",{value:1})}catch{gf=!1}var HW=bb("%SyntaxError%"),Pl=bb("%TypeError%"),bA=NR,kR=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Pl("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Pl("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Pl("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Pl("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Pl("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Pl("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,u=!!bA&&bA(t,n);if(gf)gf(t,n,{configurable:a===null&&u?u.configurable:!a,enumerable:i===null&&u?u.enumerable:!i,value:r,writable:o===null&&u?u.writable:!o});else if(l||!i&&!o&&!a)t[n]=r;else throw new HW("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},GW=uW,VW=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",WW=Object.prototype.toString,$W=Array.prototype.concat,SA=kR,YW=function(e){return typeof e=="function"&&WW.call(e)==="[object Function]"},IR=wb(),ZW=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!YW(r)||!r())return}IR?SA(e,t,n,!0):SA(e,t,n)},DR=function(e,t){var n=arguments.length>2?arguments[2]:{},r=GW(t);VW&&(r=$W.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)ZW(e,r[i],t[r[i]],n[r[i]])};DR.supportsDescriptors=!!IR;var Gg=DR,FR={exports:{}},BR=ol,EA=kR,XW=wb(),MA=NR,AA=BR("%TypeError%"),qW=BR("%Math.floor%"),KW=function(t,n){if(typeof t!="function")throw new AA("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||qW(n)!==n)throw new AA("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&MA){var a=MA(t,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!r)&&(XW?EA(t,"length",n,!0,!0):EA(t,"length",n)),t};(function(e){var t=xb,n=ol,r=KW,i=n("%TypeError%"),o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),l=n("%Reflect.apply%",!0)||t.call(a,o),u=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}e.exports=function(p){if(typeof p!="function")throw new i("a function is required");var v=l(t,a,arguments);return r(v,1+c(0,p.length-(arguments.length-1)),!0)};var d=function(){return l(t,o,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d})(FR);var zR=FR.exports,JW=ol,QW=JW("%TypeError%"),e7=function(t,n){if(t==null)throw new QW(n||"Cannot call method on "+t);return t},t7=e7,UR=ol,jR=zR,n7=jR(UR("String.prototype.indexOf")),r7=function(t,n){var r=UR(t,!!n);return typeof r=="function"&&n7(t,".prototype.")>-1?jR(r):r},i7=t7,HR=r7,o7=HR("Object.prototype.propertyIsEnumerable"),a7=HR("Array.prototype.push"),GR=function(t){var n=i7(t),r=[];for(var i in n)o7(n,i)&&a7(r,n[i]);return r},s7=GR,VR=function(){return typeof Object.values=="function"?Object.values:s7},l7=VR,u7=Gg,c7=function(){var t=l7();return u7(Object,{values:t},{values:function(){return Object.values!==t}}),t},f7=Gg,d7=zR,h7=GR,WR=VR,p7=c7,$R=d7(WR(),Object);f7($R,{getPolyfill:WR,implementation:h7,shim:p7});var m7=$R,YR=function(t){if(arguments.length<1)throw new TypeError("1 argument is required");if(typeof t!="object")throw new TypeError("Argument 1 (other) to Node.contains must be an instance of Node");var n=t;do{if(this===n)return!0;n&&(n=n.parentNode)}while(n);return!1},v7=YR,ZR=function(){if(typeof document<"u"){if(document.contains)return document.contains;if(document.body&&document.body.contains)try{if(typeof document.body.contains.call(document,"")=="boolean")return document.body.contains}catch{}}return v7},P0,TA;function g7(){if(TA)return P0;TA=1;var e=Gg,t=ZR;return P0=function(){var r=t();return typeof document<"u"&&(e(document,{contains:r},{contains:function(){return document.contains!==r}}),typeof Element<"u"&&e(Element.prototype,{contains:r},{contains:function(){return Element.prototype.contains!==r}})),r},P0}var y7=Gg,_7=YR,XR=ZR,x7=XR(),w7=g7(),qR=function(t,n){return x7.apply(t,[n])};y7(qR,{getPolyfill:XR,implementation:_7,shim:w7});var b7=qR;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function E(A,C){for(var P=0;P<C.length;P++){var R=C[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(A,R.key,R)}}return function(A,C,P){return C&&E(A.prototype,C),P&&E(A,P),A}}(),n=O,r=p(n),i=Bt,o=p(i),a=KV,l=oW,u=m7,c=p(u),d=b7,h=p(d);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function g(E,A){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:E}function y(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}var M={BLOCK:"block",FLEX:"flex",INLINE:"inline",INLINE_BLOCK:"inline-block",CONTENTS:"contents"},_=(0,a.forbidExtraProps)({children:o.default.node.isRequired,onOutsideClick:o.default.func.isRequired,disabled:o.default.bool,useCapture:o.default.bool,display:o.default.oneOf((0,c.default)(M))}),x={disabled:!1,useCapture:!0,display:M.BLOCK},b=function(E){y(A,E);function A(){var C;v(this,A);for(var P=arguments.length,R=Array(P),N=0;N<P;N++)R[N]=arguments[N];var F=g(this,(C=A.__proto__||Object.getPrototypeOf(A)).call.apply(C,[this].concat(R)));return F.onMouseDown=F.onMouseDown.bind(F),F.onMouseUp=F.onMouseUp.bind(F),F.setChildNodeRef=F.setChildNodeRef.bind(F),F}return t(A,[{key:"componentDidMount",value:function(){function C(){var P=this.props,R=P.disabled,N=P.useCapture;R||this.addMouseDownEventListener(N)}return C}()},{key:"componentDidUpdate",value:function(){function C(P){var R=P.disabled,N=this.props,F=N.disabled,z=N.useCapture;R!==F&&(F?this.removeEventListeners():this.addMouseDownEventListener(z))}return C}()},{key:"componentWillUnmount",value:function(){function C(){this.removeEventListeners()}return C}()},{key:"onMouseDown",value:function(){function C(P){var R=this.props.useCapture,N=this.childNode&&(0,h.default)(this.childNode,P.target);N||(this.removeMouseUp&&(this.removeMouseUp(),this.removeMouseUp=null),this.removeMouseUp=(0,l.addEventListener)(document,"mouseup",this.onMouseUp,{capture:R}))}return C}()},{key:"onMouseUp",value:function(){function C(P){var R=this.props.onOutsideClick,N=this.childNode&&(0,h.default)(this.childNode,P.target);this.removeMouseUp&&(this.removeMouseUp(),this.removeMouseUp=null),N||R(P)}return C}()},{key:"setChildNodeRef",value:function(){function C(P){this.childNode=P}return C}()},{key:"addMouseDownEventListener",value:function(){function C(P){this.removeMouseDown=(0,l.addEventListener)(document,"mousedown",this.onMouseDown,{capture:P})}return C}()},{key:"removeEventListeners",value:function(){function C(){this.removeMouseDown&&this.removeMouseDown(),this.removeMouseUp&&this.removeMouseUp()}return C}()},{key:"render",value:function(){function C(){var P=this.props,R=P.children,N=P.display;return r.default.createElement("div",{ref:this.setChildNodeRef,style:N!==M.BLOCK&&(0,c.default)(M).includes(N)?{display:N}:void 0},R)}return C}()}]),A}(r.default.Component);e.default=b,b.propTypes=_,b.defaultProps=x})(LR);var S7=LR;const E7=Ud(S7),ah=({open:e,handleCloseModal:t,children:n,title:r})=>{const[i,o]=O.useState(e),a=Qa({opacity:i?1:0,transform:i?"translateY(0%)":"translateY(100%)",config:Ja.stiff}),l=Qa({opacity:i?1:0,config:Ja.stiff}),u=()=>{o(!1),setTimeout(()=>{t()},500)};return O.useEffect(()=>{o(e)},[e]),e?w.jsx(w.Fragment,{children:w.jsx(mo.div,{style:l,id:"viewDataModal",tabindex:"-1",className:"absolute z-50 top-[30vh] left-[19vw] h-screen w-screen transform -translate-x-1/2 -translate-y-1/2 bg-black/50 justify-center items-center md:inset-0 ",children:w.jsx("div",{className:"p-4 w-full max-w-2xl h-[60vh] md:h-auto absolute top-[60vh] left-[65vw] transform -translate-x-1/2 -translate-y-1/2 min-w-[50%] min-h-[20%]",children:w.jsxs(mo.div,{style:a,children:[w.jsx(mo.div,{style:a,className:"flex justify-center items-center mb-2",children:w.jsx("div",{onClick:u,className:"bg-white z-[51] h-[.4vh] rounded-[12px] relative w-[2vw] ml-auto mr-auto cursor-pointer hover:bg-gray-500 transition-colors"})}),w.jsx(E7,{onOutsideClick:u,children:w.jsx(mo.div,{style:a,children:w.jsxs("div",{className:"overflow-auto relative p-4 rounded-lg shadow bg-gray-800 sm:p-5 h-[65vh] ",children:[w.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:r}),n]})})})]})})})}):null},Cl=e=>{var t=/^(http|https):\/\/.*\.(jpeg|jpg|gif|png|bmp)$/i;return t.test(e)},ep=e=>/\.(mp4|avi|mov|wmv)$/i.test(e),KR=({objectdata:e,open:t,handleCloseModal:n})=>{e||(e=null);try{e=JSON.parse(e)}catch{e=null}let r=e==null?void 0:e.data,i=(e==null?void 0:e.title)??(e==null?void 0:e.message);if((!r||r.length===0)&&(r=null),typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return w.jsx(w.Fragment,{children:w.jsx(ah,{open:t,handleCloseModal:n,title:i,children:w.jsx("div",{className:" mx-auto h-[45vh] overflow-auto bg-gray-900/70 p-4 rounded-xl text-white",children:r&&w.jsx(w.Fragment,{children:r.map((o,a)=>o.type==="list"?w.jsx(M7,{title:o.title,items:o.items},a):w.jsx(JR,{listItem:o},a))})})})})},M7=({title:e,items:t})=>{const[n,r]=O.useState(!1),[i,o]=O.useState(!1),[a,l]=O.useState(0),u=Qa({height:n?a:0,opacity:n?1:0,transform:n?"scaleY(1)":"scaleY(0)",config:Ja.stiff}),c=()=>{r(!n),o(!n)},d=O.useRef(null),h=O.useRef(null);O.useEffect(()=>{i&&d.current&&d.current.focus()},[i]),O.useEffect(()=>{h.current&&l(h.current.scrollHeight)},[n]);const p=()=>w.jsx(mo.ul,{className:"pl-4",style:u,ref:h,children:t.map((v,g)=>w.jsx(JR,{listItem:v},g))});return w.jsxs("div",{className:"border border-gray-700 rounded-md py-1 px-2 m-2",children:[w.jsxs(mo.div,{className:"flex items-center text-center align-middle justify-between cursor-pointer mt-2",onClick:c,ref:d,tabIndex:0,children:[w.jsx("h2",{className:"text-lg font-semibold",children:e}),n?w.jsx(XV,{}):w.jsx(ZV,{})]}),p()]})},JR=({listItem:e})=>w.jsxs("li",{className:"text-white bg-gray-600 p-2 m-2 rounded-lg justify-between flex items-center",children:[e.key&&w.jsxs(w.Fragment,{children:[Cl(e.value)&&w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("span",{className:"max-w-[30%] mb-2 font-bold",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,":"]}),w.jsx("img",{src:e.value,alt:"List",className:"max-w-[50%] rounded-lg"})]}),!Cl(e.value)&&ep(e.value)&&w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("span",{className:"max-w-[30%] mb-2 font-bold",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,":"]}),w.jsx("video",{src:e.value,alt:"Video",className:"max-w-full",controls:!0})]}),!Cl(e.value)&&!ep(e.value)&&w.jsxs("span",{className:"max-w-[75%]",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,": ",e.value]})]}),!e.key&&w.jsxs(w.Fragment,{children:[Cl(e)&&w.jsx("img",{src:e,alt:"Imate-url",className:"max-w-[50%]"}),!Cl(e)&&ep(e)&&w.jsx("video",{src:e,alt:"Video",className:"max-w-full",controls:!0}),!Cl(e)&&!ep(e)&&w.jsx("span",{className:"max-w-[75%]",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:e})]})]});function A7({id:e,fetchPlayerInfractions:t,data:n}){const{t:r}=Jt(),{setLoading:i}=Ri(),[o,a]=O.useState(!1),[l,u]=O.useState(!1),c=n==null?void 0:n.dataobj,d=()=>{i(!0),!l&&(u(!0),Be("deletePlayerHistoryByID",{id:e}).then(v=>{t(),i(!1),u(!1),a(!0),setTimeout(()=>{a(!1)},50)}).catch(v=>{i(!1),u(!1)}))},h=()=>{a(!0)},p=()=>{a(!1)};return w.jsxs(w.Fragment,{children:[w.jsxs(Dg,{title:r("OPTIONS"),keepopen:!o,children:[w.jsxs(qo,{onClick:h,disableRipple:!0,children:[w.jsx(dR,{}),r("MORE_DETAILS")]}),w.jsx(um,{sx:{my:.5}}),w.jsxs(qo,{onClick:d,disableRipple:!0,children:[w.jsx(ob,{}),r("DELETE")]})]}),w.jsx(KR,{open:o,handleCloseModal:p,objectdata:c})]})}function T7({currentPlayer:e}){const{t}=Jt(),[n,r]=O.useState(!1),[i,o]=O.useState([]);O.useEffect(()=>{e&&(r(!0),a())},[e]);const a=()=>{Be("getPlayerDataByType",{identifier:e,type:"infraction"}).then(u=>{const c=u.mdtData;o(c)}).catch(u=>{console.error("Error:",u)}).finally(()=>{r(!1)})},l=()=>w.jsx("div",{className:"bg-gray-800 p-4 pt-4 pb-4 rounded-md mb-4 flex items-center",children:w.jsxs("table",{className:"w-full mb-4",children:[w.jsx("thead",{className:"sticky top-0 bg-gray-700 rounded-md",children:w.jsxs("tr",{className:"bg-gray-700 rounded-md",children:[w.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("ID")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("DATE")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("BY")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("TITLE")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:t("ACTIONS")})]})}),w.jsx("tbody",{children:i.map((u,c)=>w.jsxs("tr",{className:"border-white border-b pt-5",children:[w.jsx("td",{className:"px-2",children:u==null?void 0:u.id}),w.jsx("td",{className:"px-2",children:he(u==null?void 0:u.createdAt).format("YYYY/MM/DD")}),w.jsx("td",{className:"px-2",children:JSON.parse(u==null?void 0:u.dataobj).by}),w.jsx("td",{className:"px-2",children:JSON.parse(u==null?void 0:u.dataobj).message}),w.jsx("td",{className:"px-2",children:w.jsx(A7,{data:u,id:u==null?void 0:u.id,fetchPlayerInfractions:a})})]},c))})]})});return n?w.jsxs("div",{role:"status",children:[w.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 animate-spin text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),w.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),w.jsx("span",{className:"sr-only",children:"Loading..."})]}):w.jsxs(w.Fragment,{children:[i.length>0&&l(),i.length<=0&&w.jsx("section",{className:"bg-gray-900",children:w.jsx("div",{className:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16 lg:px-6",children:w.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[w.jsx("h1",{className:"mb-4 text-7xl tracking-tight font-extrabold lg:text-9xl text-primary-500",children:"404"}),w.jsx("p",{className:"mb-4 text-3xl tracking-tight font-bold  md:text-4xl text-white",children:t("SOMETHING_IS_MISSING")}),w.jsx("p",{className:"mb-4 text-lg font-light  text-gray-400",children:t("CANT_SEARCH_TEXT")})]})})})]})}function Ll(e){var t=/^(http|https):\/\/.*\.(jpeg|jpg|gif|png|bmp)$/i;return t.test(e)}const tp=e=>/\.(mp4|avi|mov|wmv)$/i.test(e),QR=({open:e,handleCloseModal:t,onSubmited:n,identifier:r,isvehicle:i,plate:o})=>{const{setLoading:a}=Ri(),{t:l}=Jt(),[u,c]=O.useState(""),[d,h]=O.useState(""),[p,v]=O.useState([]),[g,y]=O.useState(!1),[M,_]=O.useState(""),x=z=>{c(z.target.value)},b=z=>{h(z.target.value)},E=()=>{if(u.length>40)return ct(l("TITLE_MUST_BE_LESS_THAN_40"),{type:"error"});u&&d&&(v([...p,{key:u,value:d}]),c(""),h(""))},A=()=>{v([...p,{type:"list",title:l("ENTER_TITLE"),items:[]}])},C=z=>{const G=[...p];G[z].items.push(d),v(G),c(""),h("")},P=(z,G)=>{if(g)return;const K=[...p];K.splice(z,1),v(K),y(!1)},R=(z,G)=>{if(g)return;const K=[...p];K[z].items.splice(G,1),v(K),y(!1)},N=(z,G)=>{const K=[...p];K[G].title=z.target.value,v(K)},F=()=>{a(!0);const z=JSON.stringify(p),G=JSON.parse(z);let K=0,W=!1;const $=X=>{Array.isArray(X)?X.length===0?W=!0:X.forEach(J=>{$(J)}):typeof X=="object"?Object.keys(X).forEach(J=>{$(X[J])}):typeof X=="string"&&(K+=X.length)};if($(G),z.length>3e4)return a(!1),ct(l("DATA_MUST_BE_LESS_THAN_20000"),{type:"error"});if(M.length>40)return a(!1),ct(l("TITLE_MUST_BE_LESS_THAN_40"),{type:"error"});if(M.length<3)return a(!1),ct(l("TITLE_CANT_HAVE_LESS_THAN_3"),{type:"error"});if(z.length<10)return a(!1),ct(l("DATA_CANT_HAVE_LESS_THAN_3"),{type:"error"});if(W)return a(!1),ct(l("CANT_HAVE_EMPTY_LIST"),{type:"error"});if(JSON.stringify({title:M,data:p}),i){if(!o)return ct(l("CANT_GET_VEH_PLATE"),{type:"error"});Be("createVehicleHistory",{plate:o,datatype:"infraction",message:M,data:JSON.stringify(p)}).then(()=>{n(),t(),a(!1)}).catch(X=>{console.log(X),ct(l("ERROR_CREATING_DATA"),{type:"error"}),t(),a(!1)})}else{if(!r)return a(!1),ct(l("CANT_GET_PLAYER_IDENTIFIER"),{type:"error"});Be("createPlayerHistory",{identifier:r,datatype:"infraction",title:M,data:JSON.stringify(p)}).then(()=>{n(),t(),a(!1)}).catch(X=>{console.log(X),ct(l("ERROR_CREATING_DATA"),{type:"error"}),t(),a(!1)})}};return w.jsx(w.Fragment,{children:w.jsxs(ah,{open:e,handleCloseModal:t,title:l("CREATING_DATA"),children:[w.jsx("input",{onChange:z=>_(z.target.value),value:M,type:"text",id:"title",className:"border  text-sm rounded-lg  block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",placeholder:"Title of the data",required:!0}),w.jsx("div",{className:" mx-auto h-[38vh] mt-2 overflow-auto bg-gray-900/70 p-4 rounded-xl text-white",children:w.jsxs("ul",{className:" p-4 rounded-lg mt-2",children:[p.map((z,G)=>z.type==="list"?w.jsxs("li",{className:"mb-2 bg-gray-700 p-4 rounded-xl",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("input",{type:"text",className:"w-1/2 px-4 py-2 mr-2 bg-gray-800 text-white rounded",placeholder:l("ENTER_TITLE"),value:z.title,onChange:K=>N(K,G)}),w.jsx("button",{className:"px-2 py-1 bg-red-500 text-white rounded",onClick:()=>P(G),children:l("DELETE")})]}),w.jsxs("strong",{className:"text-white",children:[z.title,":"]}),w.jsx("ul",{children:z.items.map((K,W)=>w.jsx(PA,{listItem:K,index:G,listIndex:W,handleRemoveItem:R,setInWait:y,waiting:g},W))}),w.jsxs("div",{className:" flex flex-row",children:[w.jsx("input",{type:"text",className:"w-1/2 px-4 py-2 mr-2 bg-gray-800 text-white rounded",placeholder:l("ENTER_VALUE"),value:d,onChange:b}),w.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded",onClick:()=>C(G),children:l("ADD_ITEM")})]})]},G):w.jsx(PA,{listItem:z,index:G,handleRemoveItem:P,setInWait:y,waiting:g},G)),w.jsxs("div",{className:"text-white bg-gray-700 p-4 rounded-lg",children:[w.jsxs("div",{className:"flex mb-4",children:[w.jsx("input",{type:"text",className:"w-1/2 px-4 py-2 mr-2 bg-gray-800 text-white rounded",placeholder:l("ENTER_TITLE"),value:u,onChange:x}),w.jsx("input",{type:"text",className:"w-1/2 px-4 py-2 ml-2 bg-gray-800 text-white rounded",placeholder:l("ENTER_VALUE"),value:d,onChange:b})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded mr-2",onClick:E,children:l("ADD_ITEM")}),w.jsx("button",{className:"px-4 py-2 bg-green-500 text-white rounded",onClick:A,children:l("ADD_LIST")})]})]})]})}),w.jsx("button",{className:"mt-4 px-4 py-2 w-full bg-blue-500 text-white rounded",onClick:F,children:l("SAVE")})]})})},PA=({listItem:e,index:t,listIndex:n,handleRemoveItem:r,setInWait:i,waiting:o})=>{const{t:a}=Jt(),[l,u]=O.useState(!0),c=dG(l,{from:{opacity:0,transform:"scale(0)"},enter:{opacity:1,transform:"scale(1)"},leave:{opacity:0,transform:"scale(0)"},config:{tension:200,friction:20}}),d=()=>{o||(u(!1),i(!0),setTimeout(()=>{r(t,n)},500))};return O.useEffect(()=>{const h=setInterval(()=>{o||u(!0)},2e3);return()=>clearInterval(h)},[o]),c((h,p)=>p?w.jsxs(mo.li,{style:{...h},className:"text-white bg-gray-600 p-2 m-2 rounded-lg justify-between flex items-center",children:[e.key&&w.jsxs(w.Fragment,{children:[Ll(e.value)&&w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("span",{className:"max-w-[30%] mb-2 font-bold",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,":"]}),w.jsx("img",{src:e.value,alt:"item_list",className:"max-w-[50%] rounded-lg"})]}),!Ll(e.value)&&tp(e.value)&&w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("span",{className:"max-w-[30%] mb-2 font-bold",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,":"]}),w.jsx("video",{src:e.value,alt:"Video",className:"max-w-full",controls:!0})]}),!Ll(e.value)&&!tp(e.value)&&w.jsxs("span",{className:"max-w-[75%]",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:[e.key,": ",e.value]})]}),!e.key&&w.jsxs(w.Fragment,{children:[Ll(e)&&w.jsx("img",{src:e,alt:"image_url",className:"max-w-[50%]"}),!Ll(e)&&tp(e)&&w.jsx("video",{src:e,alt:"Video",className:"max-w-full",controls:!0}),!Ll(e)&&!tp(e)&&w.jsx("span",{className:"max-w-[75%]",style:{overflowWrap:"break-word",wordWrap:"break-word",hyphens:"auto"},children:e})]}),!o&&w.jsx("button",{className:"px-2 py-1 ml-2 bg-red-500 text-white rounded",onClick:d,children:a("DELETE")}),o&&w.jsx(P7,{})]}):null)},P7=()=>w.jsxs(w.Fragment,{children:[w.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 animate-spin text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),w.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),w.jsx("span",{className:"sr-only",children:"Loading..."})]});function C7({peapleID:e}){var $,X,J,V,I,k,q,H,ue,Q,ne,re,ve,xe,ge;const{t}=Jt(),{mdtBills:n}=Ri(),[r,i]=O.useState({}),[o,a]=O.useState(!1),[l,u]=O.useState(!1),c=()=>u(!0),d=()=>u(!1),[h,p]=O.useState(""),[v,g]=O.useState("Default Image URL"),[y,M]=O.useState("Default Paragraph Text"),_=ae=>{g(ae.target.value)},x=ae=>{M(ae.target.value)},b=()=>{if(y.length>2400){p(t("TEXT_TOO_LONG")),setTimeout(()=>{p("")},2500);return}if(!e){p(t("GETTING_PLAYER_ERROR")),setTimeout(()=>{p("")},2500);return}Be("editPlayerData",{identifier:e,key:"notes",value:y,datatype:"basics"}).then(()=>Be("editPlayerData",{identifier:e,key:"image",value:v,datatype:"basics"})).then(()=>Be("getPlayerDataByType",{identifier:e,type:"basics"})).then(ae=>{i(ae),d()}).catch(ae=>{console.error("Error:",ae)})};O.useEffect(function(){e&&(Be("getPlayerDataByType",{identifier:e,type:"basics"}).then(ae=>{var ye;i(ae);let Te=ae!=null&&ae.mdtData?ae==null?void 0:ae.mdtData:[],ze=JSON.parse(((ye=Te[0])==null?void 0:ye.dataobj)||"{}");M((ze==null?void 0:ze.notes)||""),g((ze==null?void 0:ze.image)||"")}),N(!1),P(!1))},[e]);let E=r!=null&&r.mdtData?r==null?void 0:r.mdtData:[],A=JSON.parse((($=E[0])==null?void 0:$.dataobj)||"{}");const[C,P]=O.useState(!1),[R,N]=O.useState(!1),F=()=>{P(!0),N(!1),p("")},z=()=>{N(!0),P(!1),p("")},G=()=>{P(!1),setTimeout(function(){P(!0)},500)};if(!e||e.length<=0)return null;let K=(X=r==null?void 0:r.playerData)==null?void 0:X.sex;((J=r==null?void 0:r.playerData)==null?void 0:J.sex)==="m"||((V=r==null?void 0:r.playerData)==null?void 0:V.sex)==="0"||((I=r==null?void 0:r.playerData)==null?void 0:I.sex)===0?K=t("MALE"):(((k=r==null?void 0:r.playerData)==null?void 0:k.sex)==="f"||((q=r==null?void 0:r.playerData)==null?void 0:q.sex)==="1"||((H=r==null?void 0:r.playerData)==null?void 0:H.sex)===1)&&(K=t("FEMALE"));const W=()=>{Be("unJailPlayer",{identifier:e}).then(ae=>{}),delete r.jailData,i({...r})};return w.jsxs(w.Fragment,{children:[h.length>1&&w.jsx(H_,{severity:"error",children:h}),w.jsxs("div",{className:"bg-gray-800 p-4 pt-4 pb-4 rounded-md mb-4 flex items-center",id:"people_details",children:[w.jsxs("div",{className:"w-2/3",children:[w.jsx("h2",{className:"text-lg font-bold mb-4",children:t("PERSON_DETAILS")}),w.jsxs("p",{className:"mb-2",children:[w.jsxs("span",{className:"font-bold",children:[t("NAME"),": "]}),(ue=r==null?void 0:r.playerData)!=null&&ue.name?(Q=r==null?void 0:r.playerData)==null?void 0:Q.name:t("UNKNOWN")]}),w.jsxs("p",{className:"mb-2",children:[w.jsxs("span",{className:"font-bold",children:[t("LAST_NAME"),": "]}),(ne=r==null?void 0:r.playerData)!=null&&ne.lastname?(re=r==null?void 0:r.playerData)==null?void 0:re.lastname:t("UNKNOWN")]}),w.jsxs("p",{className:"mb-2",children:[w.jsxs("span",{className:"font-bold",children:[t("SEX"),": "]}),K||t("UNKNOWN")]}),((ve=r==null?void 0:r.jailData)==null?void 0:ve.id)&&w.jsxs(w.Fragment,{children:[w.jsxs("p",{className:"mb-2",children:[w.jsxs("span",{className:"font-bold",children:[t("JAIL"),": "]}),t("STARTED_AT")," ",he(((xe=r==null?void 0:r.jailData)==null?void 0:xe.jail_start)||new Date().now).format("YYYY-MM-DD HH:MM:SS")," ",t("END_AT")," ",he(((ge=r==null?void 0:r.jailData)==null?void 0:ge.jail_end)||new Date().now).format("YYYY-MM-DD HH:MM:SS")]}),w.jsx(nr,{className:" mx-1",onClick:()=>W(),variant:"contained",color:"primary",children:t("REMOVE_FROM_JAIL")})]}),w.jsxs("p",{style:{whiteSpace:"pre-line"},children:[w.jsxs("span",{className:"font-bold",children:[t("NOTES"),": "]}),A!=null&&A.notes?A==null?void 0:A.notes:t("UNKNOWN"),e&&w.jsx(w.Fragment,{children:w.jsx("button",{onClick:c,className:"mx-1 text-white font-bold py-2 px-4 rounded-full",children:w.jsx("i",{className:"fas fa-pencil-alt"})})})]}),e&&w.jsxs(w.Fragment,{children:[w.jsx(nr,{className:" mx-1",variant:"contained",color:"primary",onClick:F,children:t("VIEW_DETAILS")}),"",n&&w.jsx(nr,{className:" mx-1",variant:"contained",color:"primary",onClick:z,children:t("VIEW_BILLS")}),"",w.jsx(nr,{className:" mx-1",onClick:()=>a(!0),variant:"contained",color:"primary",children:t("ADD_NEW")}),w.jsx(QR,{identifier:e,open:o,onSubmited:()=>G(),handleCloseModal:()=>{a(!1)}})]})]}),w.jsx("div",{className:"w-1/4 ml-4 relative rounded-lg",onClick:c,children:w.jsxs("div",{className:"w-full h-64 rounded-lg overflow-hidden",children:[w.jsx("img",{src:(A==null?void 0:A.image)||t("POLICE_LOGO_URL"),alt:"Imagen de la persona",className:`w-full h-full object-cover bg-[url('${t("POLICE_LOGO_URL")}' object-cover)]`}),w.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 hover:opacity-75 transition duration-300 bg-gray-900 rounded-lg",children:w.jsx("span",{className:"text-white text-sm font-bold select-none",children:t("UPDATE_IMAGE")})})]})})]}),w.jsxs(ah,{open:l,handleCloseModal:d,title:t("NOTES_OF_THE_PERSON"),children:[h&&w.jsx(H_,{severity:"error",children:h}),w.jsx("div",{className:" mx-auto h-[45vh] mt-2 overflow-auto bdg-gray-900/70 p-4 rounded-xl text-white",children:w.jsxs("div",{className:"modal-body mt-2",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"imageURL",className:"block mb-2 text-sm font-medium text-white",children:t("TEXT_IMAGE_URL")}),w.jsx("input",{id:"imageURL",className:"w-full p-2 border border-gray-700 bg-gray-700 rounded-lg text-white",placeholder:"image URL",type:"text",onChange:_,value:v})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"paragraphNotes",className:"block mb-2 text-sm font-medium text-white",children:t("TEXT_TO_NOTE")}),w.jsx("textarea",{id:"paragraphNotes",className:"w-full h-[80%] p-2 border border-gray-700 bg-gray-700 rounded-lg text-white",onChange:x,rows:15,maxLength:2400,value:y,style:{resize:"none"}})]}),w.jsx("small",{className:"text-white",id:"ModalNotesAddHistoryTEXTLENGTH",children:`${y.length}/2400`})]})}),w.jsx("button",{id:"submitBtnModalNotesAddHistory",className:"my-4 w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:b,children:t("SEND")})]}),w.jsxs("div",{id:"table_detailsAppend",children:[R&&w.jsx(WV,{currentPlayer:e}),C&&w.jsx(T7,{currentPlayer:e})]})]})}const L7=({results:e,setSelectedPlayer:t,onClickChange:n})=>{const{t:r}=Jt();function i(o){n(),t(o)}return!e.length<=0?w.jsxs(w.Fragment,{children:[w.jsx("thead",{className:"sticky top-0 bg-gray-700 rounded-md z-50",children:w.jsxs("tr",{className:"bg-gray-700 rounded-md",children:[w.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("NAME")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("LAST_NAME")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("SEX")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("ACTIONS")})]})}),w.jsx("tbody",{children:e.map(o=>{let a=o==null?void 0:o.sex;return(o==null?void 0:o.sex)==="m"||(o==null?void 0:o.sex)==="0"||(o==null?void 0:o.sex)===0?a=r("MALE"):((o==null?void 0:o.sex)==="f"||(o==null?void 0:o.sex)==="1"||(o==null?void 0:o.sex)===1)&&(a=r("FEMALE")),w.jsxs("tr",{className:"border-white border-b pt-5",children:[w.jsx("td",{children:o==null?void 0:o.name}),w.jsx("td",{children:o==null?void 0:o.lastname}),w.jsx("td",{children:a}),w.jsx("td",{children:w.jsx(nr,{onClick:()=>i(o==null?void 0:o.identifier),variant:"contained",sx:{marginTop:"4px",marginBottom:"4px"},children:w.jsx("span",{children:r("VIEW_DETAILS")})})})]},o==null?void 0:o.identifier)})})]}):null},R7=({results:e,setSelectedPlate:t,onClickChange:n})=>{const{t:r}=Jt();function i(o,a){t({}),n(),t({plate:o,owner:a})}return!e.length<=0?w.jsxs(w.Fragment,{children:[w.jsx("thead",{className:"sticky top-0 bg-gray-700 rounded-md z-50",children:w.jsxs("tr",{className:"bg-gray-700 rounded-md",children:[w.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("PLATE")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("MODEL")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("TYPE")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:r("ACTIONS")})]})}),w.jsx("tbody",{children:e.map(o=>w.jsxs("tr",{className:"border-white border-b pt-5",children:[w.jsx("td",{children:o==null?void 0:o.plate}),w.jsx("td",{children:o==null?void 0:o.model}),w.jsx("td",{children:(o==null?void 0:o.type)||"vehicle"}),w.jsx("td",{children:w.jsx(nr,{onClick:()=>i(o==null?void 0:o.plate,o.owner),variant:"contained",sx:{marginTop:"4px",marginBottom:"4px"},children:w.jsx("span",{children:r("VIEW_DETAILS")})})})]},o==null?void 0:o.plate))})]}):null};function O7({plate:e,getPlayerBolos:t}){const{t:n}=Jt(),[r,i]=O.useState(!1);return w.jsxs(w.Fragment,{children:[w.jsx(nr,{className:" mx-1",onClick:()=>i(!0),variant:"contained",color:"primary",children:n("ADD_NEW")}),w.jsx(QR,{open:r,isvehicle:!0,plate:e,onSubmited:()=>t(),handleCloseModal:()=>{i(!1)}})]})}function N7({id:e,fetchPlayerInfractions:t,data:n}){const{t:r}=Jt(),{setLoading:i}=Ri(),[o,a]=O.useState(!1),[l,u]=O.useState(!1),c=n==null?void 0:n.data,d=()=>{i(!0),!l&&(u(!0),Be("deleteVehicleHistoryByID",{id:e}).then(v=>{t(),i(!1),u(!1),a(!0),setTimeout(()=>{a(!1)},50)}).catch(v=>{i(!1),u(!1)}))},h=()=>{a(!0)},p=()=>{a(!1)};return w.jsxs(w.Fragment,{children:[w.jsxs(Dg,{title:r("OPTIONS"),keepopen:!o,children:[w.jsxs(qo,{onClick:h,disableRipple:!0,children:[w.jsx(dR,{}),r("MORE_DETAILS")]}),w.jsx(um,{sx:{my:.5}}),w.jsxs(qo,{onClick:d,disableRipple:!0,children:[w.jsx(ob,{}),r("DELETE")]})]}),w.jsx(KR,{open:o,handleCloseModal:p,objectdata:c})]})}function k7({plate:e,type:t}){const{t:n}=Jt(),[r,i]=O.useState(!1),[o,a]=O.useState([]),l=()=>{i(!0),Be("getVehicleInfoByVehiclePlateAndDataType",{type:t,plate:e}).then(u=>{a(u),i(!1)})};return O.useEffect(()=>{i(!0),setTimeout(()=>{Be("getVehicleInfoByVehiclePlateAndDataType",{type:t,plate:e}).then(u=>{a(u),i(!1)})},500)},[e,t]),w.jsx("div",{children:r?w.jsxs("div",{role:"status",children:[w.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 animate-spin text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),w.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),w.jsx("span",{className:"sr-only",children:"Loading..."})]}):w.jsxs(w.Fragment,{children:[o.length>0&&w.jsx("div",{className:"bg-gray-800 p-4 pt-4 pb-4 rounded-md mb-4 flex items-center",children:w.jsxs("table",{className:"w-full mb-4",children:[w.jsx("thead",{className:"sticky top-0 bg-gray-700 rounded-md",children:w.jsxs("tr",{className:"bg-gray-700 rounded-md",children:[w.jsx("th",{className:"text-left font-bold px-4 py-2",children:n("ID")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:n("DATE")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:n("BY")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:n("MESSAGE")}),w.jsx("th",{className:"text-left font-bold px-4 py-2",children:n("ACTIONS")})]})}),w.jsx("tbody",{children:o.map(u=>w.jsxs("tr",{className:"border-white border-b pt-5",children:[w.jsx("td",{className:"px-2",children:u==null?void 0:u.id}),w.jsx("td",{className:"px-2",children:he(u==null?void 0:u.createdAt).format("YYYY/MM/DD")}),w.jsx("td",{className:"px-2",children:u==null?void 0:u.by}),w.jsx("td",{className:"px-2",children:JSON.parse(u==null?void 0:u.data).message}),w.jsxs("td",{className:"px-2",children:[w.jsx(N7,{data:u,id:u==null?void 0:u.id,fetchPlayerInfractions:l})," "]})]},u==null?void 0:u.id))})]})}),o.length<=0&&w.jsx("section",{className:"bg-gray-900",children:w.jsx("div",{className:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16 lg:px-6",children:w.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[w.jsx("h1",{className:"mb-4 text-7xl tracking-tight font-extrabold lg:text-9xl text-primary-500",children:"404"}),w.jsx("p",{className:"mb-4 text-3xl tracking-tight font-bold  md:text-4xl text-white",children:n("SOMETHING_IS_MISSING")}),w.jsx("p",{className:"mb-4 text-lg font-light  text-gray-400",children:n("CANT_SEARCH_TEXT")})]})})})]})})}function I7({identifier:e,plate:t}){var h,p,v,g;const{t:n}=Jt(),[r,i]=O.useState({}),[o,a]=O.useState(!1),l=()=>{a(!0)};O.useEffect(function(){e&&t&&Be("getPlayerAndVehicleData",{identifier:e,type:"basics",plate:t}).then(y=>{i(y)})},[e,t]);let u=r!=null&&r.mdtData?r==null?void 0:r.mdtData:[],c=JSON.parse(((h=u[0])==null?void 0:h.dataobj)||"{}");const d=()=>{a(!1),setTimeout(function(){a(!0)},500)};return!e||!t?null:w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-gray-800 p-4 pt-4 pb-4 rounded-md mb-4 flex items-center",id:"people_details",children:[w.jsxs("div",{className:"w-2/3",children:[w.jsx("h2",{className:"text-lg font-bold mb-4",children:n("VEHICLE_DETAILS")}),w.jsxs("p",{className:"mb-2",children:[w.jsxs("span",{className:"font-bold",children:[n("NAME"),":"]})," ",((p=r==null?void 0:r.playerData)==null?void 0:p.name)||n("UNKNOWN")]}),w.jsxs("p",{className:"mb-2",children:[w.jsxs("span",{className:"font-bold",children:[n("LAST_NAME"),":"]})," ",((v=r==null?void 0:r.playerData)==null?void 0:v.lastname)||n("UNKNOWN")]}),w.jsxs("p",{className:"mb-2",children:[w.jsxs("span",{className:"font-bold",children:[n("SEX"),":"]})," ",((g=r==null?void 0:r.playerData)==null?void 0:g.sex)||n("UNKNOWN")]}),w.jsxs("p",{style:{whiteSpace:"pre-line"},children:[w.jsxs("span",{className:"font-bold",children:[n("NOTES"),":"]})," ",(c==null?void 0:c.notes)||n("UNKNOWN")]}),w.jsx("br",{}),w.jsx("hr",{}),w.jsx("br",{}),w.jsxs("p",{children:[w.jsxs("span",{className:"font-bold",children:[n("PLATE"),":"]})," ",t||n("UNKNOWN")]}),w.jsx(nr,{className:" mx-1",variant:"contained",color:"primary",onClick:l,children:n("VIEW_DETAILS")}),"",w.jsx(O7,{plate:t,getPlayerBolos:d})]}),w.jsx("div",{className:"w-1/5 ml-4 relative rounded-lg",onclick:"toggleNotesHistoryAddModal()",children:w.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden ",children:w.jsx("img",{src:(c==null?void 0:c.image)||n("POLICE_LOGO_URL"),alt:"Imagen de el coche",className:`w-full h-full object-cover bg-[url('${n("POLICE_LOGO_URL")}' object-cover)]`})})})]}),w.jsx("div",{id:"table_detailsAppend",children:o&&w.jsx(k7,{plate:t,type:"infraction"})})]})}function eO({onSubmit:e,setOpen:t}){var y,M;const{t:n}=Jt(),[r,i]=O.useState([]),[o,a]=O.useState(0),[l,u]=O.useState([]),[c,d]=O.useState(""),[h,p]=O.useState(r);O.useEffect(()=>{Be("getPenalCodeData").then(_=>{i(_)})},[]);function v(){if(typeof e!="function")return ct.error("onSubmit is not a function");e(l),t(!1)}function g(_){if(typeof e!="function")return ct.error("onSubmit is not a function");u([...l,_])}return O.useEffect(()=>{const _=c.toLowerCase(),x=r.map(b=>({...b,PenalCode:b.PenalCode.filter(E=>E.title.toLowerCase().includes(_)||E.desc.toLowerCase().includes(_))}));p(x)},[c,r]),w.jsx(w.Fragment,{children:w.jsxs("div",{children:[w.jsx("div",{className:"",children:w.jsx("select",{onChange:_=>{a(_.target.value)},id:"penal_codes",className:"border text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",children:r.map((_,x)=>x===o?w.jsx("option",{value:x,selected:!0,children:_.title}):w.jsx("option",{value:x,children:_.title}))})}),w.jsxs("div",{children:[w.jsx("label",{for:"first_name",className:"block mb-2 text-sm font-medium text-white",children:"Find"}),w.jsx("input",{type:"text",id:"first_name",className:"border text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",onChange:_=>d(_.target.value),placeholder:n("FIND"),value:c})]}),typeof e=="function"&&w.jsx(nr,{onClick:v,variant:"contained",sx:{marginTop:"2rem",marginBottom:"1rem"},className:"w-full mt-2 mb-2",children:w.jsx("span",{className:"text-[1vh]",children:n("SEND")})}),w.jsxs("div",{className:"flex flex-col mt-2 mb-9",children:[(y=h[o])==null?void 0:y.PenalCode.map((_,x)=>w.jsx("div",{className:"bg-gray-700 p-2 m-1 rounded-lg",children:w.jsxs("div",{className:" flex flex-row justify-between align-middle",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex flex-row",children:[w.jsx("p",{className:"text-white",children:_.title}),w.jsx("p",{className:"text-white ml-2",children:_.desc})]}),w.jsxs("div",{className:"flex flex-row",children:[_.fine===0?null:w.jsxs("p",{className:"text-white",children:[n("FINE"),": ",_.fine]}),_.jailTime===0?null:w.jsxs("p",{className:"text-white ml-2",children:[n("JAIL_TIME"),": ",_.jailTime]})]})]}),typeof e=="function"&&w.jsx(w.Fragment,{children:l.find(b=>parseInt(o)===parseInt(b.listIndex)&&x===parseInt(b.itemIndex))?w.jsx("input",{checked:!0,onClick:()=>{u(l.filter(b=>!(parseInt(o)===parseInt(b.listIndex)&&x===parseInt(b.itemIndex))))},type:"checkbox",value:"",className:"w-4 h-4 text-blue-600  rounded focus:ring-blue-600 ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600"}):w.jsx("input",{checked:!1,onClick:()=>{g({..._,listIndex:parseInt(o),itemIndex:parseInt(x)}),t(!1)},type:"checkbox",value:"",className:"w-4 h-4 text-blue-600  rounded focus:ring-blue-600 ring-offset-gray-800 focus:ring-2 bg-gray-700 border-gray-600"})})]})},x)),(M=r[o])==null?void 0:M.PenalCode.map((_,x)=>{})]})]})})}function D7({onSubmit:e}){const{t}=Jt(),[n,r]=O.useState(!1);return w.jsxs(w.Fragment,{children:[w.jsx(nr,{className:" w-full mx-1",onClick:()=>r(!0),variant:"contained",color:"primary",children:w.jsx(w.Fragment,{children:t("PENAL_CODE")})}),w.jsx(ah,{open:n,handleCloseModal:()=>r(!1),title:t("PENAL_CODE"),children:w.jsx(eO,{onSubmit:e,setOpen:r})})]})}function F7(){const{t:e}=Jt(),[t,n]=O.useState(!1),[r,i]=O.useState([]),[o,a]=O.useState(null),[l,u]=O.useState(null),[c,d]=O.useState([]),h=()=>{n(!1),u(null)};O.useEffect(()=>{Be("getAsignedPenalCodesToPlayer",{player:l}).then(g=>{d(g),console.log(JSON.stringify(g))})},[l]);const p=()=>{Be("getClosetsPlayersMDT").then(g=>{i(g)}),n(!0)};O.useEffect(()=>{o&&clearInterval(o),a(setInterval(function(){t&&Be("getClosetsPlayersMDT").then(g=>{i(g)})},2e3))},[t]);const v=g=>{Be("AddPenalListToPlayer",{data:g,player:l}).then(y=>{h()})};return w.jsxs(w.Fragment,{children:[w.jsx(nr,{className:" w-full mx-1",sx:{marginTop:"10px"},onClick:p,variant:"contained",color:"primary",children:e("CLOSETS_CITIZEN")}),w.jsxs(ah,{open:t,handleCloseModal:()=>h(),title:e("CLOSETS_CITIZEN"),children:[l&&w.jsx(eO,{currentPenalCodesAsigned:c,onSubmit:g=>{v(g)},setOpen:()=>{}}),!l&&w.jsxs("div",{className:"flex flex-col mt-2 mb-9",children:[(r==null?void 0:r.length)===0&&w.jsx("div",{className:"bg-gray-700 p-2 m-1 rounded-lg flex flex-row justify-between",children:e("NO_CLOSETS_CITIZEN")}),r==null?void 0:r.map((g,y)=>{var M;return g!=null&&g.info.rp_name?w.jsxs("div",{className:"bg-gray-700 p-2 m-1 rounded-lg flex flex-row justify-between",children:[(M=g==null?void 0:g.info)==null?void 0:M.rp_name,w.jsxs("button",{onClick:()=>{u(g)},type:"button",className:"text-white focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center bg-blue-600 hover:bg-blue-700 focus:ring-blue-800",children:[e("ADD_CHARGES"),w.jsx("svg",{className:"w-3.5 h-3.5 ml-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:w.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]},y):null})]})]})]})}const B7=()=>{const{mdt:e,ToggleMDT:t,setLoading:n,enabledJailButton:r}=Ri(),{t:i}=Jt(),[o,a]=O.useState({message:i("MDT Loaded Succesfully"),type:"success"}),[l,u]=O.useState(""),[c,d]=O.useState(""),[h,p]=O.useState([]),[v,g]=O.useState(""),[y,M]=O.useState([]),[_,x]=O.useState(""),[b,E]=O.useState({});function A(){E({}),x("")}const C=z=>{z.preventDefault(),n(!0),u(""),d(""),g(""),M([]),x(""),E({}),setTimeout(function(){Be("getPlayersByNameAndLastName",{name:l,lastname:c}).then(G=>{if(p([]),M([]),G.length<=0){a({message:i("SEARCH_ERROR"),type:"error"}),n(!1);return}p(G),a({message:i("SEARCH_SUCCESS"),type:"success"}),n(!1)})},1e3),setTimeout(function(){n(!1)},1e3)},P=z=>{z.preventDefault(),n(!0),u(""),d(""),g(""),M([]),x(""),E({}),setTimeout(function(){Be("getVehiclesByPlate",{plate:v}).then(G=>{if(M([]),p([]),G.length<=0){a({message:i("SEARCH_ERROR"),type:"error"}),n(!1);return}M(G),a({message:i("SEARCH_SUCCESS"),type:"success"}),n(!1)})},1e3),setTimeout(function(){n(!1)},1e3)},R=z=>{u(z.target.value)},N=z=>{d(z.target.value)},F=z=>{g(z.target.value)};return w.jsxs(AR,{open:e,children:[w.jsxs("div",{className:"p-[1vw]",children:[w.jsx("div",{className:"flex justify-end p-[2vh]",children:w.jsx("button",{onClick:t,className:"mt-[-3vh] mr-[-1vw] z-50 hover:text-gray-500 transition-colors"})}),w.jsxs("div",{className:"flex absolute top-[6.5vh]",children:[w.jsxs("div",{className:"w-[13vw]",children:[w.jsx("h2",{className:"text-[1.2vh] font-bold mb-[1.5vh]",children:i("FIND_PEOPLE")}),w.jsxs("div",{className:"mb-[2vh]",children:[w.jsxs("div",{className:"mb-[1.5vh]",children:[w.jsxs("label",{className:"text-[1vh] block text-gray-400 mb-[.5vh]",htmlFor:"name_input",children:[i("NAME"),":"]}),w.jsx("input",{className:"bg-gray-800 text-white p-2 rounded-md w-full h-[3.5vh]",type:"text",id:"name_input",name:"name_input",value:l,onChange:R})]}),w.jsxs("div",{className:"mb-2",children:[w.jsx("label",{className:"text-[1vh] block text-gray-400 mb-[.5vh]",htmlFor:"lastname_input",children:i("LAST_NAME")}),w.jsx("input",{className:"bg-gray-800 text-white p-2 rounded-md w-full h-[3.5vh]",type:"text",id:"lastname_input",name:"lastname_input",value:c,onChange:N})]}),w.jsx("div",{children:w.jsx(nr,{onClick:C,variant:"contained",sx:{borderRadius:".5vh",width:"5vw",height:"3vh"},children:w.jsx("span",{className:"text-[1vh]",children:i("FIND")})})})]}),w.jsx("h2",{className:"text-[1.2vh] font-bold mb-[1.5vh]",children:i("FIND_PLATE")}),w.jsxs("div",{className:"mb-4",children:[w.jsxs("div",{className:"mb-2",children:[w.jsxs("label",{className:"text-[1vh] block text-gray-400 mb-[.5vh]",htmlFor:"plate_input",children:[i("PLATE"),":"]}),w.jsx("input",{className:"bg-gray-800 text-white p-2 rounded-md w-full h-[3.5vh]",type:"text",id:"plate_input",name:"plate_input",value:v,onChange:F})]}),w.jsx("div",{children:w.jsx(nr,{onClick:P,variant:"contained",sx:{borderRadius:".5vh",width:"5vw",height:"3vh"},children:w.jsx("span",{className:"text-[1vh]",children:i("FIND")})})}),w.jsx("br",{}),w.jsx("br",{}),w.jsx(D7,{}),r&&w.jsx(F7,{})]})]}),w.jsxs("div",{className:"w-[56vw] p-4 overflow-auto max-h-[80vh] mt-[-4.3vh]",children:[w.jsx("h2",{className:" text-center text-[1.2vh] font-bold mb-[1.5vh]",children:i("SEARCH_RESULTS")}),w.jsxs("div",{className:"overflow-auto h-[50vh] max-h-[50vh] bg-gray-800 rounded-[1vh] p-[1vh]",id:"results_table_container",children:[(o==null?void 0:o.message)&&w.jsxs(H_,{severity:o==null?void 0:o.type,children:[" ",o==null?void 0:o.message]}),w.jsx("br",{}),w.jsxs("table",{id:"results_table",className:"w-full mb-[1vh]",children:[w.jsx(L7,{results:h,setSelectedPlayer:x,onClickChange:A}),w.jsx(R7,{results:y,setSelectedPlate:E,onClickChange:A})]})]}),w.jsx("br",{}),w.jsx(C7,{peapleID:_}),w.jsx(I7,{identifier:b==null?void 0:b.owner,plate:b==null?void 0:b.plate})]})]})]}),w.jsx("div",{onClick:t,className:"bg-white z-[51] h-[.4vh] rounded-[12px] relative top-[85%] w-[17vw] ml-auto mr-auto cursor-pointer hover:bg-gray-500 transition-colors"})]})};function tO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nO(e,t,n){return t&&CA(e.prototype,t),n&&CA(e,n),e}function rO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vx(e,t)}function Mm(e){return Mm=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(e)}function vx(e,t){return vx=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},vx(e,t)}function z7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function U7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j7(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:U7(e)}function iO(e){var t=z7();return function(){var r=Mm(e),i;if(t){var o=Mm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return j7(this,i)}}function H7(e){return G7(e)||V7(e)||W7(e)||$7()}function G7(e){if(Array.isArray(e))return gx(e)}function V7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function W7(e,t){if(e){if(typeof e=="string")return gx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gx(e,t)}}function gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=String(e);if(t===0)return n;var r=n.match(/(.*?)([0-9]+)(.*)/),i=r?r[1]:"",o=r?r[3]:"",a=r?r[2]:n,l=a.length>=t?a:(H7(Array(t)).map(function(){return"0"}).join("")+a).slice(t*-1);return"".concat(i).concat(l).concat(o)}var oO={daysInHours:!1,zeroPadTime:2};function Y7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.now,r=n===void 0?Date.now:n,i=t.precision,o=i===void 0?0:i,a=t.controlled,l=t.offsetTime,u=l===void 0?0:l,c=t.overtime,d;typeof e=="string"?d=new Date(e).getTime():e instanceof Date?d=e.getTime():d=e,a||(d+=u);var h=a?d:d-r(),p=Math.min(20,Math.max(0,o)),v=Math.round(parseFloat(((c?h:Math.max(0,h))/1e3).toFixed(p))*1e3),g=Math.abs(v)/1e3;return{total:v,days:Math.floor(g/(3600*24)),hours:Math.floor(g/3600%24),minutes:Math.floor(g/60%60),seconds:Math.floor(g%60),milliseconds:Number((g%1*1e3).toFixed()),completed:v<=0}}function Z7(e,t){var n=e.days,r=e.hours,i=e.minutes,o=e.seconds,a=Object.assign(Object.assign({},oO),t),l=a.daysInHours,u=a.zeroPadTime,c=a.zeroPadDays,d=c===void 0?u:c,h=Math.min(2,u),p=l?Uc(r+n*24,u):Uc(r,h);return{days:l?"":Uc(n,d),hours:p,minutes:Uc(i,h),seconds:Uc(o,h)}}var aO=function(e){rO(n,e);var t=iO(n);function n(){var r;return tO(this,n),r=t.apply(this,arguments),r.state={count:r.props.count||3},r.startCountdown=function(){r.interval=window.setInterval(function(){var i=r.state.count-1;i===0?(r.stopCountdown(),r.props.onComplete&&r.props.onComplete()):r.setState(function(o){return{count:o.count-1}})},1e3)},r.stopCountdown=function(){clearInterval(r.interval)},r.addTime=function(i){r.stopCountdown(),r.setState(function(o){return{count:o.count+i}},r.startCountdown)},r}return nO(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?O.cloneElement(this.props.children,{count:this.state.count}):null}}]),n}(O.Component);aO.propTypes={count:Bt.number,children:Bt.element,onComplete:Bt.func};var Sb=function(e){rO(n,e);var t=iO(n);function n(r){var i;if(tO(this,n),i=t.call(this,r),i.mounted=!1,i.initialTimestamp=i.calcOffsetStartTimestamp(),i.offsetStartTimestamp=i.props.autoStart?0:i.initialTimestamp,i.offsetTime=0,i.legacyMode=!1,i.legacyCountdownRef=O.createRef(),i.tick=function(){var a=i.calcTimeDelta(),l=a.completed&&!i.props.overtime?void 0:i.props.onTick;i.setTimeDeltaState(a,void 0,l)},i.start=function(){if(!i.isStarted()){var a=i.offsetStartTimestamp;i.offsetStartTimestamp=0,i.offsetTime+=a?i.calcOffsetStartTimestamp()-a:0;var l=i.calcTimeDelta();i.setTimeDeltaState(l,"STARTED",i.props.onStart),!i.props.controlled&&(!l.completed||i.props.overtime)&&(i.clearTimer(),i.interval=window.setInterval(i.tick,i.props.intervalDelay))}},i.pause=function(){i.isPaused()||(i.clearTimer(),i.offsetStartTimestamp=i.calcOffsetStartTimestamp(),i.setTimeDeltaState(i.state.timeDelta,"PAUSED",i.props.onPause))},i.stop=function(){i.isStopped()||(i.clearTimer(),i.offsetStartTimestamp=i.calcOffsetStartTimestamp(),i.offsetTime=i.offsetStartTimestamp-i.initialTimestamp,i.setTimeDeltaState(i.calcTimeDelta(),"STOPPED",i.props.onStop))},i.isStarted=function(){return i.isStatus("STARTED")},i.isPaused=function(){return i.isStatus("PAUSED")},i.isStopped=function(){return i.isStatus("STOPPED")},i.isCompleted=function(){return i.isStatus("COMPLETED")},r.date){var o=i.calcTimeDelta();i.state={timeDelta:o,status:o.completed?"COMPLETED":"STOPPED"}}else i.legacyMode=!0;return i}return nO(n,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(i){this.legacyMode||this.props.date!==i.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var i=this.props,o=i.date,a=i.now,l=i.precision,u=i.controlled,c=i.overtime;return Y7(o,{now:a,precision:l,controlled:u,offsetTime:this.offsetTime,overtime:c})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(i){this.legacyCountdownRef.current.addTime(i)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(i){return this.state.status===i}},{key:"setTimeDeltaState",value:function(i,o,a){var l=this;if(this.mounted){var u=i.completed&&!this.state.timeDelta.completed,c=i.completed&&o==="STARTED";u&&!this.props.overtime&&this.clearTimer();var d=function(){a&&a(l.state.timeDelta),l.props.onComplete&&(u||c)&&l.props.onComplete(i,c)};return this.setState(function(h){var p=o||h.status;return i.completed&&!l.props.overtime?p="COMPLETED":!o&&p==="COMPLETED"&&(p="STOPPED"),{timeDelta:i,status:p}},d)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var i=this.props,o=i.daysInHours,a=i.zeroPadTime,l=i.zeroPadDays,u=this.state.timeDelta;return Object.assign(Object.assign({},u),{api:this.getApi(),props:this.props,formatted:Z7(u,{daysInHours:o,zeroPadTime:a,zeroPadDays:l})})}},{key:"render",value:function(){if(this.legacyMode){var i=this.props,o=i.count,a=i.children,l=i.onComplete;return O.createElement(aO,{ref:this.legacyCountdownRef,count:o,onComplete:l},a)}var u=this.props,c=u.className,d=u.overtime,h=u.children,p=u.renderer,v=this.getRenderProps();if(p)return p(v);if(h&&this.state.timeDelta.completed&&!d)return O.cloneElement(h,{countdown:v});var g=v.formatted,y=g.days,M=g.hours,_=g.minutes,x=g.seconds;return O.createElement("span",{className:c},v.total<0?"-":"",y,y?":":"",M,":",_,":",x)}}]),n}(O.Component);Sb.defaultProps=Object.assign(Object.assign({},oO),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});Sb.propTypes={date:Bt.oneOfType([Bt.instanceOf(Date),Bt.string,Bt.number]),daysInHours:Bt.bool,zeroPadTime:Bt.number,zeroPadDays:Bt.number,controlled:Bt.bool,intervalDelay:Bt.number,precision:Bt.number,autoStart:Bt.bool,overtime:Bt.bool,className:Bt.string,children:Bt.element,renderer:Bt.func,now:Bt.func,onMount:Bt.func,onStart:Bt.func,onPause:Bt.func,onStop:Bt.func,onTick:Bt.func,onComplete:Bt.func};const X7=()=>{const{jail:e}=Ri(),{t}=Jt();return e.open?w.jsx("div",{className:"flex justify-end m-8",children:w.jsxs("div",{className:"max-w-sm p-6 border rounded-lg shadow bg-gray-800 border-gray-700 hover:bg-gray-700",children:[w.jsx("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-white",children:"You are jailed"}),w.jsx(Sb,{date:Date.now()+e.time*6e4,renderer:({days:n,hours:r,minutes:i,seconds:o,completed:a})=>{if(a)return w.jsx("p",{className:"font-normal text-gray-400",children:t("TIME_IS_UP")});const l=[];n>0&&l.push(`${n} ${n>1?t("DAYS"):t("DAY")}`),r>0&&l.push(`${r} ${r>1?t("HOURS"):t("HOUR")}`),i>0&&l.push(`${i} ${i>1?t("MINUTES"):t("MINUTE")}`),o>0&&l.push(`${o} ${o>1?t("SECONDS"):t("SECOND")}`);const u=l.join(", ");return w.jsxs("p",{className:"font-normal text-gray-400",children:[t("TIME_TO_OUT")," ",u]})}}),w.jsx("p",{className:"font-normal text-gray-200",children:e.text})]})}):null},q7=""+new URL("AXON-aef6f2f2.png",import.meta.url).href,K7=()=>{const{setBlockedOpen:e}=Ri(),{t}=Jt(),[n,r]=O.useState(!1),[i,o]=O.useState(he().format("YYYY")),[a,l]=O.useState(he().format("MM")),[u,c]=O.useState(he().format("DD")),[d,h]=O.useState(he().format("HH")),[p,v]=O.useState(he().format("mm")),[g,y]=O.useState(he().format("ss")),[M,_]=O.useState("Player Name"),[x,b]=O.useState("30-A-01");O.useEffect(()=>{const C=P=>{P.key==="Escape"&&n&&Be("offbodycam",{})};return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[n]),Fn("toggleBodyCam",C=>{C.open?(e(!0),_(C.playerName),b(C.playerCallsign),r(!0),Be("SetNuiFocus",{focused:!0,notablet:!0})):(e(!1),r(!1),Be("SetNuiFocus",{focused:!1}))});const E=Qa({to:{opacity:0},from:{opacity:1},loop:{reverse:!0},config:{duration:1500}});function A(){o(he().format("YYYY")),l(he().format("MM")),c(he().format("DD")),h(he().format("HH")),v(he().format("mm")),y(he().format("ss"))}return O.useEffect(()=>{const C=setInterval(()=>{A()},1e3);return()=>clearInterval(C)},[]),n?w.jsx("div",{className:"h-[120%] w-full bg-bladck/30 mt-[-2.5vh] pt-6 select-none",children:w.jsxs("div",{className:"float-right w-auto text-right bg-[rgba(0,0,0,0.5)] m-2.5 p-[5px] rounded-[10px]",children:[w.jsx("div",{className:"h-full float-right w-auto text-right",children:w.jsx("img",{src:q7,width:"64",height:"64",border:"0",alt:"QUAXION BODYCAM"})}),w.jsxs("div",{className:"flex flex-col justify-end text-gray-200",children:[w.jsxs("span",{className:" text-right mr-2",children:["REC",w.jsx(mo.i,{style:E,className:"fa fa-circle text-red-700"}),"QUAXION CHASE-CAM"]}),w.jsx("span",{className:" text-right mr-2",id:"player",children:M}),w.jsx("span",{className:" text-right mr-2",id:"agency",children:t("DEPARTMENT_NAME")}),w.jsxs("span",{className:" text-right mr-2",id:"day",children:[u,"/",a,"/",i,d,":",p,":",g]})]})]})}):null},J7=()=>w.jsxs(w.Fragment,{children:[w.jsx(fx,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),w.jsx(KU,{}),w.jsx(r9,{}),w.jsx(VV,{}),w.jsx(B7,{}),w.jsx(K7,{}),w.jsx(X7,{})]}),Q7=O.createContext(),e$=({children:e})=>{const[t,n]=O.useState({});function r(i,o){n(a=>({...a,[i]:o}))}return Fn("callback",async i=>{if(t.hasOwnProperty(i.name)&&typeof t[i.name]=="function"){let o=await t[i.name](i.data);Be("callback",{id:i.id,data:o})}else console.warn(`Callback ${i.name} does not exist`)}),O.useEffect(()=>{window.RegisterNuiCallback=r,r("takeScreenshot",async({uploadTo:i,field:o})=>i?await MainRender.requestScreenshot(i,o):console.error("Configure your webhook in the config.lua file"))},[]),w.jsx(Q7.Provider,{value:{},children:e})};Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&function(){Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}}();function us(){}Object.assign(us.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});var n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;var n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners!==void 0){var n=this._listeners,r=n[e];if(r!==void 0){var i=r.indexOf(t);i!==-1&&r.splice(i,1)}}},dispatchEvent:function(e){if(this._listeners!==void 0){var t=this._listeners,n=t[e.type];if(n!==void 0){e.target=this;for(var r=n.slice(0),i=0,o=r.length;i<o;i++)r[i].call(this,e)}}}});var t$=0,LA=1,n$=2,sO=1,r$=2,sh=0,pr=1,lh=2,lO=1,uO=0,cO=1,ic=2,yf=0,du=1,yx=2,_x=3,xx=4,fO=5,ql=100,i$=101,o$=102,C0=103,L0=104,a$=200,s$=201,l$=202,u$=203,dO=204,hO=205,c$=206,f$=207,d$=208,h$=209,p$=210,m$=0,v$=1,g$=2,wx=3,y$=4,_$=5,x$=6,w$=7,Vg=0,b$=1,S$=2,R0=0,pO=1,E$=2,M$=3,A$=4,T$=5,Eb=300,Mb=301,bx=302,mO=303,Sx=304,vO=305,Ab=306,Tb=307,Ia=1e3,bi=1001,Pu=1002,zn=1003,Pb=1004,Cb=1005,$n=1006,gO=1007,Wg=1008,td=1009,P$=1010,C$=1011,Am=1012,L$=1013,yO=1014,nd=1015,Lb=1016,R$=1017,O$=1018,N$=1019,Tm=1020,k$=1021,$s=1022,wo=1023,I$=1024,D$=1025,hu=1026,rd=1027,F$=1028,RA=33776,OA=33777,NA=33778,kA=33779,IA=35840,DA=35841,FA=35842,BA=35843,B$=36196,z$=37808,U$=37809,j$=37810,H$=37811,G$=37812,V$=37813,W$=37814,$$=37815,Y$=37816,Z$=37817,X$=37818,q$=37819,K$=37820,J$=37821,Q$=2200,eY=2201,tY=2202,Pm=2300,Rp=2301,O0=2302,Cu=2400,Kl=2401,Cm=2402,_O=0,nY=1,rY=2,Lm=3e3,iY=3001,xO=3007,oY=3002,aY=3004,sY=3005,lY=3006,uY=3200,cY=3201,$g=0,fY=1,Xe={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var r=Math.random()*4294967295|0,i=Math.random()*4294967295|0,o=Math.random()*4294967295|0,a=Math.random()*4294967295|0,l=e[r&255]+e[r>>8&255]+e[r>>16&255]+e[r>>24&255]+"-"+e[i&255]+e[i>>8&255]+"-"+e[i>>16&15|64]+e[i>>24&255]+"-"+e[o&63|128]+e[o>>8&255]+"-"+e[o>>16&255]+e[o>>24&255]+e[a&255]+e[a>>8&255]+e[a>>16&255]+e[a>>24&255];return l.toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Xe.DEG2RAD},radToDeg:function(e){return e*Xe.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function ce(e,t){this.x=e||0,this.y=t||0}Object.defineProperties(ce.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(ce.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new ce,t=new ce;return function(r,i){return e.set(r,r),t.set(i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}});function je(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(je.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,l,u,c,d,h,p,v,g,y){var M=this.elements;return M[0]=e,M[4]=t,M[8]=n,M[12]=r,M[1]=i,M[5]=o,M[9]=a,M[13]=l,M[2]=u,M[6]=c,M[10]=d,M[14]=h,M[3]=p,M[7]=v,M[11]=g,M[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new je().fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new U;return function(n){var r=this.elements,i=n.elements,o=1/e.setFromMatrixColumn(n,0).length(),a=1/e.setFromMatrixColumn(n,1).length(),l=1/e.setFromMatrixColumn(n,2).length();return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[3]=0,r[4]=i[4]*a,r[5]=i[5]*a,r[6]=i[6]*a,r[7]=0,r[8]=i[8]*l,r[9]=i[9]*l,r[10]=i[10]*l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(r),u=Math.sin(r),c=Math.cos(i),d=Math.sin(i);if(e.order==="XYZ"){var h=o*c,p=o*d,v=a*c,g=a*d;t[0]=l*c,t[4]=-l*d,t[8]=u,t[1]=p+v*u,t[5]=h-g*u,t[9]=-a*l,t[2]=g-h*u,t[6]=v+p*u,t[10]=o*l}else if(e.order==="YXZ"){var y=l*c,M=l*d,_=u*c,x=u*d;t[0]=y+x*a,t[4]=_*a-M,t[8]=o*u,t[1]=o*d,t[5]=o*c,t[9]=-a,t[2]=M*a-_,t[6]=x+y*a,t[10]=o*l}else if(e.order==="ZXY"){var y=l*c,M=l*d,_=u*c,x=u*d;t[0]=y-x*a,t[4]=-o*d,t[8]=_+M*a,t[1]=M+_*a,t[5]=o*c,t[9]=x-y*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){var h=o*c,p=o*d,v=a*c,g=a*d;t[0]=l*c,t[4]=v*u-p,t[8]=h*u+g,t[1]=l*d,t[5]=g*u+h,t[9]=p*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){var b=o*l,E=o*u,A=a*l,C=a*u;t[0]=l*c,t[4]=C-b*d,t[8]=A*d+E,t[1]=d,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=E*d+A,t[10]=b-C*d}else if(e.order==="XZY"){var b=o*l,E=o*u,A=a*l,C=a*u;t[0]=l*c,t[4]=-d,t[8]=u*c,t[1]=b*d+C,t[5]=o*c,t[9]=E*d-A,t[2]=A*d-E,t[6]=a*c,t[10]=C*d+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(){var e=new U(0,0,0),t=new U(1,1,1);return function(r){return this.compose(e,r,t)}}(),lookAt:function(){var e=new U,t=new U,n=new U;return function(i,o,a){var l=this.elements;return n.subVectors(i,o),n.lengthSq()===0&&(n.z=1),n.normalize(),e.crossVectors(a,n),e.lengthSq()===0&&(Math.abs(a.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(a,n)),e.normalize(),t.crossVectors(n,e),l[0]=e.x,l[4]=t.x,l[8]=n.x,l[1]=e.y,l[5]=t.y,l[9]=n.y,l[2]=e.z,l[6]=t.z,l[10]=n.z,this}}(),multiply:function(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],l=n[8],u=n[12],c=n[1],d=n[5],h=n[9],p=n[13],v=n[2],g=n[6],y=n[10],M=n[14],_=n[3],x=n[7],b=n[11],E=n[15],A=r[0],C=r[4],P=r[8],R=r[12],N=r[1],F=r[5],z=r[9],G=r[13],K=r[2],W=r[6],$=r[10],X=r[14],J=r[3],V=r[7],I=r[11],k=r[15];return i[0]=o*A+a*N+l*K+u*J,i[4]=o*C+a*F+l*W+u*V,i[8]=o*P+a*z+l*$+u*I,i[12]=o*R+a*G+l*X+u*k,i[1]=c*A+d*N+h*K+p*J,i[5]=c*C+d*F+h*W+p*V,i[9]=c*P+d*z+h*$+p*I,i[13]=c*R+d*G+h*X+p*k,i[2]=v*A+g*N+y*K+M*J,i[6]=v*C+g*F+y*W+M*V,i[10]=v*P+g*z+y*$+M*I,i[14]=v*R+g*G+y*X+M*k,i[3]=_*A+x*N+b*K+E*J,i[7]=_*C+x*F+b*W+E*V,i[11]=_*P+x*z+b*$+E*I,i[15]=_*R+x*G+b*X+E*k,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new U;return function(n){for(var r=0,i=n.count;r<i;r++)e.x=n.getX(r),e.y=n.getY(r),e.z=n.getZ(r),e.applyMatrix4(this),n.setXYZ(r,e.x,e.y,e.z);return n}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],d=e[6],h=e[10],p=e[14],v=e[3],g=e[7],y=e[11],M=e[15];return v*(+i*l*d-r*u*d-i*a*h+n*u*h+r*a*p-n*l*p)+g*(+t*l*p-t*u*h+i*o*h-r*o*p+r*u*c-i*l*c)+y*(+t*u*d-t*a*p-i*o*d+n*o*p+i*a*c-n*u*c)+M*(-r*a*c-t*l*d+t*a*h+r*o*d-n*o*h+n*l*c)},transpose:function(){var e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],l=r[3],u=r[4],c=r[5],d=r[6],h=r[7],p=r[8],v=r[9],g=r[10],y=r[11],M=r[12],_=r[13],x=r[14],b=r[15],E=v*x*h-_*g*h+_*d*y-c*x*y-v*d*b+c*g*b,A=M*g*h-p*x*h-M*d*y+u*x*y+p*d*b-u*g*b,C=p*_*h-M*v*h+M*c*y-u*_*y-p*c*b+u*v*b,P=M*v*d-p*_*d-M*c*g+u*_*g+p*c*x-u*v*x,R=i*E+o*A+a*C+l*P;if(R===0){var N="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(t===!0)throw new Error(N);return console.warn(N),this.identity()}var F=1/R;return n[0]=E*F,n[1]=(_*g*l-v*x*l-_*a*y+o*x*y+v*a*b-o*g*b)*F,n[2]=(c*x*l-_*d*l+_*a*h-o*x*h-c*a*b+o*d*b)*F,n[3]=(v*d*l-c*g*l-v*a*h+o*g*h+c*a*y-o*d*y)*F,n[4]=A*F,n[5]=(p*x*l-M*g*l+M*a*y-i*x*y-p*a*b+i*g*b)*F,n[6]=(M*d*l-u*x*l-M*a*h+i*x*h+u*a*b-i*d*b)*F,n[7]=(u*g*l-p*d*l+p*a*h-i*g*h-u*a*y+i*d*y)*F,n[8]=C*F,n[9]=(M*v*l-p*_*l-M*o*y+i*_*y+p*o*b-i*v*b)*F,n[10]=(u*_*l-M*c*l+M*o*h-i*_*h-u*o*b+i*c*b)*F,n[11]=(p*c*l-u*v*l-p*o*h+i*v*h+u*o*y-i*c*y)*F,n[12]=P*F,n[13]=(p*_*a-M*v*a+M*o*g-i*_*g-p*o*x+i*v*x)*F,n[14]=(M*c*a-u*_*a-M*o*d+i*_*d+u*o*x-i*c*x)*F,n[15]=(u*v*a-p*c*a+p*o*d-i*v*d-u*o*g+i*c*g)*F,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,l=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*l,u*l+r*a,0,u*a+r*l,c*a+n,c*l-r*o,0,u*l-r*a,c*l+r*o,i*l*l+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,l=t._w,u=i+i,c=o+o,d=a+a,h=i*u,p=i*c,v=i*d,g=o*c,y=o*d,M=a*d,_=l*u,x=l*c,b=l*d,E=n.x,A=n.y,C=n.z;return r[0]=(1-(g+M))*E,r[1]=(p+b)*E,r[2]=(v-x)*E,r[3]=0,r[4]=(p-b)*A,r[5]=(1-(h+M))*A,r[6]=(y+_)*A,r[7]=0,r[8]=(v+x)*C,r[9]=(y-_)*C,r[10]=(1-(h+g))*C,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(){var e=new U,t=new je;return function(r,i,o){var a=this.elements,l=e.set(a[0],a[1],a[2]).length(),u=e.set(a[4],a[5],a[6]).length(),c=e.set(a[8],a[9],a[10]).length(),d=this.determinant();d<0&&(l=-l),r.x=a[12],r.y=a[13],r.z=a[14],t.copy(this);var h=1/l,p=1/u,v=1/c;return t.elements[0]*=h,t.elements[1]*=h,t.elements[2]*=h,t.elements[4]*=p,t.elements[5]*=p,t.elements[6]*=p,t.elements[8]*=v,t.elements[9]*=v,t.elements[10]*=v,i.setFromRotationMatrix(t),o.x=l,o.y=u,o.z=c,this}}(),makePerspective:function(e,t,n,r,i,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,l=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),d=(n+r)/(n-r),h=-(o+i)/(o-i),p=-2*o*i/(o-i);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,l=1/(t-e),u=1/(n-r),c=1/(o-i),d=(t+e)*l,h=(n+r)*u,p=(o+i)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});function Bn(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=r!==void 0?r:1}Object.assign(Bn,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var l=n[r+0],u=n[r+1],c=n[r+2],d=n[r+3],h=i[o+0],p=i[o+1],v=i[o+2],g=i[o+3];if(d!==g||l!==h||u!==p||c!==v){var y=1-a,M=l*h+u*p+c*v+d*g,_=M>=0?1:-1,x=1-M*M;if(x>Number.EPSILON){var b=Math.sqrt(x),E=Math.atan2(b,M*_);y=Math.sin(y*E)/b,a=Math.sin(a*E)/b}var A=a*_;if(l=l*y+h*A,u=u*y+p*A,c=c*y+v*A,d=d*y+g*A,y===1-a){var C=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=C,u*=C,c*=C,d*=C}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d}});Object.defineProperties(Bn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}});Object.assign(Bn.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,l=Math.sin,u=a(n/2),c=a(r/2),d=a(i/2),h=l(n/2),p=l(r/2),v=l(i/2);return o==="XYZ"?(this._x=h*c*d+u*p*v,this._y=u*p*d-h*c*v,this._z=u*c*v+h*p*d,this._w=u*c*d-h*p*v):o==="YXZ"?(this._x=h*c*d+u*p*v,this._y=u*p*d-h*c*v,this._z=u*c*v-h*p*d,this._w=u*c*d+h*p*v):o==="ZXY"?(this._x=h*c*d-u*p*v,this._y=u*p*d+h*c*v,this._z=u*c*v+h*p*d,this._w=u*c*d-h*p*v):o==="ZYX"?(this._x=h*c*d-u*p*v,this._y=u*p*d+h*c*v,this._z=u*c*v-h*p*d,this._w=u*c*d+h*p*v):o==="YZX"?(this._x=h*c*d+u*p*v,this._y=u*p*d+h*c*v,this._z=u*c*v-h*p*d,this._w=u*c*d-h*p*v):o==="XZY"&&(this._x=h*c*d-u*p*v,this._y=u*p*d-h*c*v,this._z=u*c*v+h*p*d,this._w=u*c*d+h*p*v),t!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],l=t[9],u=t[2],c=t[6],d=t[10],h=n+a+d,p;return h>0?(p=.5/Math.sqrt(h+1),this._w=.25/p,this._x=(c-l)*p,this._y=(i-u)*p,this._z=(o-r)*p):n>a&&n>d?(p=2*Math.sqrt(1+n-a-d),this._w=(c-l)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(i+u)/p):a>d?(p=2*Math.sqrt(1+a-n-d),this._w=(i-u)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(l+c)/p):(p=2*Math.sqrt(1+d-n-a),this._w=(o-r)/p,this._x=(i+u)/p,this._y=(l+c)/p,this._z=.25*p),this.onChangeCallback(),this},setFromUnitVectors:function(){var e=new U,t,n=1e-6;return function(i,o){return e===void 0&&(e=new U),t=i.dot(o)+1,t<n?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,o),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),angleTo:function(e){return 2*Math.acos(Math.abs(Xe.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(n===0)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,l=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*l,this._y=r*c+o*l+i*a-n*u,this._z=i*c+o*u+n*l-r*a,this._w=o*c-n*a-r*l-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var l=1-a*a;if(l<=Number.EPSILON){var u=1-t;return this._w=u*o+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize()}var c=Math.sqrt(l),d=Math.atan2(c,a),h=Math.sin((1-t)*d)/c,p=Math.sin(t*d)/c;return this._w=o*h+this._w*p,this._x=n*h+this._x*p,this._y=r*h+this._y*p,this._z=i*h+this._z*p,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return t===void 0&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}});function U(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign(U.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new Bn;return function(n){return n&&n.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(n))}}(),applyAxisAngle:function(){var e=new Bn;return function(n,r){return this.applyQuaternion(e.setFromAxisAngle(n,r))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*r-a*n,c=l*n+a*t-i*r,d=l*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*l+h*-i+c*-a-d*-o,this.y=c*l+h*-o+d*-i-u*-a,this.z=d*l+h*-a+u*-o-c*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new je;return function(n){return this.applyMatrix4(e.getInverse(n.projectionMatrix)).applyMatrix4(n.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new U,t=new U;return function(r,i){return e.set(r,r,r),t.set(i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-i*a,this.y=i*o-n*l,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new U;return function(n){return e.copy(this).projectOnVector(n),this.sub(e)}}(),reflect:function(){var e=new U;return function(n){return this.sub(e.copy(n).multiplyScalar(2*this.dot(n)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Xe.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});function ir(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(ir.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,l,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=l,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new U;return function(n){for(var r=0,i=n.count;r<i;r++)e.x=n.getX(r),e.y=n.getY(r),e.z=n.getZ(r),e.applyMatrix3(this),n.setXYZ(r,e.x,e.y,e.z);return n}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],l=n[6],u=n[1],c=n[4],d=n[7],h=n[2],p=n[5],v=n[8],g=r[0],y=r[3],M=r[6],_=r[1],x=r[4],b=r[7],E=r[2],A=r[5],C=r[8];return i[0]=o*g+a*_+l*E,i[3]=o*y+a*x+l*A,i[6]=o*M+a*b+l*C,i[1]=u*g+c*_+d*E,i[4]=u*y+c*x+d*A,i[7]=u*M+c*b+d*C,i[2]=h*g+p*_+v*E,i[5]=h*y+p*x+v*A,i[8]=h*M+p*b+v*C,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*l+r*i*u-r*o*l},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],l=n[3],u=n[4],c=n[5],d=n[6],h=n[7],p=n[8],v=p*u-c*h,g=c*d-p*l,y=h*l-u*d,M=i*v+o*g+a*y;if(M===0){var _="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(t===!0)throw new Error(_);return console.warn(_),this.identity()}var x=1/M;return r[0]=v*x,r[1]=(a*h-p*o)*x,r[2]=(c*o-a*u)*x,r[3]=g*x,r[4]=(p*i-a*d)*x,r[5]=(a*l-c*i)*x,r[6]=y*x,r[7]=(o*d-h*i)*x,r[8]=(u*i-o*l)*x,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var l=Math.cos(i),u=Math.sin(i);this.set(n*l,n*u,-n*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],l=r[1],u=r[4],c=r[7];return r[0]=t*i+n*l,r[3]=t*o+n*u,r[6]=t*a+n*c,r[1]=-n*i+t*l,r[4]=-n*o+t*u,r[7]=-n*a+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Rl,Ys={getDataURL:function(e){var t;if(typeof HTMLCanvasElement>"u")return e.src;if(e instanceof HTMLCanvasElement)t=e;else{Rl===void 0&&(Rl=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Rl.width=e.width,Rl.height=e.height;var n=Rl.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Rl}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},dY=0;function Vt(e,t,n,r,i,o,a,l,u,c){Object.defineProperty(this,"id",{value:dY++}),this.uuid=Xe.generateUUID(),this.name="",this.image=e!==void 0?e:Vt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:Vt.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:bi,this.wrapT=r!==void 0?r:bi,this.magFilter=i!==void 0?i:$n,this.minFilter=o!==void 0?o:Wg,this.anisotropy=u!==void 0?u:1,this.format=a!==void 0?a:wo,this.type=l!==void 0?l:td,this.offset=new ce(0,0),this.repeat=new ce(1,1),this.center=new ce(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ir,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c!==void 0?c:Lm,this.version=0,this.onUpdate=null}Vt.DEFAULT_IMAGE=void 0;Vt.DEFAULT_MAPPING=Eb;Vt.prototype=Object.assign(Object.create(us.prototype),{constructor:Vt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var r=this.image;if(r.uuid===void 0&&(r.uuid=Xe.generateUUID()),!t&&e.images[r.uuid]===void 0){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(Ys.getDataURL(r[o]))}else i=Ys.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==Eb)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ia:e.x=e.x-Math.floor(e.x);break;case bi:e.x=e.x<0?0:1;break;case Pu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ia:e.y=e.y-Math.floor(e.y);break;case bi:e.y=e.y<0?0:1;break;case Pu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(Vt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function Gt(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=r!==void 0?r:1}Object.assign(Gt.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=.1,l=e.elements,u=l[0],c=l[4],d=l[8],h=l[1],p=l[5],v=l[9],g=l[2],y=l[6],M=l[10];if(Math.abs(c-h)<o&&Math.abs(d-g)<o&&Math.abs(v-y)<o){if(Math.abs(c+h)<a&&Math.abs(d+g)<a&&Math.abs(v+y)<a&&Math.abs(u+p+M-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var _=(u+1)/2,x=(p+1)/2,b=(M+1)/2,E=(c+h)/4,A=(d+g)/4,C=(v+y)/4;return _>x&&_>b?_<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(_),r=E/n,i=A/n):x>b?x<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(x),n=E/r,i=C/r):b<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(b),n=A/i,r=C/i),this.set(n,r,i,t),this}var P=Math.sqrt((y-v)*(y-v)+(d-g)*(d-g)+(h-c)*(h-c));return Math.abs(P)<.001&&(P=1),this.x=(y-v)/P,this.y=(d-g)/P,this.z=(h-c)/P,this.w=Math.acos((u+p+M-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(r,i){return e===void 0&&(e=new Gt,t=new Gt),e.set(r,r,r,r),t.set(i,i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}});function Qi(e,t,n){this.width=e,this.height=t,this.scissor=new Gt(0,0,e,t),this.scissorTest=!1,this.viewport=new Gt(0,0,e,t),n=n||{},this.texture=new Vt(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:$n,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!0,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}Qi.prototype=Object.assign(Object.create(us.prototype),{constructor:Qi,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function zA(e,t,n){Qi.call(this,e,t,n),this.samples=4}zA.prototype=Object.assign(Object.create(Qi.prototype),{constructor:zA,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Qi.prototype.copy.call(this,e),this.samples=e.samples,this}});function id(e,t,n){Qi.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}id.prototype=Object.create(Qi.prototype);id.prototype.constructor=id;id.prototype.isWebGLRenderTargetCube=!0;function Lu(e,t,n,r,i,o,a,l,u,c,d,h){Vt.call(this,null,o,a,l,u,c,r,i,d,h),this.image={data:e,width:t,height:n},this.magFilter=u!==void 0?u:zn,this.minFilter=c!==void 0?c:zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}Lu.prototype=Object.create(Vt.prototype);Lu.prototype.constructor=Lu;Lu.prototype.isDataTexture=!0;function es(e,t){this.min=e!==void 0?e:new U(1/0,1/0,1/0),this.max=t!==void 0?t:new U(-1/0,-1/0,-1/0)}Object.assign(es.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,l=0,u=e.length;l<u;l+=3){var c=e[l],d=e[l+1],h=e[l+2];c<t&&(t=c),d<n&&(n=d),h<r&&(r=h),c>i&&(i=c),d>o&&(o=d),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,l=0,u=e.count;l<u;l++){var c=e.getX(l),d=e.getY(l),h=e.getZ(l);c<t&&(t=c),d<n&&(n=d),h<r&&(r=h),c>i&&(i=c),d>o&&(o=d),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new U;return function(n,r){var i=e.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(i),this.max.copy(n).add(i),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new U),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new U),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,n,r=new U;function i(o){var a=o.geometry;if(a!==void 0){if(a.isGeometry){var l=a.vertices;for(t=0,n=l.length;t<n;t++)r.copy(l[t]),r.applyMatrix4(o.matrixWorld),e.expandByPoint(r)}else if(a.isBufferGeometry){var u=a.attributes.position;if(u!==void 0)for(t=0,n=u.count;t<n;t++)r.fromBufferAttribute(u,t).applyMatrix4(o.matrixWorld),e.expandByPoint(r)}}}return function(a){return e=this,a.updateMatrixWorld(!0),a.traverse(i),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new U),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new U;return function(n){return this.clampPoint(n.center,e),e.distanceToSquared(n.center)<=n.radius*n.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new U,t=new U,n=new U,r=new U,i=new U,o=new U,a=new U,l=new U,u=new U,c=new U;function d(h){var p,v;for(p=0,v=h.length-3;p<=v;p+=3){a.fromArray(h,p);var g=u.x*Math.abs(a.x)+u.y*Math.abs(a.y)+u.z*Math.abs(a.z),y=e.dot(a),M=t.dot(a),_=n.dot(a);if(Math.max(-Math.max(y,M,_),Math.min(y,M,_))>g)return!1}return!0}return function(p){if(this.isEmpty())return!1;this.getCenter(l),u.subVectors(this.max,l),e.subVectors(p.a,l),t.subVectors(p.b,l),n.subVectors(p.c,l),r.subVectors(t,e),i.subVectors(n,t),o.subVectors(e,n);var v=[0,-r.z,r.y,0,-i.z,i.y,0,-o.z,o.y,r.z,0,-r.x,i.z,0,-i.x,o.z,0,-o.x,-r.y,r.x,0,-i.y,i.x,0,-o.y,o.x,0];return!d(v)||(v=[1,0,0,0,1,0,0,0,1],!d(v))?!1:(c.crossVectors(r,i),v=[c.x,c.y,c.z],d(v))}}(),clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new U),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new U;return function(n){var r=e.copy(n).clamp(this.min,this.max);return r.sub(n).length()}}(),getBoundingSphere:function(){var e=new U;return function(n){return n===void 0&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),n=new bo),this.getCenter(n.center),n.radius=this.getSize(e).length()*.5,n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new U,new U,new U,new U,new U,new U,new U,new U];return function(n){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function bo(e,t){this.center=e!==void 0?e:new U,this.radius=t!==void 0?t:0}Object.assign(bo.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new es;return function(n,r){var i=this.center;r!==void 0?i.copy(r):e.setFromPoints(n).getCenter(i);for(var o=0,a=0,l=n.length;a<l;a++)o=Math.max(o,i.distanceToSquared(n[a]));return this.radius=Math.sqrt(o),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new U),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new es),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});function Go(e,t){this.normal=e!==void 0?e:new U(1,0,0),this.constant=t!==void 0?t:0}Object.assign(Go.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new U,t=new U;return function(r,i,o){var a=e.subVectors(o,i).cross(t.subVectors(r,i)).normalize();return this.setFromNormalAndCoplanarPoint(a,r),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new U),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new U;return function(n,r){r===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),r=new U);var i=n.delta(e),o=this.normal.dot(i);if(o===0)return this.distanceToPoint(n.start)===0?r.copy(n.start):void 0;var a=-(n.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return r.copy(i).multiplyScalar(a).add(n.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new U),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new U,t=new ir;return function(r,i){var o=i||t.getNormalMatrix(r),a=this.coplanarPoint(e).applyMatrix4(r),l=this.normal.applyMatrix3(o).normalize();return this.constant=-a.dot(l),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});function Rb(e,t,n,r,i,o){this.planes=[e!==void 0?e:new Go,t!==void 0?t:new Go,n!==void 0?n:new Go,r!==void 0?r:new Go,i!==void 0?i:new Go,o!==void 0?o:new Go]}Object.assign(Rb.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],l=n[4],u=n[5],c=n[6],d=n[7],h=n[8],p=n[9],v=n[10],g=n[11],y=n[12],M=n[13],_=n[14],x=n[15];return t[0].setComponents(a-r,d-l,g-h,x-y).normalize(),t[1].setComponents(a+r,d+l,g+h,x+y).normalize(),t[2].setComponents(a+i,d+u,g+p,x+M).normalize(),t[3].setComponents(a-i,d-u,g-p,x-M).normalize(),t[4].setComponents(a-o,d-c,g-v,x-_).normalize(),t[5].setComponents(a+o,d+c,g+v,x+_).normalize(),this},intersectsObject:function(){var e=new bo;return function(n){var r=n.geometry;return r.boundingSphere===null&&r.computeBoundingSphere(),e.copy(r.boundingSphere).applyMatrix4(n.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new bo;return function(n){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(n.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){var o=t[i].distanceToPoint(n);if(o<r)return!1}return!0},intersectsBox:function(){var e=new U;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];if(e.x=o.normal.x>0?n.max.x:n.min.x,e.y=o.normal.y>0?n.max.y:n.min.y,e.z=o.normal.z>0?n.max.z:n.min.z,o.distanceToPoint(e)<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});const hY=`
#ifdef USE_ALPHAMAP

	diffuseColor.a *= texture2D( alphaMap, vUv ).g;

#endif
`,pY=`
#ifdef USE_ALPHAMAP

	uniform sampler2D alphaMap;

#endif
`,mY=`
#ifdef ALPHATEST

	if ( diffuseColor.a < ALPHATEST ) discard;

#endif
`,vY=`
#ifdef USE_AOMAP

	// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;

	reflectedLight.indirectDiffuse *= ambientOcclusion;

	#if defined( USE_ENVMAP ) && defined( PHYSICAL )

		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );

		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );

	#endif

#endif
`,gY=`
#ifdef USE_AOMAP

	uniform sampler2D aoMap;
	uniform float aoMapIntensity;

#endif
`,yY=`
vec3 transformed = vec3( position );
`,_Y=`
vec3 objectNormal = vec3( normal );
`,xY=`
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {

#if defined ( PHYSICALLY_CORRECT_LIGHTS )

	// based upon Frostbite 3 Moving to Physically-based Rendering
	// page 32, equation 26: E[window1]
	// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
	// this is intended to be used on spot and point lights who are represented as luminous intensity
	// but who must be converted to luminous irradiance for surface lighting calculation
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );

	if( cutoffDistance > 0.0 ) {

		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );

	}

	return distanceFalloff;

#else

	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {

		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );

	}

	return 1.0;

#endif

}

vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {

	return RECIPROCAL_PI * diffuseColor;

} // validated

vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {

	// Original approximation by Christophe Schlick '94
	// float fresnel = pow( 1.0 - dotLH, 5.0 );

	// Optimized variant (presented by Epic at SIGGRAPH '13)
	// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );

	return ( 1.0 - specularColor ) * fresnel + specularColor;

} // validated

// Microfacet Models for Refraction through Rough Surfaces - equation (34)
// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html
// alpha is "roughness squared" in Disneys reparameterization
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {

	// geometry term (normalized) = G(l)G(v) / 4(nl)(nv)
	// also see #12151

	float a2 = pow2( alpha );

	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );

	return 1.0 / ( gl * gv );

} // validated

// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2
// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {

	float a2 = pow2( alpha );

	// dotNL and dotNV are explicitly swapped. This is not a mistake.
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );

	return 0.5 / max( gv + gl, EPSILON );

}

// Microfacet Models for Refraction through Rough Surfaces - equation (33)
// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html
// alpha is "roughness squared" in Disneys reparameterization
float D_GGX( const in float alpha, const in float dotNH ) {

	float a2 = pow2( alpha );

	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1

	return RECIPROCAL_PI * a2 / pow2( denom );

}

// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {

	float alpha = pow2( roughness ); // UE4's roughness

	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );

	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );

	vec3 F = F_Schlick( specularColor, dotLH );

	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );

	float D = D_GGX( alpha, dotNH );

	return F * ( G * D );

} // validated

// Rect Area Light

// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines
// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt
// code: https://github.com/selfshadow/ltc_code/

vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {

	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;

	float dotNV = saturate( dot( N, V ) );

	// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );

	uv = uv * LUT_SCALE + LUT_BIAS;

	return uv;

}

float LTC_ClippedSphereFormFactor( const in vec3 f ) {

	// Real-Time Area Lighting: a Journey from Research to Production (p.102)
	// An approximation of the form factor of a horizon-clipped rectangle.

	float l = length( f );

	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );

}

vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {

	float x = dot( v1, v2 );

	float y = abs( x );

	// rational polynomial approximation to theta / sin( theta ) / 2PI
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;

	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;

	return cross( v1, v2 ) * theta_sintheta;

}

vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {

	// bail if point is on back side of plane of light
	// assumes ccw winding order of light vertices
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );

	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );

	// construct orthonormal basis around N
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system

	// compute transform
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );

	// transform rect
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );

	// project rect onto sphere
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );

	// calculate vector form factor
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );

	// adjust for horizon clipping
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );

/*
	// alternate method of adjusting for horizon clipping (see referece)
	// refactoring required
	float len = length( vectorFormFactor );
	float z = vectorFormFactor.z / len;

	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;

	// tabulated horizon-clipped sphere, apparently...
	vec2 uv = vec2( z * 0.5 + 0.5, len );
	uv = uv * LUT_SCALE + LUT_BIAS;

	float scale = texture2D( ltc_2, uv ).w;

	float result = len * scale;
*/

	return vec3( result );

}

// End Rect Area Light

// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile
vec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {

	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );

	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );

	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );

	vec4 r = roughness * c0 + c1;

	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;

	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;

	return specularColor * AB.x + AB.y;

} // validated


float G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {

	// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)
	return 0.25;

}

float D_BlinnPhong( const in float shininess, const in float dotNH ) {

	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );

}

vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {

	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );

	//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );
	//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );

	vec3 F = F_Schlick( specularColor, dotLH );

	float G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );

	float D = D_BlinnPhong( shininess, dotNH );

	return F * ( G * D );

} // validated

// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}

float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
`,wY=`
#ifdef USE_BUMPMAP

	uniform sampler2D bumpMap;
	uniform float bumpScale;

	// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen
	// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf

	// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)

	vec2 dHdxy_fwd() {

		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );

		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;

		return vec2( dBx, dBy );

	}

	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {

		// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988

		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;		// normalized

		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );

		float fDet = dot( vSigmaX, R1 );

		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );

		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );

	}

#endif
`,bY=`
#if NUM_CLIPPING_PLANES > 0

	vec4 plane;

	#pragma unroll_loop
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {

		plane = clippingPlanes[ i ];
		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;

	}

	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES

		bool clipped = true;

		#pragma unroll_loop
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {

			plane = clippingPlanes[ i ];
			clipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;

		}

		if ( clipped ) discard;

	#endif

#endif
`,SY=`
#if NUM_CLIPPING_PLANES > 0

	#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
		varying vec3 vViewPosition;
	#endif

	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];

#endif
`,EY=`
#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
	varying vec3 vViewPosition;
#endif
`,MY=`
#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )
	vViewPosition = - mvPosition.xyz;
#endif
`,AY=`
#ifdef USE_COLOR

	diffuseColor.rgb *= vColor;

#endif
`,TY=`
#ifdef USE_COLOR

	varying vec3 vColor;

#endif
`,PY=`
#ifdef USE_COLOR

	varying vec3 vColor;

#endif
`,CY=`
#ifdef USE_COLOR

	vColor.xyz = color.xyz;

#endif
`,LY=`
#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6

#define saturate(a) clamp( a, 0.0, 1.0 )
#define whiteCompliment(a) ( 1.0 - saturate( a ) )

float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.
// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}

struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};

struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};

struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
};

vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

}

// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {

	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );

}

vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {

	float distance = dot( planeNormal, point - pointOnPlane );

	return - distance * planeNormal + point;

}

float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {

	return sign( dot( point - pointOnPlane, planeNormal ) );

}

vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {

	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;

}

mat3 transposeMat3( const in mat3 m ) {

	mat3 tmp;

	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );

	return tmp;

}

// https://en.wikipedia.org/wiki/Relative_luminance
float linearToRelativeLuminance( const in vec3 color ) {

	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );

	return dot( weights, color.rgb );

}
`,RY=`
#ifdef ENVMAP_TYPE_CUBE_UV

#define cubeUV_textureSize (1024.0)

int getFaceFromDirection(vec3 direction) {
	vec3 absDirection = abs(direction);
	int face = -1;
	if( absDirection.x > absDirection.z ) {
		if(absDirection.x > absDirection.y )
			face = direction.x > 0.0 ? 0 : 3;
		else
			face = direction.y > 0.0 ? 1 : 4;
	}
	else {
		if(absDirection.z > absDirection.y )
			face = direction.z > 0.0 ? 2 : 5;
		else
			face = direction.y > 0.0 ? 1 : 4;
	}
	return face;
}
#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)
#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))

vec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {
	float scale = exp2(cubeUV_maxLods1 - roughnessLevel);
	float dxRoughness = dFdx(roughness);
	float dyRoughness = dFdy(roughness);
	vec3 dx = dFdx( vec * scale * dxRoughness );
	vec3 dy = dFdy( vec * scale * dyRoughness );
	float d = max( dot( dx, dx ), dot( dy, dy ) );
	// Clamp the value to the max mip level counts. hard coded to 6 mips
	d = clamp(d, 1.0, cubeUV_rangeClamp);
	float mipLevel = 0.5 * log2(d);
	return vec2(floor(mipLevel), fract(mipLevel));
}

#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)
#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)

vec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {
	mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;
	float a = 16.0 * cubeUV_rcpTextureSize;

	vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );
	vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;
	// float powScale = exp2(roughnessLevel + mipLevel);
	float powScale = exp2_packed.x * exp2_packed.y;
	// float scale =  1.0 / exp2(roughnessLevel + 2.0 + mipLevel);
	float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;
	// float mipOffset = 0.75*(1.0 - 1.0/exp2(mipLevel))/exp2(roughnessLevel);
	float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;

	bool bRes = mipLevel == 0.0;
	scale =  bRes && (scale < a) ? a : scale;

	vec3 r;
	vec2 offset;
	int face = getFaceFromDirection(direction);

	float rcpPowScale = 1.0 / powScale;

	if( face == 0) {
		r = vec3(direction.x, -direction.z, direction.y);
		offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 1) {
		r = vec3(direction.y, direction.x, direction.z);
		offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 2) {
		r = vec3(direction.z, direction.x, direction.y);
		offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;
	}
	else if( face == 3) {
		r = vec3(direction.x, direction.z, direction.y);
		offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	else if( face == 4) {
		r = vec3(direction.y, direction.x, -direction.z);
		offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	else {
		r = vec3(direction.z, -direction.x, direction.y);
		offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;
	}
	r = normalize(r);
	float texelOffset = 0.5 * cubeUV_rcpTextureSize;
	vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;
	vec2 base = offset + vec2( texelOffset );
	return base + s * ( scale - 2.0 * texelOffset );
}

#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)

vec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {
	float roughnessVal = roughness* cubeUV_maxLods3;
	float r1 = floor(roughnessVal);
	float r2 = r1 + 1.0;
	float t = fract(roughnessVal);
	vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);
	float s = mipInfo.y;
	float level0 = mipInfo.x;
	float level1 = level0 + 1.0;
	level1 = level1 > 5.0 ? 5.0 : level1;

	// round to nearest mipmap if we are not interpolating.
	level0 += min( floor( s + 0.5 ), 5.0 );

	// Tri linear interpolation.
	vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);
	vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));

	vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);
	vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));

	vec4 result = mix(color10, color20, t);

	return vec4(result.rgb, 1.0);
}

#endif
`,OY=`
vec3 transformedNormal = normalMatrix * objectNormal;

#ifdef FLIP_SIDED

	transformedNormal = - transformedNormal;

#endif
`,NY=`
#ifdef USE_DISPLACEMENTMAP

	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;

#endif
`,kY=`
#ifdef USE_DISPLACEMENTMAP

	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );

#endif
`,IY=`
#ifdef USE_EMISSIVEMAP

	vec4 emissiveColor = texture2D( emissiveMap, vUv );

	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;

	totalEmissiveRadiance *= emissiveColor.rgb;

#endif
`,DY=`
#ifdef USE_EMISSIVEMAP

	uniform sampler2D emissiveMap;

#endif
`,FY=`
  gl_FragColor = linearToOutputTexel( gl_FragColor );
`,BY=`
// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/

vec4 LinearToLinear( in vec4 value ) {
	return value;
}

vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}

vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}

vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}

vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}

vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}

vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );
}

// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}

vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}

// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}

vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = min( floor( D ) / 255.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}

// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html

// M matrix, for encoding
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}

// Inverse M matrix, for decoding
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}
`,zY=`
#ifdef USE_ENVMAP

	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )

		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );

		// Transforming Normal Vectors with the Inverse Transformation
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );

		#ifdef ENVMAP_MODE_REFLECTION

			vec3 reflectVec = reflect( cameraToVertex, worldNormal );

		#else

			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );

		#endif

	#else

		vec3 reflectVec = vReflect;

	#endif

	#ifdef ENVMAP_TYPE_CUBE

		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );

	#elif defined( ENVMAP_TYPE_EQUIREC )

		vec2 sampleUV;

		reflectVec = normalize( reflectVec );

		sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;

		sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;

		vec4 envColor = texture2D( envMap, sampleUV );

	#elif defined( ENVMAP_TYPE_SPHERE )

		reflectVec = normalize( reflectVec );

		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );

		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );

	#else

		vec4 envColor = vec4( 0.0 );

	#endif

	envColor = envMapTexelToLinear( envColor );

	#ifdef ENVMAP_BLENDING_MULTIPLY

		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );

	#elif defined( ENVMAP_BLENDING_MIX )

		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );

	#elif defined( ENVMAP_BLENDING_ADD )

		outgoingLight += envColor.xyz * specularStrength * reflectivity;

	#endif

#endif
`,UY=`
#if defined( USE_ENVMAP ) || defined( PHYSICAL )
	uniform float reflectivity;
	uniform float envMapIntensity;
#endif

#ifdef USE_ENVMAP

	#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )
		varying vec3 vWorldPosition;
	#endif

	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	uniform float flipEnvMap;
	uniform int maxMipLevel;

	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif

#endif
`,jY=`
#ifdef USE_ENVMAP

	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		varying vec3 vWorldPosition;

	#else

		varying vec3 vReflect;
		uniform float refractionRatio;

	#endif

#endif
`,HY=`
#ifdef USE_ENVMAP

	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )

		vWorldPosition = worldPosition.xyz;

	#else

		vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );

		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );

		#ifdef ENVMAP_MODE_REFLECTION

			vReflect = reflect( cameraToVertex, worldNormal );

		#else

			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );

		#endif

	#endif

#endif
`,GY=`
#ifdef USE_FOG

	fogDepth = -mvPosition.z;

#endif
`,VY=`
#ifdef USE_FOG

	varying float fogDepth;

#endif
`,WY=`
#ifdef USE_FOG

	#ifdef FOG_EXP2

		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );

	#else

		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );

	#endif

	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );

#endif
`,$Y=`
#ifdef USE_FOG

	uniform vec3 fogColor;
	varying float fogDepth;

	#ifdef FOG_EXP2

		uniform float fogDensity;

	#else

		uniform float fogNear;
		uniform float fogFar;

	#endif

#endif
`,YY=`
#ifdef TOON

	uniform sampler2D gradientMap;

	vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {

		// dotNL will be from -1.0 to 1.0
		float dotNL = dot( normal, lightDirection );
		vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );

		#ifdef USE_GRADIENTMAP

			return texture2D( gradientMap, coord ).rgb;

		#else

			return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );

		#endif


	}

#endif
`,ZY=`
#ifdef USE_LIGHTMAP

	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage

#endif
`,XY=`
#ifdef USE_LIGHTMAP

	uniform sampler2D lightMap;
	uniform float lightMapIntensity;

#endif
`,qY=`
vec3 diffuse = vec3( 1.0 );

GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = normalize( -mvPosition.xyz );

GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;

vLightFront = vec3( 0.0 );

#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
#endif

IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;

#if NUM_POINT_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );

		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;

		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;

		#ifdef DOUBLE_SIDED

			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;

		#endif

	}

#endif

#if NUM_SPOT_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );

		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;

		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;

		#ifdef DOUBLE_SIDED

			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;

		#endif
	}

#endif

/*
#if NUM_RECT_AREA_LIGHTS > 0

	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {

		// TODO (abelnation): implement

	}

#endif
*/

#if NUM_DIR_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );

		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;

		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;

		#ifdef DOUBLE_SIDED

			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;

		#endif

	}

#endif

#if NUM_HEMI_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {

		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );

		#ifdef DOUBLE_SIDED

			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );

		#endif

	}

#endif
`,KY=`
uniform vec3 ambientLightColor;

vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {

	vec3 irradiance = ambientLightColor;

	#ifndef PHYSICALLY_CORRECT_LIGHTS

		irradiance *= PI;

	#endif

	return irradiance;

}

#if NUM_DIR_LIGHTS > 0

	struct DirectionalLight {
		vec3 direction;
		vec3 color;

		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};

	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];

	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {

		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;

	}

#endif


#if NUM_POINT_LIGHTS > 0

	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;

		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
		float shadowCameraNear;
		float shadowCameraFar;
	};

	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];

	// directLight is an out parameter as having it as a return value caused compiler errors on some devices
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {

		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );

		float lightDistance = length( lVector );

		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );

	}

#endif


#if NUM_SPOT_LIGHTS > 0

	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;

		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};

	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];

	// directLight is an out parameter as having it as a return value caused compiler errors on some devices
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {

		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );

		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );

		if ( angleCos > spotLight.coneCos ) {

			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );

			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;

		} else {

			directLight.color = vec3( 0.0 );
			directLight.visible = false;

		}
	}

#endif


#if NUM_RECT_AREA_LIGHTS > 0

	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};

	// Pre-computed values of LinearTransformedCosine approximation of BRDF
	// BRDF approximation Texture is 64x64
	uniform sampler2D ltc_1; // RGBA Float
	uniform sampler2D ltc_2; // RGBA Float

	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];

#endif


#if NUM_HEMI_LIGHTS > 0

	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};

	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];

	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {

		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;

		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );

		#ifndef PHYSICALLY_CORRECT_LIGHTS

			irradiance *= PI;

		#endif

		return irradiance;

	}

#endif
`,JY=`
#if defined( USE_ENVMAP ) && defined( PHYSICAL )

	vec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {

		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );

		#ifdef ENVMAP_TYPE_CUBE

			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );

			// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level
			// of a specular cubemap, or just the default level of a specially created irradiance cubemap.

			#ifdef TEXTURE_LOD_EXT

				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );

			#else

				// force the bias high to get the last LOD level as it is the most blurred.
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );

			#endif

			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;

		#elif defined( ENVMAP_TYPE_CUBE_UV )

			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			vec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );

		#else

			vec4 envMapColor = vec4( 0.0 );

		#endif

		return PI * envMapColor.rgb * envMapIntensity;

	}

	// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html
	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {

		//float envMapWidth = pow( 2.0, maxMIPLevelScalar );
		//float desiredMIPLevel = log2( envMapWidth * sqrt( 3.0 ) ) - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );

		float maxMIPLevelScalar = float( maxMIPLevel );
		float desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );

		// clamp to allowable LOD ranges.
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );

	}

	vec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {

		#ifdef ENVMAP_MODE_REFLECTION

			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );

		#else

			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );

		#endif

		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );

		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );

		#ifdef ENVMAP_TYPE_CUBE

			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );

			#ifdef TEXTURE_LOD_EXT

				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );

			#else

				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );

			#endif

			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;

		#elif defined( ENVMAP_TYPE_CUBE_UV )

			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			vec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));

		#elif defined( ENVMAP_TYPE_EQUIREC )

			vec2 sampleUV;
			sampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
			sampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;

			#ifdef TEXTURE_LOD_EXT

				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );

			#else

				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );

			#endif

			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;

		#elif defined( ENVMAP_TYPE_SPHERE )

			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );

			#ifdef TEXTURE_LOD_EXT

				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );

			#else

				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );

			#endif

			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;

		#endif

		return envMapColor.rgb * envMapIntensity;

	}

#endif
`,QY=`
BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;
`,eZ=`
varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif


struct BlinnPhongMaterial {

	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;

};

void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {

	#ifdef TOON

		vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;

	#else

		float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
		vec3 irradiance = dotNL * directLight.color;

	#endif

	#ifndef PHYSICALLY_CORRECT_LIGHTS

		irradiance *= PI; // punctual light

	#endif

	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );

	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;

}

void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {

	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );

}

#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong

#define Material_LightProbeLOD( material )	(0)
`,tZ=`
PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );
#ifdef STANDARD
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
	material.clearCoat = saturate( clearCoat ); // Burley clearcoat model
	material.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );
#endif
`,nZ=`
struct PhysicalMaterial {

	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;

	#ifndef STANDARD
		float clearCoat;
		float clearCoatRoughness;
	#endif

};

#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04

// Clear coat directional hemishperical reflectance (this approximation should be improved)
float clearCoatDHRApprox( const in float roughness, const in float dotNL ) {

	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );

}

#if NUM_RECT_AREA_LIGHTS > 0

	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {

		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;

		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight; // counterclockwise; light shines in local neg z direction
		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;

		vec2 uv = LTC_Uv( normal, viewDir, roughness );

		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );

		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);

		// LTC Fresnel Approximation by Stephen Hill
		// http://blog.selfshadow.com/publications/s2016-advances/s2016_ltc_fresnel.pdf
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );

		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );

		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );

	}

#endif

void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {

	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );

	vec3 irradiance = dotNL * directLight.color;

	#ifndef PHYSICALLY_CORRECT_LIGHTS

		irradiance *= PI; // punctual light

	#endif

	#ifndef STANDARD
		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );
	#else
		float clearCoatDHR = 0.0;
	#endif

	reflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );

	reflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );

	#ifndef STANDARD

		reflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );

	#endif

}

void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {

	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );

}

void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {

	#ifndef STANDARD
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		float dotNL = dotNV;
		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );
	#else
		float clearCoatDHR = 0.0;
	#endif

	reflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );

	#ifndef STANDARD

		reflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );

	#endif

}

#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical

#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )
#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )

// ref: https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {

	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );

}
`,rZ=`
/**
 * This is a template that can be used to light a material, it uses pluggable
 * RenderEquations (RE)for specific lighting scenarios.
 *
 * Instructions for use:
 * - Ensure that both RE_Direct, RE_IndirectDiffuse and RE_IndirectSpecular are defined
 * - If you have defined an RE_IndirectSpecular, you need to also provide a Material_LightProbeLOD. <---- ???
 * - Create a material parameter that is to be passed as the third parameter to your lighting functions.
 *
 * TODO:
 * - Add area light support.
 * - Add sphere light support.
 * - Add diffuse light probe (irradiance cubemap) support.
 */

GeometricContext geometry;

geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = normalize( vViewPosition );

IncidentLight directLight;

#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )

	PointLight pointLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		pointLight = pointLights[ i ];

		getPointDirectLightIrradiance( pointLight, geometry, directLight );

		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
		#endif

		RE_Direct( directLight, geometry, material, reflectedLight );

	}

#endif

#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )

	SpotLight spotLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		spotLight = spotLights[ i ];

		getSpotDirectLightIrradiance( spotLight, geometry, directLight );

		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif

		RE_Direct( directLight, geometry, material, reflectedLight );

	}

#endif

#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )

	DirectionalLight directionalLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		directionalLight = directionalLights[ i ];

		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );

		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif

		RE_Direct( directLight, geometry, material, reflectedLight );

	}

#endif

#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )

	RectAreaLight rectAreaLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {

		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );

	}

#endif

#if defined( RE_IndirectDiffuse )

	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );

	#if ( NUM_HEMI_LIGHTS > 0 )

		#pragma unroll_loop
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {

			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );

		}

	#endif

#endif

#if defined( RE_IndirectSpecular )

	vec3 radiance = vec3( 0.0 );
	vec3 clearCoatRadiance = vec3( 0.0 );

#endif
`,iZ=`
#if defined( RE_IndirectDiffuse )

	#ifdef USE_LIGHTMAP

		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;

		#ifndef PHYSICALLY_CORRECT_LIGHTS

			lightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage

		#endif

		irradiance += lightMapIrradiance;

	#endif

	#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )

		irradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );

	#endif

#endif

#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )

	radiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_BlinnShininessExponent( material ), maxMipLevel );

	#ifndef STANDARD
		clearCoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );
	#endif

#endif
`,oZ=`
#if defined( RE_IndirectDiffuse )

	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );

#endif

#if defined( RE_IndirectSpecular )

	RE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );

#endif
`,aZ=`
#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )

	gl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;

#endif
`,sZ=`
#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )

	uniform float logDepthBufFC;
	varying float vFragDepth;

#endif
`,lZ=`
#ifdef USE_LOGDEPTHBUF

	#ifdef USE_LOGDEPTHBUF_EXT

		varying float vFragDepth;

	#else

		uniform float logDepthBufFC;

	#endif

#endif
`,uZ=`
#ifdef USE_LOGDEPTHBUF

	#ifdef USE_LOGDEPTHBUF_EXT

		vFragDepth = 1.0 + gl_Position.w;

	#else

		gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;

		gl_Position.z *= gl_Position.w;

	#endif

#endif
`,cZ=`
#ifdef USE_MAP

	vec4 texelColor = texture2D( map, vUv );

	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;

#endif
`,fZ=`
#ifdef USE_MAP

	uniform sampler2D map;

#endif
`,dZ=`
#ifdef USE_MAP

	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );

#endif
`,hZ=`
#ifdef USE_MAP

	uniform mat3 uvTransform;
	uniform sampler2D map;

#endif
`,pZ=`
float metalnessFactor = metalness;

#ifdef USE_METALNESSMAP

	vec4 texelMetalness = texture2D( metalnessMap, vUv );

	// reads channel B, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
	metalnessFactor *= texelMetalness.b;

#endif
`,mZ=`
#ifdef USE_METALNESSMAP

	uniform sampler2D metalnessMap;

#endif
`,vZ=`
#ifdef USE_MORPHNORMALS

	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];
	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];
	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];
	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];

#endif
`,gZ=`
#ifdef USE_MORPHTARGETS

	#ifndef USE_MORPHNORMALS

	uniform float morphTargetInfluences[ 8 ];

	#else

	uniform float morphTargetInfluences[ 4 ];

	#endif

#endif
`,yZ=`
#ifdef USE_MORPHTARGETS

	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];
	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];
	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];
	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];

	#ifndef USE_MORPHNORMALS

	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];
	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];
	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];
	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];

	#endif

#endif
`,_Z=`
#ifdef FLAT_SHADED

	// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...

	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );

#else

	vec3 normal = normalize( vNormal );

	#ifdef DOUBLE_SIDED

		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );

	#endif

#endif
`,xZ=`
#ifdef USE_NORMALMAP

	#ifdef OBJECTSPACE_NORMALMAP

		normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals

		#ifdef FLIP_SIDED

			normal = - normal;

		#endif

		#ifdef DOUBLE_SIDED

			normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );

		#endif

		normal = normalize( normalMatrix * normal );

	#else // tangent-space normal map

		normal = perturbNormal2Arb( -vViewPosition, normal );

	#endif

#elif defined( USE_BUMPMAP )

	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );

#endif
`,wZ=`
#ifdef USE_NORMALMAP

	uniform sampler2D normalMap;
	uniform vec2 normalScale;

	#ifdef OBJECTSPACE_NORMALMAP

		uniform mat3 normalMatrix;

	#else

		// Per-Pixel Tangent Space Normal Mapping
		// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html

		vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {

			// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988

			vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
			vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
			vec2 st0 = dFdx( vUv.st );
			vec2 st1 = dFdy( vUv.st );

			float scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude

			vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
			vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
			vec3 N = normalize( surf_norm );
			mat3 tsn = mat3( S, T, N );

			vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;

			mapN.xy *= normalScale;
			mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );

			return normalize( tsn * mapN );

		}

	#endif

#endif
`,bZ=`
vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}

vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}

const float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)
const float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)

const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );

const float ShiftRight8 = 1. / 256.;

vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8; // tidy overflow
	return r * PackUpscale;
}

float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}

// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions

float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}

float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}
`,SZ=`
#ifdef PREMULTIPLIED_ALPHA

	// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.
	gl_FragColor.rgb *= gl_FragColor.a;

#endif
`,EZ=`
vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );

gl_Position = projectionMatrix * mvPosition;
`,MZ=`
#if defined( DITHERING )

  gl_FragColor.rgb = dithering( gl_FragColor.rgb );

#endif
`,AZ=`
#if defined( DITHERING )

	// based on https://www.shadertoy.com/view/MslGR8
	vec3 dithering( vec3 color ) {
		//Calculate grid position
		float grid_position = rand( gl_FragCoord.xy );

		//Shift the individual colors differently, thus making it even harder to see the dithering pattern
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );

		//modify shift acording to grid position.
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );

		//shift the color by dither_shift
		return color + dither_shift_RGB;
	}

#endif
`,TZ=`
float roughnessFactor = roughness;

#ifdef USE_ROUGHNESSMAP

	vec4 texelRoughness = texture2D( roughnessMap, vUv );

	// reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
	roughnessFactor *= texelRoughness.g;

#endif
`,PZ=`
#ifdef USE_ROUGHNESSMAP

	uniform sampler2D roughnessMap;

#endif
`,CZ=`
#ifdef USE_SHADOWMAP

	#if NUM_DIR_LIGHTS > 0

		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];

	#endif

	#if NUM_SPOT_LIGHTS > 0

		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];

	#endif

	#if NUM_POINT_LIGHTS > 0

		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];

	#endif

	/*
	#if NUM_RECT_AREA_LIGHTS > 0

		// TODO (abelnation): create uniforms for area light shadows

	#endif
	*/

	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {

		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );

	}

	float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {

		const vec2 offset = vec2( 0.0, 1.0 );

		vec2 texelSize = vec2( 1.0 ) / size;
		vec2 centroidUV = floor( uv * size + 0.5 ) / size;

		float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );
		float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );
		float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );
		float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );

		vec2 f = fract( uv * size + 0.5 );

		float a = mix( lb, lt, f.y );
		float b = mix( rb, rt, f.y );
		float c = mix( a, b, f.x );

		return c;

	}

	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {

		float shadow = 1.0;

		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;

		// if ( something && something ) breaks ATI OpenGL shader compiler
		// if ( all( something, something ) ) using this instead

		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );

		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );

		bool frustumTest = all( frustumTestVec );

		if ( frustumTest ) {

		#if defined( SHADOWMAP_TYPE_PCF )

			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;

			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;

			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );

		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )

			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;

			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;

			shadow = (
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );

		#else // no percentage-closer filtering:

			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );

		#endif

		}

		return shadow;

	}

	// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D
	// vector suitable for 2D texture mapping. This code uses the following layout for the
	// 2D texture:
	//
	// xzXZ
	//  y Y
	//
	// Y - Positive y direction
	// y - Negative y direction
	// X - Positive x direction
	// x - Negative x direction
	// Z - Positive z direction
	// z - Negative z direction
	//
	// Source and test bed:
	// https://gist.github.com/tschw/da10c43c467ce8afd0c4

	vec2 cubeToUV( vec3 v, float texelSizeY ) {

		// Number of texels to avoid at the edge of each square

		vec3 absV = abs( v );

		// Intersect unit cube

		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;

		// Apply scale to avoid seams

		// two texels less per square (one texel will do for NEAREST)
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );

		// Unwrap

		// space: -1 ... 1 range for each square
		//
		// #X##		dim    := ( 4 , 2 )
		//  # #		center := ( 1 , 1 )

		vec2 planar = v.xy;

		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;

		if ( absV.z >= almostOne ) {

			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;

		} else if ( absV.x >= almostOne ) {

			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;

		} else if ( absV.y >= almostOne ) {

			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;

		}

		// Transform to UV space

		// scale := 0.5 / dim
		// translate := ( center + 0.5 ) / dim
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );

	}

	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {

		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );

		// for point lights, the uniform @vShadowCoord is re-purposed to hold
		// the vector from the light to the world-space position of the fragment.
		vec3 lightToPosition = shadowCoord.xyz;

		// dp = normalized distance from light to fragment position
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?
		dp += shadowBias;

		// bd3D = base direction 3D
		vec3 bd3D = normalize( lightToPosition );

		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )

			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;

			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );

		#else // no percentage-closer filtering

			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );

		#endif

	}

#endif
`,LZ=`
#ifdef USE_SHADOWMAP

	#if NUM_DIR_LIGHTS > 0

		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];

	#endif

	#if NUM_SPOT_LIGHTS > 0

		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];

	#endif

	#if NUM_POINT_LIGHTS > 0

		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];

	#endif

	/*
	#if NUM_RECT_AREA_LIGHTS > 0

		// TODO (abelnation): uniforms for area light shadows

	#endif
	*/

#endif
`,RZ=`
#ifdef USE_SHADOWMAP

	#if NUM_DIR_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;

	}

	#endif

	#if NUM_SPOT_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;

	}

	#endif

	#if NUM_POINT_LIGHTS > 0

	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;

	}

	#endif

	/*
	#if NUM_RECT_AREA_LIGHTS > 0

		// TODO (abelnation): update vAreaShadowCoord with area light info

	#endif
	*/

#endif
`,OZ=`
float getShadowMask() {

	float shadow = 1.0;

	#ifdef USE_SHADOWMAP

	#if NUM_DIR_LIGHTS > 0

	DirectionalLight directionalLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		directionalLight = directionalLights[ i ];
		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;

	}

	#endif

	#if NUM_SPOT_LIGHTS > 0

	SpotLight spotLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		spotLight = spotLights[ i ];
		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;

	}

	#endif

	#if NUM_POINT_LIGHTS > 0

	PointLight pointLight;

	#pragma unroll_loop
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		pointLight = pointLights[ i ];
		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;

	}

	#endif

	/*
	#if NUM_RECT_AREA_LIGHTS > 0

		// TODO (abelnation): update shadow for Area light

	#endif
	*/

	#endif

	return shadow;

}
`,NZ=`
#ifdef USE_SKINNING

	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );

#endif
`,kZ=`
#ifdef USE_SKINNING

	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;

	#ifdef BONE_TEXTURE

		uniform sampler2D boneTexture;
		uniform int boneTextureSize;

		mat4 getBoneMatrix( const in float i ) {

			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );

			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );

			y = dy * ( y + 0.5 );

			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );

			mat4 bone = mat4( v1, v2, v3, v4 );

			return bone;

		}

	#else

		uniform mat4 boneMatrices[ MAX_BONES ];

		mat4 getBoneMatrix( const in float i ) {

			mat4 bone = boneMatrices[ int(i) ];
			return bone;

		}

	#endif

#endif
`,IZ=`
#ifdef USE_SKINNING

	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );

	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;

	transformed = ( bindMatrixInverse * skinned ).xyz;

#endif
`,DZ=`
#ifdef USE_SKINNING

	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;

	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;

#endif
`,FZ=`
float specularStrength;

#ifdef USE_SPECULARMAP

	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;

#else

	specularStrength = 1.0;

#endif
`,BZ=`
#ifdef USE_SPECULARMAP

	uniform sampler2D specularMap;

#endif
`,zZ=`
#if defined( TONE_MAPPING )

  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );

#endif
`,UZ=`
#ifndef saturate
	#define saturate(a) clamp( a, 0.0, 1.0 )
#endif

uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;

// exposure only
vec3 LinearToneMapping( vec3 color ) {

	return toneMappingExposure * color;

}

// source: https://www.cs.utah.edu/~reinhard/cdrom/
vec3 ReinhardToneMapping( vec3 color ) {

	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );

}

// source: http://filmicgames.com/archives/75
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {

	// John Hable's filmic operator from Uncharted 2 video game
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );

}

// source: http://filmicgames.com/archives/75
vec3 OptimizedCineonToneMapping( vec3 color ) {

	// optimized filmic operator by Jim Hejl and Richard Burgess-Dawson
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );

}

// source: https://knarkowicz.wordpress.com/2016/01/06/aces-filmic-tone-mapping-curve/
vec3 ACESFilmicToneMapping( vec3 color ) {

	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );

}
`,jZ=`
#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )

	varying vec2 vUv;

#endif
`,HZ=`
#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )

	varying vec2 vUv;
	uniform mat3 uvTransform;

#endif
`,GZ=`
#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )

	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;

#endif
`,VZ=`
#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )

	varying vec2 vUv2;

#endif
`,WZ=`
#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )

	attribute vec2 uv2;
	varying vec2 vUv2;

#endif
`,$Z=`
#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )

	vUv2 = uv2;

#endif
`,YZ=`
#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )

	vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );

#endif
`,ZZ=`
uniform sampler2D t2D;

varying vec2 vUv;

void main() {

	vec4 texColor = texture2D( t2D, vUv );

	gl_FragColor = mapTexelToLinear( texColor );

	#include <tonemapping_fragment>
	#include <encodings_fragment>

}
`,XZ=`
varying vec2 vUv;
uniform mat3 uvTransform;

void main() {

	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;

	gl_Position = vec4( position.xy, 1.0, 1.0 );

}
`,qZ=`
uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;

varying vec3 vWorldDirection;

void main() {

	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );

	gl_FragColor = mapTexelToLinear( texColor );
	gl_FragColor.a *= opacity;

	#include <tonemapping_fragment>
	#include <encodings_fragment>

}
`,KZ=`
varying vec3 vWorldDirection;

#include <common>

void main() {

	vWorldDirection = transformDirection( position, modelMatrix );

	#include <begin_vertex>
	#include <project_vertex>

	gl_Position.z = gl_Position.w; // set z to camera.far

}
`,JZ=`
#if DEPTH_PACKING == 3200

	uniform float opacity;

#endif

#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( 1.0 );

	#if DEPTH_PACKING == 3200

		diffuseColor.a = opacity;

	#endif

	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>

	#include <logdepthbuf_fragment>

	#if DEPTH_PACKING == 3200

		gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );

	#elif DEPTH_PACKING == 3201

		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );

	#endif

}
`,QZ=`
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>

	#include <skinbase_vertex>

	#ifdef USE_DISPLACEMENTMAP

		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>

	#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>

}
`,eX=`
#define DISTANCE

uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;

#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>

void main () {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( 1.0 );

	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>

	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist ); // clamp to [ 0, 1 ]

	gl_FragColor = packDepthToRGBA( dist );

}
`,tX=`
#define DISTANCE

varying vec3 vWorldPosition;

#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>

	#include <skinbase_vertex>

	#ifdef USE_DISPLACEMENTMAP

		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>

	#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>

	vWorldPosition = worldPosition.xyz;

}
`,nX=`
uniform sampler2D tEquirect;

varying vec3 vWorldDirection;

#include <common>

void main() {

	vec3 direction = normalize( vWorldDirection );

	vec2 sampleUV;

	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;

	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;

	vec4 texColor = texture2D( tEquirect, sampleUV );

	gl_FragColor = mapTexelToLinear( texColor );

	#include <tonemapping_fragment>
	#include <encodings_fragment>

}
`,rX=`
varying vec3 vWorldDirection;

#include <common>

void main() {

	vWorldDirection = transformDirection( position, modelMatrix );

	#include <begin_vertex>
	#include <project_vertex>

}
`,iX=`
uniform vec3 diffuse;
uniform float opacity;

uniform float dashSize;
uniform float totalSize;

varying float vLineDistance;

#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	if ( mod( vLineDistance, totalSize ) > dashSize ) {

		discard;

	}

	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );

	#include <logdepthbuf_fragment>
	#include <color_fragment>

	outgoingLight = diffuseColor.rgb; // simple shader

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>

}
`,oX=`
uniform float scale;
attribute float lineDistance;

varying float vLineDistance;

#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <color_vertex>

	vLineDistance = scale * lineDistance;

	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
	gl_Position = projectionMatrix * mvPosition;

	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>

}
`,aX=`
uniform vec3 diffuse;
uniform float opacity;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( diffuse, opacity );

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>

	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );

	// accumulation (baked indirect lighting only)
	#ifdef USE_LIGHTMAP

		reflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;

	#else

		reflectedLight.indirectDiffuse += vec3( 1.0 );

	#endif

	// modulation
	#include <aomap_fragment>

	reflectedLight.indirectDiffuse *= diffuseColor.rgb;

	vec3 outgoingLight = reflectedLight.indirectDiffuse;

	#include <envmap_fragment>

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>

}
`,sX=`
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>

	#ifdef USE_ENVMAP

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

	#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>

	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>

}
`,lX=`
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;

varying vec3 vLightFront;

#ifdef DOUBLE_SIDED

	varying vec3 vLightBack;

#endif

#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>

	// accumulation
	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );

	#include <lightmap_fragment>

	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );

	#ifdef DOUBLE_SIDED

		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;

	#else

		reflectedLight.directDiffuse = vLightFront;

	#endif

	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();

	// modulation
	#include <aomap_fragment>

	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;

	#include <envmap_fragment>

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>

}
`,uX=`
#define LAMBERT

varying vec3 vLightFront;

#ifdef DOUBLE_SIDED

	varying vec3 vLightBack;

#endif

#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>

	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>

}
`,cX=`
#define MATCAP

uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;

varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>

#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( diffuse, opacity );

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>

	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks

	#ifdef USE_MATCAP

		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );

	#else

		vec4 matcapColor = vec4( 1.0 );

	#endif

	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>

}
`,fX=`
#define MATCAP

varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>

#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

	#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED

		vNormal = normalize( transformedNormal );

	#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>

	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>

	vViewPosition = - mvPosition.xyz;

}
`,dX=`
#define PHONG

uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;

#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>

	// accumulation
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>

	// modulation
	#include <aomap_fragment>

	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;

	#include <envmap_fragment>

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>

}
`,hX=`
#define PHONG

varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED

	vNormal = normalize( transformedNormal );

#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>

	vViewPosition = - mvPosition.xyz;

	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>

}
`,pX=`
#define PHYSICAL

uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;

#ifndef STANDARD
	uniform float clearCoat;
	uniform float clearCoatRoughness;
#endif

varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>

	// accumulation
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>

	// modulation
	#include <aomap_fragment>

	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>

}
`,mX=`
#define PHYSICAL

varying vec3 vViewPosition;

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED

	vNormal = normalize( transformedNormal );

#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>

	vViewPosition = - mvPosition.xyz;

	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>

}
`,vX=`
#define NORMAL

uniform float opacity;

#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )

	varying vec3 vViewPosition;

#endif

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>

void main() {

	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>

	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );

}
`,gX=`
#define NORMAL

#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )

	varying vec3 vViewPosition;

#endif

#ifndef FLAT_SHADED

	varying vec3 vNormal;

#endif

#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>

void main() {

	#include <uv_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>

#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED

	vNormal = normalize( transformedNormal );

#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>

#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )

	vViewPosition = - mvPosition.xyz;

#endif

}
`,yX=`
uniform vec3 diffuse;
uniform float opacity;

#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );

	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>

	outgoingLight = diffuseColor.rgb;

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>

}
`,_X=`
uniform float size;
uniform float scale;

#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>

	gl_PointSize = size;

	#ifdef USE_SIZEATTENUATION

		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );

		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );

	#endif

	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>

}
`,xX=`
uniform vec3 color;
uniform float opacity;

#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>

void main() {

	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );

	#include <fog_fragment>

}
`,wX=`
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>

void main() {

	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>

}
`,bX=`
uniform vec3 diffuse;
uniform float opacity;

#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	#include <clipping_planes_fragment>

	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphatest_fragment>

	outgoingLight = diffuseColor.rgb;

	gl_FragColor = vec4( outgoingLight, diffuseColor.a );

	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>

}
`,SX=`
uniform float rotation;
uniform vec2 center;

#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	#include <uv_vertex>

	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );

	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

	#ifndef USE_SIZEATTENUATION

		bool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );

		if ( isPerspective ) scale *= - mvPosition.z;

	#endif

	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;

	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;

	mvPosition.xy += rotatedPosition;

	gl_Position = projectionMatrix * mvPosition;

	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>

}
`;var dt={alphamap_fragment:hY,alphamap_pars_fragment:pY,alphatest_fragment:mY,aomap_fragment:vY,aomap_pars_fragment:gY,begin_vertex:yY,beginnormal_vertex:_Y,bsdfs:xY,bumpmap_pars_fragment:wY,clipping_planes_fragment:bY,clipping_planes_pars_fragment:SY,clipping_planes_pars_vertex:EY,clipping_planes_vertex:MY,color_fragment:AY,color_pars_fragment:TY,color_pars_vertex:PY,color_vertex:CY,common:LY,cube_uv_reflection_fragment:RY,defaultnormal_vertex:OY,displacementmap_pars_vertex:NY,displacementmap_vertex:kY,emissivemap_fragment:IY,emissivemap_pars_fragment:DY,encodings_fragment:FY,encodings_pars_fragment:BY,envmap_fragment:zY,envmap_pars_fragment:UY,envmap_pars_vertex:jY,envmap_physical_pars_fragment:JY,envmap_vertex:HY,fog_vertex:GY,fog_pars_vertex:VY,fog_fragment:WY,fog_pars_fragment:$Y,gradientmap_pars_fragment:YY,lightmap_fragment:ZY,lightmap_pars_fragment:XY,lights_lambert_vertex:qY,lights_pars_begin:KY,lights_phong_fragment:QY,lights_phong_pars_fragment:eZ,lights_physical_fragment:tZ,lights_physical_pars_fragment:nZ,lights_fragment_begin:rZ,lights_fragment_maps:iZ,lights_fragment_end:oZ,logdepthbuf_fragment:aZ,logdepthbuf_pars_fragment:sZ,logdepthbuf_pars_vertex:lZ,logdepthbuf_vertex:uZ,map_fragment:cZ,map_pars_fragment:fZ,map_particle_fragment:dZ,map_particle_pars_fragment:hZ,metalnessmap_fragment:pZ,metalnessmap_pars_fragment:mZ,morphnormal_vertex:vZ,morphtarget_pars_vertex:gZ,morphtarget_vertex:yZ,normal_fragment_begin:_Z,normal_fragment_maps:xZ,normalmap_pars_fragment:wZ,packing:bZ,premultiplied_alpha_fragment:SZ,project_vertex:EZ,dithering_fragment:MZ,dithering_pars_fragment:AZ,roughnessmap_fragment:TZ,roughnessmap_pars_fragment:PZ,shadowmap_pars_fragment:CZ,shadowmap_pars_vertex:LZ,shadowmap_vertex:RZ,shadowmask_pars_fragment:OZ,skinbase_vertex:NZ,skinning_pars_vertex:kZ,skinning_vertex:IZ,skinnormal_vertex:DZ,specularmap_fragment:FZ,specularmap_pars_fragment:BZ,tonemapping_fragment:zZ,tonemapping_pars_fragment:UZ,uv_pars_fragment:jZ,uv_pars_vertex:HZ,uv_vertex:GZ,uv2_pars_fragment:VZ,uv2_pars_vertex:WZ,uv2_vertex:$Z,worldpos_vertex:YZ,background_frag:ZZ,background_vert:XZ,cube_frag:qZ,cube_vert:KZ,depth_frag:JZ,depth_vert:QZ,distanceRGBA_frag:eX,distanceRGBA_vert:tX,equirect_frag:nX,equirect_vert:rX,linedashed_frag:iX,linedashed_vert:oX,meshbasic_frag:aX,meshbasic_vert:sX,meshlambert_frag:lX,meshlambert_vert:uX,meshmatcap_frag:cX,meshmatcap_vert:fX,meshphong_frag:dX,meshphong_vert:hX,meshphysical_frag:pX,meshphysical_vert:mX,normal_frag:vX,normal_vert:gX,points_frag:yX,points_vert:_X,shadow_frag:xX,shadow_vert:wX,sprite_frag:bX,sprite_vert:SX};function od(e){var t={};for(var n in e){t[n]={};for(var r in e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Gr(e){for(var t={},n=0;n<e.length;n++){var r=od(e[n]);for(var i in r)t[i]=r[i]}return t}var EX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ie(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}Object.assign(Ie.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*6*(2/3-r):t}return function(n,r,i){if(n=Xe.euclideanModulo(n,1),r=Xe.clamp(r,0,1),i=Xe.clamp(i,0,1),r===0)this.r=this.g=this.b=i;else{var o=i<=.5?i*(1+r):i+r-i*r,a=2*i-o;this.r=e(a,o,n+1/3),this.g=e(a,o,n),this.b=e(a,o,n-1/3)}return this}}(),setStyle:function(e){function t(h){h!==void 0&&parseFloat(h)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,l,u)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=n[1],d=c.length;if(d===3)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(d===6)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(e&&e.length>0){var c=EX[e];c!==void 0?this.setHex(c):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return t===void 0&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){t===void 0&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}return function(n){return this.r=e(n.r),this.g=e(n.g),this.b=e(n.b),this}}(),copyLinearToSRGB:function(){function e(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}return function(n){return this.r=e(n.r),this.g=e(n.g),this.b=e(n.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t=this.r,n=this.g,r=this.b,i=Math.max(t,n,r),o=Math.min(t,n,r),a,l,u=(o+i)/2;if(o===i)a=0,l=0;else{var c=i-o;switch(l=u<=.5?c/(i+o):c/(2-i-o),i){case t:a=(n-r)/c+(n<r?6:0);break;case n:a=(r-t)/c+2;break;case r:a=(t-n)/c+4;break}a/=6}return e.h=a,e.s=l,e.l=u,e},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(){var e={};return function(t,n,r){return this.getHSL(e),e.h+=t,e.s+=n,e.l+=r,this.setHSL(e.h,e.s,e.l),this}}(),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(){var e={h:0,s:0,l:0},t={h:0,s:0,l:0};return function(r,i){this.getHSL(e),r.getHSL(t);var o=Xe.lerp(e.h,t.h,i),a=Xe.lerp(e.s,t.s,i),l=Xe.lerp(e.l,t.l,i);return this.setHSL(o,a,l),this}}(),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return t===void 0&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Oe={common:{diffuse:{value:new Ie(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ir},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ce(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ie(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Ie(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ir}},sprite:{diffuse:{value:new Ie(15658734)},opacity:{value:1},center:{value:new ce(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new ir}}},Vo={basic:{uniforms:Gr([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.fog]),vertexShader:dt.meshbasic_vert,fragmentShader:dt.meshbasic_frag},lambert:{uniforms:Gr([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.fog,Oe.lights,{emissive:{value:new Ie(0)}}]),vertexShader:dt.meshlambert_vert,fragmentShader:dt.meshlambert_frag},phong:{uniforms:Gr([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.gradientmap,Oe.fog,Oe.lights,{emissive:{value:new Ie(0)},specular:{value:new Ie(1118481)},shininess:{value:30}}]),vertexShader:dt.meshphong_vert,fragmentShader:dt.meshphong_frag},standard:{uniforms:Gr([Oe.common,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.roughnessmap,Oe.metalnessmap,Oe.fog,Oe.lights,{emissive:{value:new Ie(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:dt.meshphysical_vert,fragmentShader:dt.meshphysical_frag},matcap:{uniforms:Gr([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,{matcap:{value:null}}]),vertexShader:dt.meshmatcap_vert,fragmentShader:dt.meshmatcap_frag},points:{uniforms:Gr([Oe.points,Oe.fog]),vertexShader:dt.points_vert,fragmentShader:dt.points_frag},dashed:{uniforms:Gr([Oe.common,Oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dt.linedashed_vert,fragmentShader:dt.linedashed_frag},depth:{uniforms:Gr([Oe.common,Oe.displacementmap]),vertexShader:dt.depth_vert,fragmentShader:dt.depth_frag},normal:{uniforms:Gr([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,{opacity:{value:1}}]),vertexShader:dt.normal_vert,fragmentShader:dt.normal_frag},sprite:{uniforms:Gr([Oe.sprite,Oe.fog]),vertexShader:dt.sprite_vert,fragmentShader:dt.sprite_frag},background:{uniforms:{uvTransform:{value:new ir},t2D:{value:null}},vertexShader:dt.background_vert,fragmentShader:dt.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:dt.cube_vert,fragmentShader:dt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:dt.equirect_vert,fragmentShader:dt.equirect_frag},distanceRGBA:{uniforms:Gr([Oe.common,Oe.displacementmap,{referencePosition:{value:new U},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:dt.distanceRGBA_vert,fragmentShader:dt.distanceRGBA_frag},shadow:{uniforms:Gr([Oe.lights,Oe.fog,{color:{value:new Ie(0)},opacity:{value:1}}]),vertexShader:dt.shadow_vert,fragmentShader:dt.shadow_frag}};Vo.physical={uniforms:Gr([Vo.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:dt.meshphysical_vert,fragmentShader:dt.meshphysical_frag};function Ob(){var e=null,t=!1,n=null;function r(i,o){t!==!1&&(n(i,o),e.requestAnimationFrame(r))}return{start:function(){t!==!0&&n!==null&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(i){n=i},setContext:function(i){e=i}}}function MX(e){var t=new WeakMap;function n(l,u){var c=l.array,d=l.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,h=e.createBuffer();e.bindBuffer(u,h),e.bufferData(u,c,d),l.onUploadCallback();var p=e.FLOAT;return c instanceof Float32Array?p=e.FLOAT:c instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):c instanceof Uint16Array?p=e.UNSIGNED_SHORT:c instanceof Int16Array?p=e.SHORT:c instanceof Uint32Array?p=e.UNSIGNED_INT:c instanceof Int32Array?p=e.INT:c instanceof Int8Array?p=e.BYTE:c instanceof Uint8Array&&(p=e.UNSIGNED_BYTE),{buffer:h,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:l.version}}function r(l,u,c){var d=u.array,h=u.updateRange;e.bindBuffer(c,l),u.dynamic===!1?e.bufferData(c,d,e.STATIC_DRAW):h.count===-1?e.bufferSubData(c,0,d):h.count===0?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(c,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1)}function i(l){return l.isInterleavedBufferAttribute&&(l=l.data),t.get(l)}function o(l){l.isInterleavedBufferAttribute&&(l=l.data);var u=t.get(l);u&&(e.deleteBuffer(u.buffer),t.delete(l))}function a(l,u){l.isInterleavedBufferAttribute&&(l=l.data);var c=t.get(l);c===void 0?t.set(l,n(l,u)):c.version<l.version&&(r(c.buffer,l,u),c.version=l.version)}return{get:i,remove:o,update:a}}function Rm(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new U,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Ie,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=o!==void 0?o:0}Object.assign(Rm.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});function oc(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||oc.DefaultOrder}oc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];oc.DefaultOrder="XYZ";Object.defineProperties(oc.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}});Object.assign(oc.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Xe.clamp,i=e.elements,o=i[0],a=i[4],l=i[8],u=i[1],c=i[5],d=i[9],h=i[2],p=i[6],v=i[10];return t=t||this._order,t==="XYZ"?(this._y=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,c),this._z=0)):t==="YXZ"?(this._x=Math.asin(-r(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(l,v),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,o),this._z=0)):t==="ZXY"?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-h,v),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):t==="ZYX"?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(p,v),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):t==="YZX"?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(l,v))):t==="XZY"?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(p,c),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,v),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,n!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new je;return function(n,r,i){return e.makeRotationFromQuaternion(n),this.setFromRotationMatrix(e,r,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new Bn;return function(n){return e.setFromEuler(this),this.setFromQuaternion(e,n)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new U(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}});function wO(){this.mask=1}Object.assign(wO.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return(this.mask&e.mask)!==0}});var AX=0;function we(){Object.defineProperty(this,"id",{value:AX++}),this.uuid=Xe.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=we.DefaultUp.clone();var e=new U,t=new oc,n=new Bn,r=new U(1,1,1);function i(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t.onChange(i),n.onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new je},normalMatrix:{value:new ir}}),this.matrix=new je,this.matrixWorld=new je,this.matrixAutoUpdate=we.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new wO,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}we.DefaultUp=new U(0,1,0);we.DefaultMatrixAutoUpdate=!0;we.prototype=Object.assign(Object.create(us.prototype),{constructor:we,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new Bn;return function(n,r){return e.setFromAxisAngle(n,r),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new Bn;return function(n,r){return e.setFromAxisAngle(n,r),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new U(1,0,0);return function(n){return this.rotateOnAxis(e,n)}}(),rotateY:function(){var e=new U(0,1,0);return function(n){return this.rotateOnAxis(e,n)}}(),rotateZ:function(){var e=new U(0,0,1);return function(n){return this.rotateOnAxis(e,n)}}(),translateOnAxis:function(){var e=new U;return function(n,r){return e.copy(n).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(r)),this}}(),translateX:function(){var e=new U(1,0,0);return function(n){return this.translateOnAxis(e,n)}}(),translateY:function(){var e=new U(0,1,0);return function(n){return this.translateOnAxis(e,n)}}(),translateZ:function(){var e=new U(0,0,1);return function(n){return this.translateOnAxis(e,n)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new je;return function(n){return n.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new Bn,t=new je,n=new U,r=new U;return function(o,a,l){o.isVector3?n.copy(o):n.set(o,a,l);var u=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),u&&(t.extractRotation(u.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return n!==-1&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(e,t);if(o!==void 0)return o}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new U),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new U,t=new U;return function(r){return r===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),r=new Bn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldScale:function(){var e=new U,t=new Bn;return function(r){return r===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),r=new U),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new U),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1);function i(M,_){return M[_.uuid]===void 0&&(M[_.uuid]=_.toJSON(e)),_.uuid}if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){var a=o.shapes;if(Array.isArray(a))for(var l=0,u=a.length;l<u;l++){var c=a[l];i(e.shapes,c)}else i(e.shapes,a)}}if(this.material!==void 0)if(Array.isArray(this.material)){for(var d=[],l=0,u=this.material.length;l<u;l++)d.push(i(e.materials,this.material[l]));r.material=d}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(t){var h=y(e.geometries),p=y(e.materials),v=y(e.textures),g=y(e.images),a=y(e.shapes);h.length>0&&(n.geometries=h),p.length>0&&(n.materials=p),v.length>0&&(n.textures=v),g.length>0&&(n.images=g),a.length>0&&(n.shapes=a)}return n.object=r,n;function y(M){var _=[];for(var x in M){var b=M[x];delete b.metadata,_.push(b)}return _}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var TX=0;function He(){Object.defineProperty(this,"id",{value:TX+=2}),this.uuid=Xe.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}He.prototype=Object.assign(Object.create(us.prototype),{constructor:He,isGeometry:!0,applyMatrix:function(e){for(var t=new ir().getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){var i=this.vertices[n];i.applyMatrix4(e)}for(var n=0,r=this.faces.length;n<r;n++){var o=this.faces[n];o.normal.applyMatrix3(t).normalize();for(var a=0,l=o.vertexNormals.length;a<l;a++)o.vertexNormals[a].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new je;return function(n){return e.makeRotationX(n),this.applyMatrix(e),this}}(),rotateY:function(){var e=new je;return function(n){return e.makeRotationY(n),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new je;return function(n){return e.makeRotationZ(n),this.applyMatrix(e),this}}(),translate:function(){var e=new je;return function(n,r,i){return e.makeTranslation(n,r,i),this.applyMatrix(e),this}}(),scale:function(){var e=new je;return function(n,r,i){return e.makeScale(n,r,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new we;return function(n){e.lookAt(n),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){var t=this,n=e.index!==null?e.index.array:void 0,r=e.attributes,i=r.position.array,o=r.normal!==void 0?r.normal.array:void 0,a=r.color!==void 0?r.color.array:void 0,l=r.uv!==void 0?r.uv.array:void 0,u=r.uv2!==void 0?r.uv2.array:void 0;u!==void 0&&(this.faceVertexUvs[1]=[]);for(var c=0,d=0;c<i.length;c+=3,d+=2)t.vertices.push(new U().fromArray(i,c)),a!==void 0&&t.colors.push(new Ie().fromArray(a,c));function h(_,x,b,E){var A=a===void 0?[]:[t.colors[_].clone(),t.colors[x].clone(),t.colors[b].clone()],C=o===void 0?[]:[new U().fromArray(o,_*3),new U().fromArray(o,x*3),new U().fromArray(o,b*3)],P=new Rm(_,x,b,C,A,E);t.faces.push(P),l!==void 0&&t.faceVertexUvs[0].push([new ce().fromArray(l,_*2),new ce().fromArray(l,x*2),new ce().fromArray(l,b*2)]),u!==void 0&&t.faceVertexUvs[1].push([new ce().fromArray(u,_*2),new ce().fromArray(u,x*2),new ce().fromArray(u,b*2)])}var p=e.groups;if(p.length>0)for(var c=0;c<p.length;c++)for(var v=p[c],g=v.start,y=v.count,d=g,M=g+y;d<M;d+=3)n!==void 0?h(n[d],n[d+1],n[d+2],v.materialIndex):h(d,d+1,d+2,v.materialIndex);else if(n!==void 0)for(var c=0;c<n.length;c+=3)h(n[c],n[c+1],n[c+2]);else for(var c=0;c<i.length/3;c+=3)h(c,c+1,c+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){var e=new U;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,r=new je;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new U,t=new U,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],l=this.vertices[i.c];e.subVectors(l,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);var t,n,r,i,o,a;for(a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new U;if(e){var l,u,c,d=new U,h=new U;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],l=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],d.subVectors(c,u),h.subVectors(l,u),d.cross(h),a[o.a].add(d),a[o.b].add(d),a[o.c].add(d)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var p=o.vertexNormals;p.length===3?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){n=this.faces[e];var r=n.vertexNormals;r.length===3?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new He;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals,c,d;for(n=0,r=this.faces.length;n<r;n++)c=new U,d={a:new U,b:new U,c:new U},a.push(c),l.push(d)}var u=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var c,d;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=u.faceNormals[n],d=u.vertexNormals[n],c.copy(i.normal),d.a.copy(i.vertexNormals[0]),d.b.copy(i.vertexNormals[1]),d.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new es),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new bo),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}var r,i=this.vertices.length,o=this.vertices,a=e.vertices,l=this.faces,u=e.faces,c=this.faceVertexUvs[0],d=e.faceVertexUvs[0],h=this.colors,p=e.colors;n===void 0&&(n=0),t!==void 0&&(r=new ir().getNormalMatrix(t));for(var v=0,g=a.length;v<g;v++){var y=a[v],M=y.clone();t!==void 0&&M.applyMatrix4(t),o.push(M)}for(var v=0,g=p.length;v<g;v++)h.push(p[v].clone());for(v=0,g=u.length;v<g;v++){var _=u[v],x,b,E,A=_.vertexNormals,C=_.vertexColors;x=new Rm(_.a+i,_.b+i,_.c+i),x.normal.copy(_.normal),r!==void 0&&x.normal.applyMatrix3(r).normalize();for(var P=0,R=A.length;P<R;P++)b=A[P].clone(),r!==void 0&&b.applyMatrix3(r).normalize(),x.vertexNormals.push(b);x.color.copy(_.color);for(var P=0,R=C.length;P<R;P++)E=C[P],x.vertexColors.push(E.clone());x.materialIndex=_.materialIndex+n,l.push(x)}for(v=0,g=d.length;v<g;v++){var N=d[v],F=[];if(N!==void 0){for(var P=0,R=N.length;P<R;P++)F.push(N[P].clone());c.push(F)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e={},t=[],n=[],r,i,o=4,a=Math.pow(10,o),l,u,c,d,h,p;for(l=0,u=this.vertices.length;l<u;l++)r=this.vertices[l],i=Math.round(r.x*a)+"_"+Math.round(r.y*a)+"_"+Math.round(r.z*a),e[i]===void 0?(e[i]=l,t.push(this.vertices[l]),n[l]=t.length-1):n[l]=n[e[i]];var v=[];for(l=0,u=this.faces.length;l<u;l++){c=this.faces[l],c.a=n[c.a],c.b=n[c.b],c.c=n[c.c],d=[c.a,c.b,c.c];for(var g=0;g<3;g++)if(d[g]===d[(g+1)%3]){v.push(l);break}}for(l=v.length-1;l>=0;l--){var y=v[l];for(this.faces.splice(y,1),h=0,p=this.faceVertexUvs.length;h<p;h++)this.faceVertexUvs[h].splice(y,1)}var M=this.vertices.length-t.length;return this.vertices=t,M},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new U(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;function r(c,d){return c.materialIndex-d.materialIndex}e.sort(r);var i=this.faceVertexUvs[0],o=this.faceVertexUvs[1],a,l;i&&i.length===t&&(a=[]),o&&o.length===t&&(l=[]);for(var n=0;n<t;n++){var u=e[n]._id;a&&a.push(i[u]),l&&l.push(o[u])}a&&(this.faceVertexUvs[0]=a),l&&(this.faceVertexUvs[1]=l)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){var t=this.parameters;for(var n in t)t[n]!==void 0&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}for(var a=[],l=[],u={},c=[],d={},h=[],p={},i=0;i<this.faces.length;i++){var v=this.faces[i],g=!0,y=!1,M=this.faceVertexUvs[0][i]!==void 0,_=v.normal.length()>0,x=v.vertexNormals.length>0,b=v.color.r!==1||v.color.g!==1||v.color.b!==1,E=v.vertexColors.length>0,A=0;if(A=N(A,0,0),A=N(A,1,g),A=N(A,2,y),A=N(A,3,M),A=N(A,4,_),A=N(A,5,x),A=N(A,6,b),A=N(A,7,E),a.push(A),a.push(v.a,v.b,v.c),a.push(v.materialIndex),M){var C=this.faceVertexUvs[0][i];a.push(G(C[0]),G(C[1]),G(C[2]))}if(_&&a.push(F(v.normal)),x){var P=v.vertexNormals;a.push(F(P[0]),F(P[1]),F(P[2]))}if(b&&a.push(z(v.color)),E){var R=v.vertexColors;a.push(z(R[0]),z(R[1]),z(R[2]))}}function N(K,W,$){return $?K|1<<W:K&~(1<<W)}function F(K){var W=K.x.toString()+K.y.toString()+K.z.toString();return u[W]!==void 0||(u[W]=l.length/3,l.push(K.x,K.y,K.z)),u[W]}function z(K){var W=K.r.toString()+K.g.toString()+K.b.toString();return d[W]!==void 0||(d[W]=c.length,c.push(K.getHex())),d[W]}function G(K){var W=K.x.toString()+K.y.toString();return p[W]!==void 0||(p[W]=h.length/2,h.push(K.x,K.y)),p[W]}return e.data={},e.data.vertices=r,e.data.normals=l,c.length>0&&(e.data.colors=c),h.length>0&&(e.data.uvs=[h]),e.data.faces=a,e},clone:function(){return new He().copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var l=e.vertices;for(t=0,n=l.length;t<n;t++)this.vertices.push(l[t].clone());var u=e.colors;for(t=0,n=u.length;t<n;t++)this.colors.push(u[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var d=e.faceVertexUvs[t];for(this.faceVertexUvs[t]===void 0&&(this.faceVertexUvs[t]=[]),r=0,i=d.length;r<i;r++){var h=d[r],p=[];for(o=0,a=h.length;o<a;o++){var v=h[o];p.push(v.clone())}this.faceVertexUvs[t].push(p)}}var g=e.morphTargets;for(t=0,n=g.length;t<n;t++){var y={};if(y.name=g[t].name,g[t].vertices!==void 0)for(y.vertices=[],r=0,i=g[t].vertices.length;r<i;r++)y.vertices.push(g[t].vertices[r].clone());if(g[t].normals!==void 0)for(y.normals=[],r=0,i=g[t].normals.length;r<i;r++)y.normals.push(g[t].normals[r].clone());this.morphTargets.push(y)}var M=e.morphNormals;for(t=0,n=M.length;t<n;t++){var _={};if(M[t].vertexNormals!==void 0)for(_.vertexNormals=[],r=0,i=M[t].vertexNormals.length;r<i;r++){var x=M[t].vertexNormals[r],b={};b.a=x.a.clone(),b.b=x.b.clone(),b.c=x.c.clone(),_.vertexNormals.push(b)}if(M[t].faceNormals!==void 0)for(_.faceNormals=[],r=0,i=M[t].faceNormals.length;r<i;r++)_.faceNormals.push(M[t].faceNormals[r].clone());this.morphNormals.push(_)}var E=e.skinWeights;for(t=0,n=E.length;t<n;t++)this.skinWeights.push(E[t].clone());var A=e.skinIndices;for(t=0,n=A.length;t<n;t++)this.skinIndices.push(A[t].clone());var C=e.lineDistances;for(t=0,n=C.length;t<n;t++)this.lineDistances.push(C[t]);var P=e.boundingBox;P!==null&&(this.boundingBox=P.clone());var R=e.boundingSphere;return R!==null&&(this.boundingSphere=R.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function at(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(at.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(at.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=e!==void 0?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Ie),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new ce),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new U),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Gt),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}});function Ex(e,t,n){at.call(this,new Int8Array(e),t,n)}Ex.prototype=Object.create(at.prototype);Ex.prototype.constructor=Ex;function Mx(e,t,n){at.call(this,new Uint8Array(e),t,n)}Mx.prototype=Object.create(at.prototype);Mx.prototype.constructor=Mx;function Ax(e,t,n){at.call(this,new Uint8ClampedArray(e),t,n)}Ax.prototype=Object.create(at.prototype);Ax.prototype.constructor=Ax;function Tx(e,t,n){at.call(this,new Int16Array(e),t,n)}Tx.prototype=Object.create(at.prototype);Tx.prototype.constructor=Tx;function ad(e,t,n){at.call(this,new Uint16Array(e),t,n)}ad.prototype=Object.create(at.prototype);ad.prototype.constructor=ad;function Px(e,t,n){at.call(this,new Int32Array(e),t,n)}Px.prototype=Object.create(at.prototype);Px.prototype.constructor=Px;function sd(e,t,n){at.call(this,new Uint32Array(e),t,n)}sd.prototype=Object.create(at.prototype);sd.prototype.constructor=sd;function _e(e,t,n){at.call(this,new Float32Array(e),t,n)}_e.prototype=Object.create(at.prototype);_e.prototype.constructor=_e;function Cx(e,t,n){at.call(this,new Float64Array(e),t,n)}Cx.prototype=Object.create(at.prototype);Cx.prototype.constructor=Cx;function bO(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(bO.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,t!==void 0&&(t.count=o*3-t.start,n.push(t)),t={start:o*3,materialIndex:r})}t!==void 0&&(t.count=o*3-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t=e.faces,n=e.vertices,r=e.faceVertexUvs,i=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,a=e.morphTargets,l=a.length,u;if(l>0){u=[];for(var c=0;c<l;c++)u[c]={name:a[c].name,data:[]};this.morphTargets.position=u}var d=e.morphNormals,h=d.length,p;if(h>0){p=[];for(var c=0;c<h;c++)p[c]={name:d[c].name,data:[]};this.morphTargets.normal=p}var v=e.skinIndices,g=e.skinWeights,y=v.length===n.length,M=g.length===n.length;n.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var c=0;c<t.length;c++){var _=t[c];this.vertices.push(n[_.a],n[_.b],n[_.c]);var x=_.vertexNormals;if(x.length===3)this.normals.push(x[0],x[1],x[2]);else{var b=_.normal;this.normals.push(b,b,b)}var E=_.vertexColors;if(E.length===3)this.colors.push(E[0],E[1],E[2]);else{var A=_.color;this.colors.push(A,A,A)}if(i===!0){var C=r[0][c];C!==void 0?this.uvs.push(C[0],C[1],C[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new ce,new ce,new ce))}if(o===!0){var C=r[1][c];C!==void 0?this.uvs2.push(C[0],C[1],C[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new ce,new ce,new ce))}for(var P=0;P<l;P++){var R=a[P].vertices;u[P].data.push(R[_.a],R[_.b],R[_.c])}for(var P=0;P<h;P++){var N=d[P].vertexNormals[c];p[P].data.push(N.a,N.b,N.c)}y&&this.skinIndices.push(v[_.a],v[_.b],v[_.c]),M&&this.skinWeights.push(g[_.a],g[_.b],g[_.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});function SO(e){if(e.length===0)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}var PX=1;function Ce(){Object.defineProperty(this,"id",{value:PX+=2}),this.uuid=Xe.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ce.prototype=Object.assign(Object.create(us.prototype),{constructor:Ce,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(SO(e)>65535?sd:ad)(e,1):this.index=e},addAttribute:function(e,t){return!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new at(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this)},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;t!==void 0&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(n!==void 0){var r=new ir().getNormalMatrix(e);r.applyToBufferAttribute(n),n.needsUpdate=!0}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(){var e=new je;return function(n){return e.makeRotationX(n),this.applyMatrix(e),this}}(),rotateY:function(){var e=new je;return function(n){return e.makeRotationY(n),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new je;return function(n){return e.makeRotationZ(n),this.applyMatrix(e),this}}(),translate:function(){var e=new je;return function(n,r,i){return e.makeTranslation(n,r,i),this.applyMatrix(e),this}}(),scale:function(){var e=new je;return function(n,r,i){return e.makeScale(n,r,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new we;return function(n){e.lookAt(n),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new U;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new _e(t.vertices.length*3,3),r=new _e(t.colors.length*3,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new _e(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new _e(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var r;return t.verticesNeedUpdate===!0&&(r=this.attributes.position,r!==void 0&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1),t.normalsNeedUpdate===!0&&(r=this.attributes.normal,r!==void 0&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1),t.colorsNeedUpdate===!0&&(r=this.attributes.color,r!==void 0&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(r=this.attributes.uv,r!==void 0&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,r!==void 0&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new bO().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(e.vertices.length*3);if(this.addAttribute("position",new at(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(e.normals.length*3);this.addAttribute("normal",new at(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(e.colors.length*3);this.addAttribute("color",new at(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(e.uvs.length*2);this.addAttribute("uv",new at(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(e.uvs2.length*2);this.addAttribute("uv2",new at(o,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(var a in e.morphTargets){for(var l=[],u=e.morphTargets[a],c=0,d=u.length;c<d;c++){var h=u[c],p=new _e(h.data.length*3,3);p.name=h.name,l.push(p.copyVector3sArray(h.data))}this.morphAttributes[a]=l}if(e.skinIndices.length>0){var v=new _e(e.skinIndices.length*4,4);this.addAttribute("skinIndex",v.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var g=new _e(e.skinWeights.length*4,4);this.addAttribute("skinWeight",g.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new es);var e=this.attributes.position;e!==void 0?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new es,t=new U;return function(){this.boundingSphere===null&&(this.boundingSphere=new bo);var r=this.attributes.position;if(r){var i=this.boundingSphere.center;e.setFromBufferAttribute(r),e.getCenter(i);for(var o=0,a=0,l=r.count;a<l;a++)t.x=r.getX(a),t.y=r.getY(a),t.z=r.getZ(a),o=Math.max(o,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(t.normal===void 0)this.addAttribute("normal",new at(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a=t.normal.array,l,u,c,d=new U,h=new U,p=new U,v=new U,g=new U;if(e)for(var y=e.array,i=0,o=e.count;i<o;i+=3)l=y[i+0]*3,u=y[i+1]*3,c=y[i+2]*3,d.fromArray(n,l),h.fromArray(n,u),p.fromArray(n,c),v.subVectors(p,h),g.subVectors(d,h),v.cross(g),a[l]+=v.x,a[l+1]+=v.y,a[l+2]+=v.z,a[u]+=v.x,a[u+1]+=v.y,a[u+2]+=v.z,a[c]+=v.x,a[c+1]+=v.y,a[c+2]+=v.z;else for(var i=0,o=n.length;i<o;i+=9)d.fromArray(n,i),h.fromArray(n,i+3),p.fromArray(n,i+6),v.subVectors(p,h),g.subVectors(d,h),v.cross(g),a[i]=v.x,a[i+1]=v.y,a[i+2]=v.z,a[i+3]=v.x,a[i+4]=v.y,a[i+5]=v.z,a[i+6]=v.x,a[i+7]=v.y,a[i+8]=v.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(e.attributes[r]!==void 0)for(var i=n[r],o=i.array,a=e.attributes[r],l=a.array,u=a.itemSize,c=0,d=u*t;c<l.length;c++,d++)o[d]=l[c];return this},normalizeNormals:function(){var e=new U;return function(){for(var n=this.attributes.normal,r=0,i=n.count;r<i;r++)e.x=n.getX(r),e.y=n.getY(r),e.z=n.getZ(r),e.normalize(),n.setXYZ(r,e.x,e.y,e.z)}}(),toNonIndexed:function(){function e(y,M){for(var _=y.array,x=y.itemSize,b=new _.constructor(M.length*x),E=0,A=0,C=0,P=M.length;C<P;C++){E=M[C]*x;for(var R=0;R<x;R++)b[A++]=_[E++]}return new at(b,x)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Ce,n=this.index.array,r=this.attributes;for(var i in r){var o=r[i],a=e(o,n);t.addAttribute(i,a)}var l=this.morphAttributes;for(i in l){for(var u=[],c=l[i],d=0,h=c.length;d<h;d++){var o=c[d],a=e(o,n);u.push(a)}t.morphAttributes[i]=u}for(var p=this.groups,d=0,v=p.length;d<v;d++){var g=p[d];t.addGroup(g.start,g.count,g.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){var t=this.parameters;for(var n in t)t[n]!==void 0&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(r!==null){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));var u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return new Ce().copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;i!==null&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var l=e.morphAttributes;for(t in l){var u=[],c=l[t];for(n=0,r=c.length;n<r;n++)u.push(c[n].clone());this.morphAttributes[t]=u}var d=e.groups;for(n=0,r=d.length;n<r;n++){var h=d[n];this.addGroup(h.start,h.count,h.materialIndex)}var p=e.boundingBox;p!==null&&(this.boundingBox=p.clone());var v=e.boundingSphere;return v!==null&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Om(e,t,n,r,i,o){He.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Ru(e,t,n,r,i,o)),this.mergeVertices()}Om.prototype=Object.create(He.prototype);Om.prototype.constructor=Om;function Ru(e,t,n,r,i,o){Ce.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var l=[],u=[],c=[],d=[],h=0,p=0;v("z","y","x",-1,-1,n,t,e,o,i,0),v("z","y","x",1,-1,n,t,-e,o,i,1),v("x","z","y",1,1,e,n,t,r,o,2),v("x","z","y",1,-1,e,n,-t,r,o,3),v("x","y","z",1,-1,e,t,n,r,i,4),v("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(l),this.addAttribute("position",new _e(u,3)),this.addAttribute("normal",new _e(c,3)),this.addAttribute("uv",new _e(d,2));function v(g,y,M,_,x,b,E,A,C,P,R){var N=b/C,F=E/P,z=b/2,G=E/2,K=A/2,W=C+1,$=P+1,X=0,J=0,V,I,k=new U;for(I=0;I<$;I++){var q=I*F-G;for(V=0;V<W;V++){var H=V*N-z;k[g]=H*_,k[y]=q*x,k[M]=K,u.push(k.x,k.y,k.z),k[g]=0,k[y]=0,k[M]=A>0?1:-1,c.push(k.x,k.y,k.z),d.push(V/C),d.push(1-I/P),X+=1}}for(I=0;I<P;I++)for(V=0;V<C;V++){var ue=h+V+W*I,Q=h+V+W*(I+1),ne=h+(V+1)+W*(I+1),re=h+(V+1)+W*I;l.push(ue,Q,re),l.push(Q,ne,re),J+=6}a.addGroup(p,J,R),p+=J,h+=X}}Ru.prototype=Object.create(Ce.prototype);Ru.prototype.constructor=Ru;function Nm(e,t,n,r){He.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new ts(e,t,n,r)),this.mergeVertices()}Nm.prototype=Object.create(He.prototype);Nm.prototype.constructor=Nm;function ts(e,t,n,r){Ce.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},e=e||1,t=t||1;var i=e/2,o=t/2,a=Math.floor(n)||1,l=Math.floor(r)||1,u=a+1,c=l+1,d=e/a,h=t/l,p,v,g=[],y=[],M=[],_=[];for(v=0;v<c;v++){var x=v*h-o;for(p=0;p<u;p++){var b=p*d-i;y.push(b,-x,0),M.push(0,0,1),_.push(p/a),_.push(1-v/l)}}for(v=0;v<l;v++)for(p=0;p<a;p++){var E=p+u*v,A=p+u*(v+1),C=p+1+u*(v+1),P=p+1+u*v;g.push(E,A,P),g.push(A,C,P)}this.setIndex(g),this.addAttribute("position",new _e(y,3)),this.addAttribute("normal",new _e(M,3)),this.addAttribute("uv",new _e(_,2))}ts.prototype=Object.create(Ce.prototype);ts.prototype.constructor=ts;var CX=0;function We(){Object.defineProperty(this,"id",{value:CX++}),this.uuid=Xe.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=du,this.side=sh,this.flatShading=!1,this.vertexColors=uO,this.opacity=1,this.transparent=!1,this.blendSrc=dO,this.blendDst=hO,this.blendEquation=ql,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=wx,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}We.prototype=Object.assign(Object.create(us.prototype),{constructor:We,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(e!==void 0)for(var t in e){var n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===lO;continue}var r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}},toJSON:function(e){var t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearCoat!==void 0&&(n.clearCoat=this.clearCoat),this.clearCoatRoughness!==void 0&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==du&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==sh&&(n.side=this.side),this.vertexColors!==uO&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function r(a){var l=[];for(var u in a){var c=a[u];delete c.metadata,l.push(c)}return l}if(t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(t!==null){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function ei(e){We.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}ei.prototype=Object.create(We.prototype);ei.prototype.constructor=ei;ei.prototype.isShaderMaterial=!0;ei.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=od(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this};ei.prototype.toJSON=function(e){var t=We.prototype.toJSON.call(this,e);t.uniforms={};for(var n in this.uniforms){var r=this.uniforms[n],i=r.value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var o={};for(var a in this.extensions)this.extensions[a]===!0&&(o[a]=!0);return Object.keys(o).length>0&&(t.extensions=o),t};function ac(e,t){this.origin=e!==void 0?e:new U,this.direction=t!==void 0?t:new U}Object.assign(ac.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new U),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new U;return function(n){return this.origin.copy(this.at(n,e)),this}}(),closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new U),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new U;return function(n){var r=e.subVectors(n,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(n):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceToSquared(n))}}(),distanceSqToSegment:function(){var e=new U,t=new U,n=new U;return function(i,o,a,l){e.copy(i).add(o).multiplyScalar(.5),t.copy(o).sub(i).normalize(),n.copy(this.origin).sub(e);var u=i.distanceTo(o)*.5,c=-this.direction.dot(t),d=n.dot(this.direction),h=-n.dot(t),p=n.lengthSq(),v=Math.abs(1-c*c),g,y,M,_;if(v>0)if(g=c*h-d,y=c*d-h,_=u*v,g>=0)if(y>=-_)if(y<=_){var x=1/v;g*=x,y*=x,M=g*(g+c*y+2*d)+y*(c*g+y+2*h)+p}else y=u,g=Math.max(0,-(c*y+d)),M=-g*g+y*(y+2*h)+p;else y=-u,g=Math.max(0,-(c*y+d)),M=-g*g+y*(y+2*h)+p;else y<=-_?(g=Math.max(0,-(-c*u+d)),y=g>0?-u:Math.min(Math.max(-u,-h),u),M=-g*g+y*(y+2*h)+p):y<=_?(g=0,y=Math.min(Math.max(-u,-h),u),M=y*(y+2*h)+p):(g=Math.max(0,-(c*u+d)),y=g>0?u:Math.min(Math.max(-u,-h),u),M=-g*g+y*(y+2*h)+p);else y=c>0?-u:u,g=Math.max(0,-(c*y+d)),M=-g*g+y*(y+2*h)+p;return a&&a.copy(this.direction).multiplyScalar(g).add(this.origin),l&&l.copy(t).multiplyScalar(y).add(e),M}}(),intersectSphere:function(){var e=new U;return function(n,r){e.subVectors(n.center,this.origin);var i=e.dot(this.direction),o=e.dot(e)-i*i,a=n.radius*n.radius;if(o>a)return null;var l=Math.sqrt(a-o),u=i-l,c=i+l;return u<0&&c<0?null:u<0?this.at(c,r):this.at(u,r)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return n===null?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(t===0)return!0;var n=e.normal.dot(this.direction);return n*t<0},intersectBox:function(e,t){var n,r,i,o,a,l,u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r||((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),n>l||a>r)||((a>n||n!==n)&&(n=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)},intersectsBox:function(){var e=new U;return function(n){return this.intersectBox(n,e)!==null}}(),intersectTriangle:function(){var e=new U,t=new U,n=new U,r=new U;return function(o,a,l,u,c){t.subVectors(a,o),n.subVectors(l,o),r.crossVectors(t,n);var d=this.direction.dot(r),h;if(d>0){if(u)return null;h=1}else if(d<0)h=-1,d=-d;else return null;e.subVectors(this.origin,o);var p=h*this.direction.dot(n.crossVectors(e,n));if(p<0)return null;var v=h*this.direction.dot(t.cross(e));if(v<0||p+v>d)return null;var g=-h*e.dot(r);return g<0?null:this.at(g/d,c)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});function mr(e,t,n){this.a=e!==void 0?e:new U,this.b=t!==void 0?t:new U,this.c=n!==void 0?n:new U}Object.assign(mr,{getNormal:function(){var e=new U;return function(n,r,i,o){o===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),o=new U),o.subVectors(i,r),e.subVectors(n,r),o.cross(e);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),getBarycoord:function(){var e=new U,t=new U,n=new U;return function(i,o,a,l,u){e.subVectors(l,o),t.subVectors(a,o),n.subVectors(i,o);var c=e.dot(e),d=e.dot(t),h=e.dot(n),p=t.dot(t),v=t.dot(n),g=c*p-d*d;if(u===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),u=new U),g===0)return u.set(-2,-1,-1);var y=1/g,M=(p*h-d*v)*y,_=(c*v-d*h)*y;return u.set(1-M-_,_,M)}}(),containsPoint:function(){var e=new U;return function(n,r,i,o){return mr.getBarycoord(n,r,i,o,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:function(){var e=new U;return function(n,r,i,o,a,l,u,c){return this.getBarycoord(n,r,i,o,e),c.set(0,0),c.addScaledVector(a,e.x),c.addScaledVector(l,e.y),c.addScaledVector(u,e.z),c}}()});Object.assign(mr.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new U,t=new U;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),e.cross(t).length()*.5}}(),getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new U),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return mr.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new U),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return mr.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return mr.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return mr.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(){var e=new U,t=new U,n=new U,r=new U,i=new U,o=new U;return function(l,u){u===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),u=new U);var c=this.a,d=this.b,h=this.c,p,v;e.subVectors(d,c),t.subVectors(h,c),r.subVectors(l,c);var g=e.dot(r),y=t.dot(r);if(g<=0&&y<=0)return u.copy(c);i.subVectors(l,d);var M=e.dot(i),_=t.dot(i);if(M>=0&&_<=M)return u.copy(d);var x=g*_-M*y;if(x<=0&&g>=0&&M<=0)return p=g/(g-M),u.copy(c).addScaledVector(e,p);o.subVectors(l,h);var b=e.dot(o),E=t.dot(o);if(E>=0&&b<=E)return u.copy(h);var A=b*y-g*E;if(A<=0&&y>=0&&E<=0)return v=y/(y-E),u.copy(c).addScaledVector(t,v);var C=M*E-b*_;if(C<=0&&_-M>=0&&b-E>=0)return n.subVectors(h,d),v=(_-M)/(_-M+(b-E)),u.copy(d).addScaledVector(n,v);var P=1/(C+A+x);return p=A*P,v=x*P,u.copy(c).addScaledVector(e,p).addScaledVector(t,v)}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});function Pi(e){We.call(this),this.type="MeshBasicMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}Pi.prototype=Object.create(We.prototype);Pi.prototype.constructor=Pi;Pi.prototype.isMeshBasicMaterial=!0;Pi.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};function ar(e,t){we.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new Ce,this.material=t!==void 0?t:new Pi({color:Math.random()*16777215}),this.drawMode=_O,this.updateMorphTargets()}ar.prototype=Object.assign(Object.create(we.prototype),{constructor:ar,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return we.prototype.copy.call(this,e),this.drawMode=e.drawMode,e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry,t,n,r;if(e.isBufferGeometry){var i=e.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(a!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,n=a.length;t<n;t++)r=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}else{var l=e.morphTargets;l!==void 0&&l.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var e=new je,t=new ac,n=new bo,r=new U,i=new U,o=new U,a=new U,l=new U,u=new U,c=new ce,d=new ce,h=new ce,p=new U,v=new U;function g(M,_,x,b,E,A,C,P){var R;if(_.side===pr?R=b.intersectTriangle(C,A,E,!0,P):R=b.intersectTriangle(E,A,C,_.side!==lh,P),R===null)return null;v.copy(P),v.applyMatrix4(M.matrixWorld);var N=x.ray.origin.distanceTo(v);return N<x.near||N>x.far?null:{distance:N,point:v.clone(),object:M}}function y(M,_,x,b,E,A,C,P,R){r.fromBufferAttribute(E,C),i.fromBufferAttribute(E,P),o.fromBufferAttribute(E,R);var N=g(M,_,x,b,r,i,o,p);if(N){A&&(c.fromBufferAttribute(A,C),d.fromBufferAttribute(A,P),h.fromBufferAttribute(A,R),N.uv=mr.getUV(p,r,i,o,c,d,h,new ce));var F=new Rm(C,P,R);mr.getNormal(r,i,o,F.normal),N.face=F}return N}return function(_,x){var b=this.geometry,E=this.material,A=this.matrixWorld;if(E!==void 0&&(b.boundingSphere===null&&b.computeBoundingSphere(),n.copy(b.boundingSphere),n.applyMatrix4(A),_.ray.intersectsSphere(n)!==!1&&(e.getInverse(A),t.copy(_.ray).applyMatrix4(e),!(b.boundingBox!==null&&t.intersectsBox(b.boundingBox)===!1)))){var C;if(b.isBufferGeometry){var P,R,N,F=b.index,z=b.attributes.position,G=b.attributes.uv,K=b.groups,W=b.drawRange,$,X,J,V,I,k,q,H;if(F!==null)if(Array.isArray(E))for($=0,J=K.length;$<J;$++)for(I=K[$],k=E[I.materialIndex],q=Math.max(I.start,W.start),H=Math.min(I.start+I.count,W.start+W.count),X=q,V=H;X<V;X+=3)P=F.getX(X),R=F.getX(X+1),N=F.getX(X+2),C=y(this,k,_,t,z,G,P,R,N),C&&(C.faceIndex=Math.floor(X/3),x.push(C));else for(q=Math.max(0,W.start),H=Math.min(F.count,W.start+W.count),$=q,J=H;$<J;$+=3)P=F.getX($),R=F.getX($+1),N=F.getX($+2),C=y(this,E,_,t,z,G,P,R,N),C&&(C.faceIndex=Math.floor($/3),x.push(C));else if(z!==void 0)if(Array.isArray(E))for($=0,J=K.length;$<J;$++)for(I=K[$],k=E[I.materialIndex],q=Math.max(I.start,W.start),H=Math.min(I.start+I.count,W.start+W.count),X=q,V=H;X<V;X+=3)P=X,R=X+1,N=X+2,C=y(this,k,_,t,z,G,P,R,N),C&&(C.faceIndex=Math.floor(X/3),x.push(C));else for(q=Math.max(0,W.start),H=Math.min(z.count,W.start+W.count),$=q,J=H;$<J;$+=3)P=$,R=$+1,N=$+2,C=y(this,E,_,t,z,G,P,R,N),C&&(C.faceIndex=Math.floor($/3),x.push(C))}else if(b.isGeometry){var ue,Q,ne,re=Array.isArray(E),ve=b.vertices,xe=b.faces,ge,ae=b.faceVertexUvs[0];ae.length>0&&(ge=ae);for(var Te=0,ze=xe.length;Te<ze;Te++){var ye=xe[Te],qe=re?E[ye.materialIndex]:E;if(qe!==void 0){if(ue=ve[ye.a],Q=ve[ye.b],ne=ve[ye.c],qe.morphTargets===!0){var Ke=b.morphTargets,Wt=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var Lt=0,an=Ke.length;Lt<an;Lt++){var Nn=Wt[Lt];if(Nn!==0){var Rt=Ke[Lt].vertices;r.addScaledVector(a.subVectors(Rt[ye.a],ue),Nn),i.addScaledVector(l.subVectors(Rt[ye.b],Q),Nn),o.addScaledVector(u.subVectors(Rt[ye.c],ne),Nn)}}r.add(ue),i.add(Q),o.add(ne),ue=r,Q=i,ne=o}if(C=g(this,qe,_,t,ue,Q,ne,p),C){if(ge&&ge[Te]){var Nt=ge[Te];c.copy(Nt[0]),d.copy(Nt[1]),h.copy(Nt[2]),C.uv=mr.getUV(p,ue,Q,ne,c,d,h,new ce)}C.face=ye,C.faceIndex=Te,x.push(C)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function LX(e,t,n,r){var i=new Ie(0),o=0,a,l,u=null,c=0;function d(p,v,g,y){var M=v.background;if(M===null?(h(i,o),u=null,c=0):M&&M.isColor&&(h(M,1),y=!0,u=null,c=0),(e.autoClear||y)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),M&&(M.isCubeTexture||M.isWebGLRenderTargetCube)){l===void 0&&(l=new ar(new Ru(1,1,1),new ei({type:"BackgroundCubeMaterial",uniforms:od(Vo.cube.uniforms),vertexShader:Vo.cube.vertexShader,fragmentShader:Vo.cube.fragmentShader,side:pr,depthTest:!0,depthWrite:!1,fog:!1})),l.geometry.removeAttribute("normal"),l.geometry.removeAttribute("uv"),l.onBeforeRender=function(x,b,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(l));var _=M.isWebGLRenderTargetCube?M.texture:M;l.material.uniforms.tCube.value=_,l.material.uniforms.tFlip.value=M.isWebGLRenderTargetCube?1:-1,(u!==M||c!==_.version)&&(l.material.needsUpdate=!0,u=M,c=_.version),p.unshift(l,l.geometry,l.material,0,0,null)}else M&&M.isTexture&&(a===void 0&&(a=new ar(new ts(2,2),new ei({type:"BackgroundMaterial",uniforms:od(Vo.background.uniforms),vertexShader:Vo.background.vertexShader,fragmentShader:Vo.background.fragmentShader,side:sh,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.removeAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(a)),a.material.uniforms.t2D.value=M,M.matrixAutoUpdate===!0&&M.updateMatrix(),a.material.uniforms.uvTransform.value.copy(M.matrix),(u!==M||c!==M.version)&&(a.material.needsUpdate=!0,u=M,c=M.version),p.unshift(a,a.geometry,a.material,0,0,null))}function h(p,v){t.buffers.color.setClear(p.r,p.g,p.b,v,r)}return{getClearColor:function(){return i},setClearColor:function(p,v){i.set(p),o=v!==void 0?v:1,h(i,o)},getClearAlpha:function(){return o},setClearAlpha:function(p){o=p,h(i,o)},render:d}}function RX(e,t,n,r){var i;function o(u){i=u}function a(u,c){e.drawArrays(i,u,c),n.update(c,i)}function l(u,c,d){var h;if(r.isWebGL2)h=e;else if(h=t.get("ANGLE_instanced_arrays"),h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,c,d,u.maxInstancedCount),n.update(d,i,u.maxInstancedCount)}this.setMode=o,this.render=a,this.renderInstances=l}function OX(e,t,n){var r;function i(){if(r!==void 0)return r;var C=t.get("EXT_texture_filter_anisotropic");return C!==null?r=e.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT):r=0,r}function o(C){if(C==="highp"){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,l=n.precision!==void 0?n.precision:"highp",u=o(l);u!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",u,"instead."),l=u);var c=n.logarithmicDepthBuffer===!0,d=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=e.getParameter(e.MAX_TEXTURE_SIZE),v=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),g=e.getParameter(e.MAX_VERTEX_ATTRIBS),y=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),M=e.getParameter(e.MAX_VARYING_VECTORS),_=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),x=h>0,b=a||!!t.get("OES_texture_float"),E=x&&b,A=a?e.getParameter(e.MAX_SAMPLES):0;return{isWebGL2:a,getMaxAnisotropy:i,getMaxPrecision:o,precision:l,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:v,maxAttributes:g,maxVertexUniforms:y,maxVaryings:M,maxFragmentUniforms:_,vertexTextures:x,floatFragmentTextures:b,floatVertexTextures:E,maxSamples:A}}function NX(){var e=this,t=null,n=0,r=!1,i=!1,o=new Go,a=new ir,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h,p){var v=d.length!==0||h||n!==0||r;return r=h,t=c(d,p,0),n=d.length,v},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,u()},this.setState=function(d,h,p,v,g,y){if(!r||d===null||d.length===0||i&&!p)i?c(null):u();else{var M=i?0:n,_=M*4,x=g.clippingState||null;l.value=x,x=c(d,v,_,y);for(var b=0;b!==_;++b)x[b]=t[b];g.clippingState=x,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=M}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(d,h,p,v){var g=d!==null?d.length:0,y=null;if(g!==0){if(y=l.value,v!==!0||y===null){var M=p+g*4,_=h.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<M)&&(y=new Float32Array(M));for(var x=0,b=p;x!==g;++x,b+=4)o.copy(d[x]).applyMatrix4(_,a),o.normal.toArray(y,b),y[b+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=g,y}}function kX(e){var t={};return{get:function(n){if(t[n]!==void 0)return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function IX(e,t,n){var r={},i={};function o(c){var d=c.target,h=r[d.id];h.index!==null&&t.remove(h.index);for(var p in h.attributes)t.remove(h.attributes[p]);d.removeEventListener("dispose",o),delete r[d.id];var v=i[h.id];v&&(t.remove(v),delete i[h.id]),n.memory.geometries--}function a(c,d){var h=r[d.id];return h||(d.addEventListener("dispose",o),d.isBufferGeometry?h=d:d.isGeometry&&(d._bufferGeometry===void 0&&(d._bufferGeometry=new Ce().setFromObject(c)),h=d._bufferGeometry),r[d.id]=h,n.memory.geometries++,h)}function l(c){var d=c.index,h=c.attributes;d!==null&&t.update(d,e.ELEMENT_ARRAY_BUFFER);for(var p in h)t.update(h[p],e.ARRAY_BUFFER);var v=c.morphAttributes;for(var p in v)for(var g=v[p],y=0,M=g.length;y<M;y++)t.update(g[y],e.ARRAY_BUFFER)}function u(c){var d=i[c.id];if(d)return d;var h=[],p=c.index,v=c.attributes;if(p!==null)for(var g=p.array,y=0,M=g.length;y<M;y+=3){var _=g[y+0],x=g[y+1],b=g[y+2];h.push(_,x,x,b,b,_)}else for(var g=v.position.array,y=0,M=g.length/3-1;y<M;y+=3){var _=y+0,x=y+1,b=y+2;h.push(_,x,x,b,b,_)}return d=new(SO(h)>65535?sd:ad)(h,1),t.update(d,e.ELEMENT_ARRAY_BUFFER),i[c.id]=d,d}return{get:a,update:l,getWireframeAttribute:u}}function DX(e,t,n,r){var i;function o(h){i=h}var a,l;function u(h){a=h.type,l=h.bytesPerElement}function c(h,p){e.drawElements(i,p,a,h*l),n.update(p,i)}function d(h,p,v){var g;if(r.isWebGL2)g=e;else{var g=t.get("ANGLE_instanced_arrays");if(g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}}g[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,v,a,p*l,h.maxInstancedCount),n.update(v,i,h.maxInstancedCount)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=d}function FX(e){var t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,l){switch(l=l||1,n.calls++,a){case e.TRIANGLES:n.triangles+=l*(o/3);break;case e.TRIANGLE_STRIP:case e.TRIANGLE_FAN:n.triangles+=l*(o-2);break;case e.LINES:n.lines+=l*(o/2);break;case e.LINE_STRIP:n.lines+=l*(o-1);break;case e.LINE_LOOP:n.lines+=l*o;break;case e.POINTS:n.points+=l*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:i,update:r}}function BX(e,t){return Math.abs(t[1])-Math.abs(e[1])}function zX(e){var t={},n=new Float32Array(8);function r(i,o,a,l){var u=i.morphTargetInfluences,c=u.length,d=t[o.id];if(d===void 0){d=[];for(var h=0;h<c;h++)d[h]=[h,0];t[o.id]=d}for(var p=a.morphTargets&&o.morphAttributes.position,v=a.morphNormals&&o.morphAttributes.normal,h=0;h<c;h++){var g=d[h];g[1]!==0&&(p&&o.removeAttribute("morphTarget"+h),v&&o.removeAttribute("morphNormal"+h))}for(var h=0;h<c;h++){var g=d[h];g[0]=h,g[1]=u[h]}d.sort(BX);for(var h=0;h<8;h++){var g=d[h];if(g){var y=g[0],M=g[1];if(M){p&&o.addAttribute("morphTarget"+h,p[y]),v&&o.addAttribute("morphNormal"+h,v[y]),n[h]=M;continue}}n[h]=0}l.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:r}}function UX(e,t){var n={};function r(o){var a=t.render.frame,l=o.geometry,u=e.get(o,l);return n[u.id]!==a&&(l.isGeometry&&u.updateFromObject(o),e.update(u),n[u.id]=a),u}function i(){n={}}return{update:r,dispose:i}}function ns(e,t,n,r,i,o,a,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:Mb,Vt.call(this,e,t,n,r,i,o,a,l,u,c),this.flipY=!1}ns.prototype=Object.create(Vt.prototype);ns.prototype.constructor=ns;ns.prototype.isCubeTexture=!0;Object.defineProperty(ns.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function ld(e,t,n,r){Vt.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=zn,this.minFilter=zn,this.generateMipmaps=!1,this.flipY=!1}ld.prototype=Object.create(Vt.prototype);ld.prototype.constructor=ld;ld.prototype.isDataTexture3D=!0;var EO=new Vt,jX=new ld,MO=new ns;function AO(){this.seq=[],this.map={}}var UA=[],jA=[],HA=new Float32Array(16),GA=new Float32Array(9),VA=new Float32Array(4);function sc(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=UA[i];if(o===void 0&&(o=new Float32Array(i),UA[i]=o),t!==0){r.toArray(o,0);for(var a=1,l=0;a!==t;++a)l+=n,e[a].toArray(o,l)}return o}function gn(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Zn(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function TO(e,t){var n=jA[t];n===void 0&&(n=new Int32Array(t),jA[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function HX(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function GX(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function VX(e,t){var n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(gn(n,t))return;e.uniform2fv(this.addr,t),Zn(n,t)}}function WX(e,t){var n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(gn(n,t))return;e.uniform3fv(this.addr,t),Zn(n,t)}}function $X(e,t){var n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(gn(n,t))return;e.uniform4fv(this.addr,t),Zn(n,t)}}function YX(e,t){var n=this.cache,r=t.elements;if(r===void 0){if(gn(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Zn(n,t)}else{if(gn(n,r))return;VA.set(r),e.uniformMatrix2fv(this.addr,!1,VA),Zn(n,r)}}function ZX(e,t){var n=this.cache,r=t.elements;if(r===void 0){if(gn(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Zn(n,t)}else{if(gn(n,r))return;GA.set(r),e.uniformMatrix3fv(this.addr,!1,GA),Zn(n,r)}}function XX(e,t){var n=this.cache,r=t.elements;if(r===void 0){if(gn(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Zn(n,t)}else{if(gn(n,r))return;HA.set(r),e.uniformMatrix4fv(this.addr,!1,HA),Zn(n,r)}}function qX(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||EO,i)}function KX(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||jX,i)}function JX(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||MO,i)}function PO(e,t){var n=this.cache;gn(n,t)||(e.uniform2iv(this.addr,t),Zn(n,t))}function CO(e,t){var n=this.cache;gn(n,t)||(e.uniform3iv(this.addr,t),Zn(n,t))}function LO(e,t){var n=this.cache;gn(n,t)||(e.uniform4iv(this.addr,t),Zn(n,t))}function QX(e){switch(e){case 5126:return HX;case 35664:return VX;case 35665:return WX;case 35666:return $X;case 35674:return YX;case 35675:return ZX;case 35676:return XX;case 35678:case 36198:return qX;case 35679:return KX;case 35680:return JX;case 5124:case 35670:return GX;case 35667:case 35671:return PO;case 35668:case 35672:return CO;case 35669:case 35673:return LO}}function eq(e,t){var n=this.cache;gn(n,t)||(e.uniform1fv(this.addr,t),Zn(n,t))}function tq(e,t){var n=this.cache;gn(n,t)||(e.uniform1iv(this.addr,t),Zn(n,t))}function nq(e,t){var n=this.cache,r=sc(t,this.size,2);gn(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function rq(e,t){var n=this.cache,r=sc(t,this.size,3);gn(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function iq(e,t){var n=this.cache,r=sc(t,this.size,4);gn(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function oq(e,t){var n=this.cache,r=sc(t,this.size,4);gn(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function aq(e,t){var n=this.cache,r=sc(t,this.size,9);gn(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function sq(e,t){var n=this.cache,r=sc(t,this.size,16);gn(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function lq(e,t,n){var r=this.cache,i=t.length,o=TO(n,i);gn(r,o)===!1&&(e.uniform1iv(this.addr,o),Zn(r,o));for(var a=0;a!==i;++a)n.setTexture2D(t[a]||EO,o[a])}function uq(e,t,n){var r=this.cache,i=t.length,o=TO(n,i);gn(r,o)===!1&&(e.uniform1iv(this.addr,o),Zn(r,o));for(var a=0;a!==i;++a)n.setTextureCube(t[a]||MO,o[a])}function cq(e){switch(e){case 5126:return eq;case 35664:return nq;case 35665:return rq;case 35666:return iq;case 35674:return oq;case 35675:return aq;case 35676:return sq;case 35678:return lq;case 35680:return uq;case 5124:case 35670:return tq;case 35667:case 35671:return PO;case 35668:case 35672:return CO;case 35669:case 35673:return LO}}function fq(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=QX(t.type)}function RO(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=cq(t.type)}RO.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Zn(t,e)};function OO(e){this.id=e,AO.call(this)}OO.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var N0=/([\w\d_]+)(\])?(\[|\.)?/g;function WA(e,t){e.seq.push(t),e.map[t.id]=t}function dq(e,t,n){var r=e.name,i=r.length;for(N0.lastIndex=0;;){var o=N0.exec(r),a=N0.lastIndex,l=o[1],u=o[2]==="]",c=o[3];if(u&&(l=l|0),c===void 0||c==="["&&a+2===i){WA(n,c===void 0?new fq(l,e,t):new RO(l,e,t));break}else{var d=n.map,h=d[l];h===void 0&&(h=new OO(l),WA(n,h)),n=h}}}function Za(e,t,n){AO.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=e.getActiveUniform(t,i),a=e.getUniformLocation(t,o.name);dq(o,a,this)}}Za.prototype.setValue=function(e,t,n){var r=this.map[t];r!==void 0&&r.setValue(e,n,this.renderer)};Za.prototype.setOptional=function(e,t,n){var r=t[n];r!==void 0&&this.setValue(e,n,r)};Za.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],l=n[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}};Za.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};function hq(e){for(var t=e.split(`
`),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function $A(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),e.getShaderInfoLog(r)!==""&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),hq(n)),r}var pq=0;function NO(e){switch(e){case Lm:return["Linear","( value )"];case iY:return["sRGB","( value )"];case oY:return["RGBE","( value )"];case aY:return["RGBM","( value, 7.0 )"];case sY:return["RGBM","( value, 16.0 )"];case lY:return["RGBD","( value, 256.0 )"];case xO:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function np(e,t){var n=NO(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function mq(e,t){var n=NO(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function vq(e,t){var n;switch(t){case pO:n="Linear";break;case E$:n="Reinhard";break;case M$:n="Uncharted2";break;case A$:n="OptimizedCineon";break;case T$:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function gq(e,t,n){e=e||{};var r=[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return r.filter(qc).join(`
`)}function yq(e){var t=[];for(var n in e){var r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join(`
`)}function _q(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i),a=o.name;n[a]=e.getAttribLocation(t,a)}return n}function qc(e){return e!==""}function YA(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function ZA(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function Lx(e){var t=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){var o=dt[i];if(o===void 0)throw new Error("Can not resolve #include <"+i+">");return Lx(o)}return e.replace(t,n)}function XA(e){var t=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function n(r,i,o,a){for(var l="",u=parseInt(i);u<parseInt(o);u++)l+=a.replace(/\[ i \]/g,"[ "+u+" ]");return l}return e.replace(t,n)}function xq(e,t,n,r,i,o,a){var l=e.context,u=r.defines,c=i.vertexShader,d=i.fragmentShader,h="SHADOWMAP_TYPE_BASIC";o.shadowMapType===sO?h="SHADOWMAP_TYPE_PCF":o.shadowMapType===r$&&(h="SHADOWMAP_TYPE_PCF_SOFT");var p="ENVMAP_TYPE_CUBE",v="ENVMAP_MODE_REFLECTION",g="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case Mb:case bx:p="ENVMAP_TYPE_CUBE";break;case Ab:case Tb:p="ENVMAP_TYPE_CUBE_UV";break;case mO:case Sx:p="ENVMAP_TYPE_EQUIREC";break;case vO:p="ENVMAP_TYPE_SPHERE";break}switch(r.envMap.mapping){case bx:case Sx:v="ENVMAP_MODE_REFRACTION";break}switch(r.combine){case Vg:g="ENVMAP_BLENDING_MULTIPLY";break;case b$:g="ENVMAP_BLENDING_MIX";break;case S$:g="ENVMAP_BLENDING_ADD";break}}var y=e.gammaFactor>0?e.gammaFactor:1,M=a.isWebGL2?"":gq(r.extensions,o,t),_=yq(u),x=l.createProgram(),b,E;if(r.isRawShaderMaterial?(b=[_].filter(qc).join(`
`),b.length>0&&(b+=`
`),E=[M,_].filter(qc).join(`
`),E.length>0&&(E+=`
`)):(b=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,_,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+v:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&o.flatShading===!1?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qc).join(`
`),E=[M,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,_,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.envMap?"#define "+v:"",o.envMap?"#define "+g:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==R0?"#define TONE_MAPPING":"",o.toneMapping!==R0?dt.tonemapping_pars_fragment:"",o.toneMapping!==R0?vq("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?dt.encodings_pars_fragment:"",o.mapEncoding?np("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?np("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?np("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?np("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?mq("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(qc).join(`
`)),c=Lx(c),c=YA(c,o),c=ZA(c,o),d=Lx(d),d=YA(d,o),d=ZA(d,o),c=XA(c),d=XA(d),a.isWebGL2&&!r.isRawShaderMaterial){var A=!1,C=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&c.match(C)!==null&&d.match(C)!==null&&(A=!0,c=c.replace(C,""),d=d.replace(C,"")),b=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,E=[`#version 300 es
`,"#define varying in",A?"":"out highp vec4 pc_fragColor;",A?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E}var P=b+c,R=E+d,N=$A(l,l.VERTEX_SHADER,P),F=$A(l,l.FRAGMENT_SHADER,R);l.attachShader(x,N),l.attachShader(x,F),r.index0AttributeName!==void 0?l.bindAttribLocation(x,0,r.index0AttributeName):o.morphTargets===!0&&l.bindAttribLocation(x,0,"position"),l.linkProgram(x);var z=l.getProgramInfoLog(x).trim(),G=l.getShaderInfoLog(N).trim(),K=l.getShaderInfoLog(F).trim(),W=!0,$=!0;l.getProgramParameter(x,l.LINK_STATUS)===!1?(W=!1,console.error("THREE.WebGLProgram: shader error: ",l.getError(),"gl.VALIDATE_STATUS",l.getProgramParameter(x,l.VALIDATE_STATUS),"gl.getProgramInfoLog",z,G,K)):z!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",z):(G===""||K==="")&&($=!1),$&&(this.diagnostics={runnable:W,material:r,programLog:z,vertexShader:{log:G,prefix:b},fragmentShader:{log:K,prefix:E}}),l.deleteShader(N),l.deleteShader(F);var X;this.getUniforms=function(){return X===void 0&&(X=new Za(l,x,e)),X};var J;return this.getAttributes=function(){return J===void 0&&(J=_q(l,x)),J},this.destroy=function(){l.deleteProgram(x),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=pq++,this.code=n,this.usedTimes=1,this.program=x,this.vertexShader=N,this.fragmentShader=F,this}function wq(e,t,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function a(u){var c=u.skeleton,d=c.bones;if(n.floatVertexTextures)return 1024;var h=n.maxVertexUniforms,p=Math.floor((h-20)/4),v=Math.min(p,d.length);return v<d.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+d.length+" bones. This GPU supports "+v+"."),0):v}function l(u,c){var d;return u?u.isTexture?d=u.encoding:u.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),d=u.texture.encoding):d=Lm,d===Lm&&c&&(d=xO),d}this.getParameters=function(u,c,d,h,p,v,g){var y=i[u.type],M=g.isSkinnedMesh?a(g):0,_=n.precision;u.precision!==null&&(_=n.getMaxPrecision(u.precision),_!==u.precision&&console.warn("THREE.WebGLProgram.getParameters:",u.precision,"not supported, using",_,"instead."));var x=e.getRenderTarget(),b={shaderID:y,precision:_,supportsVertexTextures:n.vertexTextures,outputEncoding:l(x?x.texture:null,e.gammaOutput),map:!!u.map,mapEncoding:l(u.map,e.gammaInput),matcap:!!u.matcap,matcapEncoding:l(u.matcap,e.gammaInput),envMap:!!u.envMap,envMapMode:u.envMap&&u.envMap.mapping,envMapEncoding:l(u.envMap,e.gammaInput),envMapCubeUV:!!u.envMap&&(u.envMap.mapping===Ab||u.envMap.mapping===Tb),lightMap:!!u.lightMap,aoMap:!!u.aoMap,emissiveMap:!!u.emissiveMap,emissiveMapEncoding:l(u.emissiveMap,e.gammaInput),bumpMap:!!u.bumpMap,normalMap:!!u.normalMap,objectSpaceNormalMap:u.normalMapType===fY,displacementMap:!!u.displacementMap,roughnessMap:!!u.roughnessMap,metalnessMap:!!u.metalnessMap,specularMap:!!u.specularMap,alphaMap:!!u.alphaMap,gradientMap:!!u.gradientMap,combine:u.combine,vertexColors:u.vertexColors,fog:!!h,useFog:u.fog,fogExp:h&&h.isFogExp2,flatShading:u.flatShading,sizeAttenuation:u.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:u.skinning&&M>0,maxBones:M,useVertexTexture:n.floatVertexTextures,morphTargets:u.morphTargets,morphNormals:u.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:c.directional.length,numPointLights:c.point.length,numSpotLights:c.spot.length,numRectAreaLights:c.rectArea.length,numHemiLights:c.hemi.length,numClippingPlanes:p,numClipIntersection:v,dithering:u.dithering,shadowMapEnabled:e.shadowMap.enabled&&g.receiveShadow&&d.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:u.premultipliedAlpha,alphaTest:u.alphaTest,doubleSided:u.side===lh,flipSided:u.side===pr,depthPacking:u.depthPacking!==void 0?u.depthPacking:!1};return b},this.getProgramCode=function(u,c){var d=[];if(c.shaderID?d.push(c.shaderID):(d.push(u.fragmentShader),d.push(u.vertexShader)),u.defines!==void 0)for(var h in u.defines)d.push(h),d.push(u.defines[h]);for(var p=0;p<o.length;p++)d.push(c[o[p]]);return d.push(u.onBeforeCompile.toString()),d.push(e.gammaOutput),d.push(e.gammaFactor),d.join()},this.acquireProgram=function(u,c,d,h){for(var p,v=0,g=r.length;v<g;v++){var y=r[v];if(y.code===h){p=y,++p.usedTimes;break}}return p===void 0&&(p=new xq(e,t,h,u,c,d,n),r.push(p)),p},this.releaseProgram=function(u){if(--u.usedTimes===0){var c=r.indexOf(u);r[c]=r[r.length-1],r.pop(),u.destroy()}},this.programs=r}function bq(){var e=new WeakMap;function t(o){var a=e.get(o);return a===void 0&&(a={},e.set(o,a)),a}function n(o){e.delete(o)}function r(o,a,l){e.get(o)[a]=l}function i(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:i}}function Sq(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Eq(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function qA(){var e=[],t=0,n=[],r=[];function i(){t=0,n.length=0,r.length=0}function o(c,d,h,p,v,g){var y=e[t];return y===void 0?(y={id:c.id,object:c,geometry:d,material:h,program:h.program,groupOrder:p,renderOrder:c.renderOrder,z:v,group:g},e[t]=y):(y.id=c.id,y.object=c,y.geometry=d,y.material=h,y.program=h.program,y.groupOrder=p,y.renderOrder=c.renderOrder,y.z=v,y.group=g),t++,y}function a(c,d,h,p,v,g){var y=o(c,d,h,p,v,g);(h.transparent===!0?r:n).push(y)}function l(c,d,h,p,v,g){var y=o(c,d,h,p,v,g);(h.transparent===!0?r:n).unshift(y)}function u(){n.length>1&&n.sort(Sq),r.length>1&&r.sort(Eq)}return{opaque:n,transparent:r,init:i,push:a,unshift:l,sort:u}}function Mq(){var e={};function t(i){var o=i.target;o.removeEventListener("dispose",t),delete e[o.id]}function n(i,o){var a=e[i.id],l;return a===void 0?(l=new qA,e[i.id]={},e[i.id][o.id]=l,i.addEventListener("dispose",t)):(l=a[o.id],l===void 0&&(l=new qA,a[o.id]=l)),l}function r(){e={}}return{get:n,dispose:r}}function Aq(){var e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new U,color:new Ie,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ce};break;case"SpotLight":n={position:new U,direction:new U,color:new Ie,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ce};break;case"PointLight":n={position:new U,color:new Ie,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ce,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new U,skyColor:new Ie,groundColor:new Ie};break;case"RectAreaLight":n={color:new Ie,position:new U,halfWidth:new U,halfHeight:new U};break}return e[t.id]=n,n}}}var Tq=0;function Pq(){var e=new Aq,t={id:Tq++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new U,r=new je,i=new je;function o(a,l,u){for(var c=0,d=0,h=0,p=0,v=0,g=0,y=0,M=0,_=u.matrixWorldInverse,x=0,b=a.length;x<b;x++){var E=a[x],A=E.color,C=E.intensity,P=E.distance,R=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)c+=A.r*C,d+=A.g*C,h+=A.b*C;else if(E.isDirectionalLight){var N=e.get(E);if(N.color.copy(E.color).multiplyScalar(E.intensity),N.direction.setFromMatrixPosition(E.matrixWorld),n.setFromMatrixPosition(E.target.matrixWorld),N.direction.sub(n),N.direction.transformDirection(_),N.shadow=E.castShadow,E.castShadow){var F=E.shadow;N.shadowBias=F.bias,N.shadowRadius=F.radius,N.shadowMapSize=F.mapSize}t.directionalShadowMap[p]=R,t.directionalShadowMatrix[p]=E.shadow.matrix,t.directional[p]=N,p++}else if(E.isSpotLight){var N=e.get(E);if(N.position.setFromMatrixPosition(E.matrixWorld),N.position.applyMatrix4(_),N.color.copy(A).multiplyScalar(C),N.distance=P,N.direction.setFromMatrixPosition(E.matrixWorld),n.setFromMatrixPosition(E.target.matrixWorld),N.direction.sub(n),N.direction.transformDirection(_),N.coneCos=Math.cos(E.angle),N.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),N.decay=E.decay,N.shadow=E.castShadow,E.castShadow){var F=E.shadow;N.shadowBias=F.bias,N.shadowRadius=F.radius,N.shadowMapSize=F.mapSize}t.spotShadowMap[g]=R,t.spotShadowMatrix[g]=E.shadow.matrix,t.spot[g]=N,g++}else if(E.isRectAreaLight){var N=e.get(E);N.color.copy(A).multiplyScalar(C),N.position.setFromMatrixPosition(E.matrixWorld),N.position.applyMatrix4(_),i.identity(),r.copy(E.matrixWorld),r.premultiply(_),i.extractRotation(r),N.halfWidth.set(E.width*.5,0,0),N.halfHeight.set(0,E.height*.5,0),N.halfWidth.applyMatrix4(i),N.halfHeight.applyMatrix4(i),t.rectArea[y]=N,y++}else if(E.isPointLight){var N=e.get(E);if(N.position.setFromMatrixPosition(E.matrixWorld),N.position.applyMatrix4(_),N.color.copy(E.color).multiplyScalar(E.intensity),N.distance=E.distance,N.decay=E.decay,N.shadow=E.castShadow,E.castShadow){var F=E.shadow;N.shadowBias=F.bias,N.shadowRadius=F.radius,N.shadowMapSize=F.mapSize,N.shadowCameraNear=F.camera.near,N.shadowCameraFar=F.camera.far}t.pointShadowMap[v]=R,t.pointShadowMatrix[v]=E.shadow.matrix,t.point[v]=N,v++}else if(E.isHemisphereLight){var N=e.get(E);N.direction.setFromMatrixPosition(E.matrixWorld),N.direction.transformDirection(_),N.direction.normalize(),N.skyColor.copy(E.color).multiplyScalar(C),N.groundColor.copy(E.groundColor).multiplyScalar(C),t.hemi[M]=N,M++}}t.ambient[0]=c,t.ambient[1]=d,t.ambient[2]=h,t.directional.length=p,t.spot.length=g,t.rectArea.length=y,t.point.length=v,t.hemi.length=M,t.hash.stateID=t.id,t.hash.directionalLength=p,t.hash.pointLength=v,t.hash.spotLength=g,t.hash.rectAreaLength=y,t.hash.hemiLength=M,t.hash.shadowsLength=l.length}return{setup:o,state:t}}function KA(){var e=new Pq,t=[],n=[];function r(){t.length=0,n.length=0}function i(u){t.push(u)}function o(u){n.push(u)}function a(u){e.setup(t,n,u)}var l={lightsArray:t,shadowsArray:n,lights:e};return{init:r,state:l,setupLights:a,pushLight:i,pushShadow:o}}function Cq(){var e={};function t(i){var o=i.target;o.removeEventListener("dispose",t),delete e[o.id]}function n(i,o){var a;return e[i.id]===void 0?(a=new KA,e[i.id]={},e[i.id][o.id]=a,i.addEventListener("dispose",t)):e[i.id][o.id]===void 0?(a=new KA,e[i.id][o.id]=a):a=e[i.id][o.id],a}function r(){e={}}return{get:n,dispose:r}}function Zs(e){We.call(this),this.type="MeshDepthMaterial",this.depthPacking=uY,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}Zs.prototype=Object.create(We.prototype);Zs.prototype.constructor=Zs;Zs.prototype.isMeshDepthMaterial=!0;Zs.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function Xs(e){We.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new U,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}Xs.prototype=Object.create(We.prototype);Xs.prototype.constructor=Xs;Xs.prototype.isMeshDistanceMaterial=!0;Xs.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function kO(e,t,n){for(var r=new Rb,i=new je,o=new ce,a=new ce(n,n),l=new U,u=new U,c=1,d=2,h=(c|d)+1,p=new Array(h),v=new Array(h),g={},y={0:pr,1:sh,2:lh},M=[new U(1,0,0),new U(-1,0,0),new U(0,0,1),new U(0,0,-1),new U(0,1,0),new U(0,-1,0)],_=[new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,0,1),new U(0,0,-1)],x=[new Gt,new Gt,new Gt,new Gt,new Gt,new Gt],b=0;b!==h;++b){var E=(b&c)!==0,A=(b&d)!==0,C=new Zs({depthPacking:cY,morphTargets:E,skinning:A});p[b]=C;var P=new Xs({morphTargets:E,skinning:A});v[b]=P}var R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=sO,this.render=function(z,G,K){if(R.enabled!==!1&&!(R.autoUpdate===!1&&R.needsUpdate===!1)&&z.length!==0){var W=e.state;W.setBlending(yf),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);for(var $,X=0,J=z.length;X<J;X++){var V=z[X],I=V.shadow,k=V&&V.isPointLight;if(I===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}var q=I.camera;if(o.copy(I.mapSize),o.min(a),k){var H=o.x,ue=o.y;x[0].set(H*2,ue,H,ue),x[1].set(0,ue,H,ue),x[2].set(H*3,ue,H,ue),x[3].set(H,ue,H,ue),x[4].set(H*3,0,H,ue),x[5].set(H,0,H,ue),o.x*=4,o.y*=2}if(I.map===null){var Q={minFilter:zn,magFilter:zn,format:wo};I.map=new Qi(o.x,o.y,Q),I.map.texture.name=V.name+".shadowMap",q.updateProjectionMatrix()}I.isSpotLightShadow&&I.update(V);var ne=I.map,re=I.matrix;u.setFromMatrixPosition(V.matrixWorld),q.position.copy(u),k?($=6,re.makeTranslation(-u.x,-u.y,-u.z)):($=1,l.setFromMatrixPosition(V.target.matrixWorld),q.lookAt(l),q.updateMatrixWorld(),re.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),re.multiply(q.projectionMatrix),re.multiply(q.matrixWorldInverse)),e.setRenderTarget(ne),e.clear();for(var ve=0;ve<$;ve++){if(k){l.copy(q.position),l.add(M[ve]),q.up.copy(_[ve]),q.lookAt(l),q.updateMatrixWorld();var xe=x[ve];W.viewport(xe)}i.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),r.setFromMatrix(i),F(G,K,q,k)}}R.needsUpdate=!1}};function N(z,G,K,W,$,X){var J=z.geometry,V=null,I=p,k=z.customDepthMaterial;if(K&&(I=v,k=z.customDistanceMaterial),k)V=k;else{var q=!1;G.morphTargets&&(J&&J.isBufferGeometry?q=J.morphAttributes&&J.morphAttributes.position&&J.morphAttributes.position.length>0:J&&J.isGeometry&&(q=J.morphTargets&&J.morphTargets.length>0)),z.isSkinnedMesh&&G.skinning===!1&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",z);var H=z.isSkinnedMesh&&G.skinning,ue=0;q&&(ue|=c),H&&(ue|=d),V=I[ue]}if(e.localClippingEnabled&&G.clipShadows===!0&&G.clippingPlanes.length!==0){var Q=V.uuid,ne=G.uuid,re=g[Q];re===void 0&&(re={},g[Q]=re);var ve=re[ne];ve===void 0&&(ve=V.clone(),re[ne]=ve),V=ve}return V.visible=G.visible,V.wireframe=G.wireframe,V.side=G.shadowSide!=null?G.shadowSide:y[G.side],V.clipShadows=G.clipShadows,V.clippingPlanes=G.clippingPlanes,V.clipIntersection=G.clipIntersection,V.wireframeLinewidth=G.wireframeLinewidth,V.linewidth=G.linewidth,K&&V.isMeshDistanceMaterial&&(V.referencePosition.copy(W),V.nearDistance=$,V.farDistance=X),V}function F(z,G,K,W){if(z.visible!==!1){var $=z.layers.test(G.layers);if($&&(z.isMesh||z.isLine||z.isPoints)&&z.castShadow&&(!z.frustumCulled||r.intersectsObject(z))){z.modelViewMatrix.multiplyMatrices(K.matrixWorldInverse,z.matrixWorld);var X=t.update(z),J=z.material;if(Array.isArray(J))for(var V=X.groups,I=0,k=V.length;I<k;I++){var q=V[I],H=J[q.materialIndex];if(H&&H.visible){var ue=N(z,H,W,u,K.near,K.far);e.renderBufferDirect(K,null,X,ue,z,q)}}else if(J.visible){var ue=N(z,J,W,u,K.near,K.far);e.renderBufferDirect(K,null,X,ue,z,null)}}for(var Q=z.children,ne=0,re=Q.length;ne<re;ne++)F(Q[ne],G,K,W)}}}function Lq(e,t,n,r){function i(){var ee=!1,se=new Gt,Me=null,Ye=new Gt(0,0,0,0);return{setMask:function(Re){Me!==Re&&!ee&&(e.colorMask(Re,Re,Re,Re),Me=Re)},setLocked:function(Re){ee=Re},setClear:function(Re,nt,Mt,At,qn){qn===!0&&(Re*=At,nt*=At,Mt*=At),se.set(Re,nt,Mt,At),Ye.equals(se)===!1&&(e.clearColor(Re,nt,Mt,At),Ye.copy(se))},reset:function(){ee=!1,Me=null,Ye.set(-1,0,0,0)}}}function o(){var ee=!1,se=null,Me=null,Ye=null;return{setTest:function(Re){Re?ge(e.DEPTH_TEST):ae(e.DEPTH_TEST)},setMask:function(Re){se!==Re&&!ee&&(e.depthMask(Re),se=Re)},setFunc:function(Re){if(Me!==Re){if(Re)switch(Re){case m$:e.depthFunc(e.NEVER);break;case v$:e.depthFunc(e.ALWAYS);break;case g$:e.depthFunc(e.LESS);break;case wx:e.depthFunc(e.LEQUAL);break;case y$:e.depthFunc(e.EQUAL);break;case _$:e.depthFunc(e.GEQUAL);break;case x$:e.depthFunc(e.GREATER);break;case w$:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);Me=Re}},setLocked:function(Re){ee=Re},setClear:function(Re){Ye!==Re&&(e.clearDepth(Re),Ye=Re)},reset:function(){ee=!1,se=null,Me=null,Ye=null}}}function a(){var ee=!1,se=null,Me=null,Ye=null,Re=null,nt=null,Mt=null,At=null,qn=null;return{setTest:function(yt){yt?ge(e.STENCIL_TEST):ae(e.STENCIL_TEST)},setMask:function(yt){se!==yt&&!ee&&(e.stencilMask(yt),se=yt)},setFunc:function(yt,cr,_n){(Me!==yt||Ye!==cr||Re!==_n)&&(e.stencilFunc(yt,cr,_n),Me=yt,Ye=cr,Re=_n)},setOp:function(yt,cr,_n){(nt!==yt||Mt!==cr||At!==_n)&&(e.stencilOp(yt,cr,_n),nt=yt,Mt=cr,At=_n)},setLocked:function(yt){ee=yt},setClear:function(yt){qn!==yt&&(e.clearStencil(yt),qn=yt)},reset:function(){ee=!1,se=null,Me=null,Ye=null,Re=null,nt=null,Mt=null,At=null,qn=null}}}var l=new i,u=new o,c=new a,d=e.getParameter(e.MAX_VERTEX_ATTRIBS),h=new Uint8Array(d),p=new Uint8Array(d),v=new Uint8Array(d),g={},y=null,M=null,_=null,x=null,b=null,E=null,A=null,C=null,P=null,R=null,N=!1,F=null,z=null,G=null,K=null,W=null,$=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),X=!1,J=0,V=e.getParameter(e.VERSION);V.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL\ ([0-9])/.exec(V)[1]),X=J>=1):V.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(V)[1]),X=J>=2);var I=null,k={},q=new Gt,H=new Gt;function ue(ee,se,Me){var Ye=new Uint8Array(4),Re=e.createTexture();e.bindTexture(ee,Re),e.texParameteri(ee,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(ee,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var nt=0;nt<Me;nt++)e.texImage2D(se+nt,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,Ye);return Re}var Q={};Q[e.TEXTURE_2D]=ue(e.TEXTURE_2D,e.TEXTURE_2D,1),Q[e.TEXTURE_CUBE_MAP]=ue(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),l.setClear(0,0,0,1),u.setClear(1),c.setClear(0),ge(e.DEPTH_TEST),u.setFunc(wx),Ke(!1),Wt(LA),ge(e.CULL_FACE),ye(yf);function ne(){for(var ee=0,se=h.length;ee<se;ee++)h[ee]=0}function re(ee){ve(ee,0)}function ve(ee,se){if(h[ee]=1,p[ee]===0&&(e.enableVertexAttribArray(ee),p[ee]=1),v[ee]!==se){var Me=r.isWebGL2?e:t.get("ANGLE_instanced_arrays");Me[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ee,se),v[ee]=se}}function xe(){for(var ee=0,se=p.length;ee!==se;++ee)p[ee]!==h[ee]&&(e.disableVertexAttribArray(ee),p[ee]=0)}function ge(ee){g[ee]!==!0&&(e.enable(ee),g[ee]=!0)}function ae(ee){g[ee]!==!1&&(e.disable(ee),g[ee]=!1)}function Te(){if(y===null&&(y=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var ee=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),se=0;se<ee.length;se++)y.push(ee[se]);return y}function ze(ee){return M!==ee?(e.useProgram(ee),M=ee,!0):!1}function ye(ee,se,Me,Ye,Re,nt,Mt,At){if(ee===yf){_&&(ae(e.BLEND),_=!1);return}if(_||(ge(e.BLEND),_=!0),ee!==fO){if(ee!==x||At!==N){if((b!==ql||C!==ql)&&(e.blendEquation(e.FUNC_ADD),b=ql,C=ql),At)switch(ee){case du:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case yx:e.blendFunc(e.ONE,e.ONE);break;case _x:e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA);break;case xx:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case du:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case yx:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case _x:e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR);break;case xx:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}E=null,A=null,P=null,R=null,x=ee,N=At}return}Re=Re||se,nt=nt||Me,Mt=Mt||Ye,(se!==b||Re!==C)&&(e.blendEquationSeparate(n.convert(se),n.convert(Re)),b=se,C=Re),(Me!==E||Ye!==A||nt!==P||Mt!==R)&&(e.blendFuncSeparate(n.convert(Me),n.convert(Ye),n.convert(nt),n.convert(Mt)),E=Me,A=Ye,P=nt,R=Mt),x=ee,N=null}function qe(ee,se){ee.side===lh?ae(e.CULL_FACE):ge(e.CULL_FACE);var Me=ee.side===pr;se&&(Me=!Me),Ke(Me),ee.blending===du&&ee.transparent===!1?ye(yf):ye(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.premultipliedAlpha),u.setFunc(ee.depthFunc),u.setTest(ee.depthTest),u.setMask(ee.depthWrite),l.setMask(ee.colorWrite),an(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits)}function Ke(ee){F!==ee&&(ee?e.frontFace(e.CW):e.frontFace(e.CCW),F=ee)}function Wt(ee){ee!==t$?(ge(e.CULL_FACE),ee!==z&&(ee===LA?e.cullFace(e.BACK):ee===n$?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):ae(e.CULL_FACE),z=ee}function Lt(ee){ee!==G&&(X&&e.lineWidth(ee),G=ee)}function an(ee,se,Me){ee?(ge(e.POLYGON_OFFSET_FILL),(K!==se||W!==Me)&&(e.polygonOffset(se,Me),K=se,W=Me)):ae(e.POLYGON_OFFSET_FILL)}function Nn(ee){ee?ge(e.SCISSOR_TEST):ae(e.SCISSOR_TEST)}function Rt(ee){ee===void 0&&(ee=e.TEXTURE0+$-1),I!==ee&&(e.activeTexture(ee),I=ee)}function Nt(ee,se){I===null&&Rt();var Me=k[I];Me===void 0&&(Me={type:void 0,texture:void 0},k[I]=Me),(Me.type!==ee||Me.texture!==se)&&(e.bindTexture(ee,se||Q[ee]),Me.type=ee,Me.texture=se)}function Zt(){try{e.compressedTexImage2D.apply(e,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ar(){try{e.texImage2D.apply(e,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function gt(){try{e.texImage3D.apply(e,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function dn(ee){q.equals(ee)===!1&&(e.scissor(ee.x,ee.y,ee.z,ee.w),q.copy(ee))}function Je(ee){H.equals(ee)===!1&&(e.viewport(ee.x,ee.y,ee.z,ee.w),H.copy(ee))}function it(){for(var ee=0;ee<p.length;ee++)p[ee]===1&&(e.disableVertexAttribArray(ee),p[ee]=0);g={},y=null,I=null,k={},M=null,x=null,F=null,z=null,l.reset(),u.reset(),c.reset()}return{buffers:{color:l,depth:u,stencil:c},initAttributes:ne,enableAttribute:re,enableAttributeAndDivisor:ve,disableUnusedAttributes:xe,enable:ge,disable:ae,getCompressedTextureFormats:Te,useProgram:ze,setBlending:ye,setMaterial:qe,setFlipSided:Ke,setCullFace:Wt,setLineWidth:Lt,setPolygonOffset:an,setScissorTest:Nn,activeTexture:Rt,bindTexture:Nt,compressedTexImage2D:Zt,texImage2D:Ar,texImage3D:gt,scissor:dn,viewport:Je,reset:it}}function Rq(e,t,n,r,i,o,a){var l={},u;function c(I,k,q,H){var ue=1;if((I.width>H||I.height>H)&&(ue=H/Math.max(I.width,I.height)),ue<1||k===!0)if(I instanceof HTMLImageElement||I instanceof HTMLCanvasElement||I instanceof ImageBitmap){u===void 0&&(u=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));var Q=q?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):u,ne=k?Xe.floorPowerOfTwo:Math.floor;Q.width=ne(ue*I.width),Q.height=ne(ue*I.height);var re=Q.getContext("2d");return re.drawImage(I,0,0,Q.width,Q.height),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+I.width+"x"+I.height+") to ("+Q.width+"x"+Q.height+")."),Q}else return"data"in I&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+I.width+"x"+I.height+")."),I;return I}function d(I){return Xe.isPowerOfTwo(I.width)&&Xe.isPowerOfTwo(I.height)}function h(I){return i.isWebGL2?!1:I.wrapS!==bi||I.wrapT!==bi||I.minFilter!==zn&&I.minFilter!==$n}function p(I,k){return I.generateMipmaps&&k&&I.minFilter!==zn&&I.minFilter!==$n}function v(I,k,q,H){e.generateMipmap(I);var ue=r.get(k);ue.__maxMipLevel=Math.log(Math.max(q,H))*Math.LOG2E}function g(I,k){if(!i.isWebGL2)return I;var q=I;return I===e.RED&&(k===e.FLOAT&&(q=e.R32F),k===e.HALF_FLOAT&&(q=e.R16F),k===e.UNSIGNED_BYTE&&(q=e.R8)),I===e.RGB&&(k===e.FLOAT&&(q=e.RGB32F),k===e.HALF_FLOAT&&(q=e.RGB16F),k===e.UNSIGNED_BYTE&&(q=e.RGB8)),I===e.RGBA&&(k===e.FLOAT&&(q=e.RGBA32F),k===e.HALF_FLOAT&&(q=e.RGBA16F),k===e.UNSIGNED_BYTE&&(q=e.RGBA8)),q===e.R16F||q===e.R32F||q===e.RGBA16F||q===e.RGBA32F?t.get("EXT_color_buffer_float"):(q===e.RGB16F||q===e.RGB32F)&&console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),q}function y(I){return I===zn||I===Pb||I===Cb?e.NEAREST:e.LINEAR}function M(I){var k=I.target;k.removeEventListener("dispose",M),x(k),k.isVideoTexture&&delete l[k.id],a.memory.textures--}function _(I){var k=I.target;k.removeEventListener("dispose",_),b(k),a.memory.textures--}function x(I){var k=r.get(I);if(I.image&&k.__image__webglTextureCube)e.deleteTexture(k.__image__webglTextureCube);else{if(k.__webglInit===void 0)return;e.deleteTexture(k.__webglTexture)}r.remove(I)}function b(I){var k=r.get(I),q=r.get(I.texture);if(I){if(q.__webglTexture!==void 0&&e.deleteTexture(q.__webglTexture),I.depthTexture&&I.depthTexture.dispose(),I.isWebGLRenderTargetCube)for(var H=0;H<6;H++)e.deleteFramebuffer(k.__webglFramebuffer[H]),k.__webglDepthbuffer&&e.deleteRenderbuffer(k.__webglDepthbuffer[H]);else e.deleteFramebuffer(k.__webglFramebuffer),k.__webglDepthbuffer&&e.deleteRenderbuffer(k.__webglDepthbuffer);r.remove(I.texture),r.remove(I)}}function E(I,k){var q=r.get(I);if(I.isVideoTexture&&V(I),I.version>0&&q.__version!==I.version){var H=I.image;if(H===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(H.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{N(q,I,k);return}}n.activeTexture(e.TEXTURE0+k),n.bindTexture(e.TEXTURE_2D,q.__webglTexture)}function A(I,k){var q=r.get(I);if(I.version>0&&q.__version!==I.version){N(q,I,k);return}n.activeTexture(e.TEXTURE0+k),n.bindTexture(e.TEXTURE_3D,q.__webglTexture)}function C(I,k){var q=r.get(I);if(I.image.length===6)if(I.version>0&&q.__version!==I.version){q.__image__webglTextureCube||(I.addEventListener("dispose",M),q.__image__webglTextureCube=e.createTexture(),a.memory.textures++),n.activeTexture(e.TEXTURE0+k),n.bindTexture(e.TEXTURE_CUBE_MAP,q.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,I.flipY);for(var H=I&&I.isCompressedTexture,ue=I.image[0]&&I.image[0].isDataTexture,Q=[],ne=0;ne<6;ne++)!H&&!ue?Q[ne]=c(I.image[ne],!1,!0,i.maxCubemapSize):Q[ne]=ue?I.image[ne].image:I.image[ne];var re=Q[0],ve=d(re),xe=o.convert(I.format),ge=o.convert(I.type),ae=g(xe,ge);R(e.TEXTURE_CUBE_MAP,I,ve);for(var ne=0;ne<6;ne++)if(!H)ue?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,ae,Q[ne].width,Q[ne].height,0,xe,ge,Q[ne].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,ae,xe,ge,Q[ne]);else for(var Te,ze=Q[ne].mipmaps,ye=0,qe=ze.length;ye<qe;ye++)Te=ze[ye],I.format!==wo&&I.format!==$s?n.getCompressedTextureFormats().indexOf(xe)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ne,ye,ae,Te.width,Te.height,0,Te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+ne,ye,ae,Te.width,Te.height,0,xe,ge,Te.data);H?q.__maxMipLevel=ze.length-1:q.__maxMipLevel=0,p(I,ve)&&v(e.TEXTURE_CUBE_MAP,I,re.width,re.height),q.__version=I.version,I.onUpdate&&I.onUpdate(I)}else n.activeTexture(e.TEXTURE0+k),n.bindTexture(e.TEXTURE_CUBE_MAP,q.__image__webglTextureCube)}function P(I,k){n.activeTexture(e.TEXTURE0+k),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(I).__webglTexture)}function R(I,k,q){var H;if(q?(e.texParameteri(I,e.TEXTURE_WRAP_S,o.convert(k.wrapS)),e.texParameteri(I,e.TEXTURE_WRAP_T,o.convert(k.wrapT)),e.texParameteri(I,e.TEXTURE_MAG_FILTER,o.convert(k.magFilter)),e.texParameteri(I,e.TEXTURE_MIN_FILTER,o.convert(k.minFilter))):(e.texParameteri(I,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(I,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),(k.wrapS!==bi||k.wrapT!==bi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(I,e.TEXTURE_MAG_FILTER,y(k.magFilter)),e.texParameteri(I,e.TEXTURE_MIN_FILTER,y(k.minFilter)),k.minFilter!==zn&&k.minFilter!==$n&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),H=t.get("EXT_texture_filter_anisotropic"),H){if(k.type===nd&&t.get("OES_texture_float_linear")===null||k.type===Lb&&(i.isWebGL2||t.get("OES_texture_half_float_linear"))===null)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(e.texParameterf(I,H.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function N(I,k,q){var H;k.isDataTexture3D?H=e.TEXTURE_3D:H=e.TEXTURE_2D,I.__webglInit===void 0&&(I.__webglInit=!0,k.addEventListener("dispose",M),I.__webglTexture=e.createTexture(),a.memory.textures++),n.activeTexture(e.TEXTURE0+q),n.bindTexture(H,I.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,k.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,k.unpackAlignment);var ue=h(k)&&d(k.image)===!1,Q=c(k.image,ue,!1,i.maxTextureSize),ne=d(Q),re=o.convert(k.format),ve=o.convert(k.type),xe=g(re,ve);R(H,k,ne);var ge,ae=k.mipmaps;if(k.isDepthTexture){if(xe=e.DEPTH_COMPONENT,k.type===nd){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");xe=e.DEPTH_COMPONENT32F}else i.isWebGL2&&(xe=e.DEPTH_COMPONENT16);k.format===hu&&xe===e.DEPTH_COMPONENT&&k.type!==Am&&k.type!==yO&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=Am,ve=o.convert(k.type)),k.format===rd&&(xe=e.DEPTH_STENCIL,k.type!==Tm&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=Tm,ve=o.convert(k.type))),n.texImage2D(e.TEXTURE_2D,0,xe,Q.width,Q.height,0,re,ve,null)}else if(k.isDataTexture){if(ae.length>0&&ne){for(var Te=0,ze=ae.length;Te<ze;Te++)ge=ae[Te],n.texImage2D(e.TEXTURE_2D,Te,xe,ge.width,ge.height,0,re,ve,ge.data);k.generateMipmaps=!1,I.__maxMipLevel=ae.length-1}else n.texImage2D(e.TEXTURE_2D,0,xe,Q.width,Q.height,0,re,ve,Q.data),I.__maxMipLevel=0;k.isCfxTexture&&(e.texParameterf(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameterf(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT),e.texParameterf(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT))}else if(k.isCompressedTexture){for(var Te=0,ze=ae.length;Te<ze;Te++)ge=ae[Te],k.format!==wo&&k.format!==$s?n.getCompressedTextureFormats().indexOf(re)>-1?n.compressedTexImage2D(e.TEXTURE_2D,Te,xe,ge.width,ge.height,0,ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,Te,xe,ge.width,ge.height,0,re,ve,ge.data);I.__maxMipLevel=ae.length-1}else if(k.isDataTexture3D)n.texImage3D(e.TEXTURE_3D,0,xe,Q.width,Q.height,Q.depth,0,re,ve,Q.data),I.__maxMipLevel=0;else if(ae.length>0&&ne){for(var Te=0,ze=ae.length;Te<ze;Te++)ge=ae[Te],n.texImage2D(e.TEXTURE_2D,Te,xe,re,ve,ge);k.generateMipmaps=!1,I.__maxMipLevel=ae.length-1}else n.texImage2D(e.TEXTURE_2D,0,xe,re,ve,Q),I.__maxMipLevel=0;p(k,ne)&&v(e.TEXTURE_2D,k,Q.width,Q.height),I.__version=k.version,k.onUpdate&&k.onUpdate(k)}function F(I,k,q,H){var ue=o.convert(k.texture.format),Q=o.convert(k.texture.type),ne=g(ue,Q);n.texImage2D(H,0,ne,k.width,k.height,0,ue,Q,null),e.bindFramebuffer(e.FRAMEBUFFER,I),e.framebufferTexture2D(e.FRAMEBUFFER,q,H,r.get(k.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function z(I,k,q){if(e.bindRenderbuffer(e.RENDERBUFFER,I),k.depthBuffer&&!k.stencilBuffer){if(q){var H=J(k);e.renderbufferStorageMultisample(e.RENDERBUFFER,H,e.DEPTH_COMPONENT16,k.width,k.height)}else e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,k.width,k.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,I)}else if(k.depthBuffer&&k.stencilBuffer){if(q){var H=J(k);e.renderbufferStorageMultisample(e.RENDERBUFFER,H,e.DEPTH_STENCIL,k.width,k.height)}else e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,k.width,k.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,I)}else{var ue=o.convert(k.texture.format),Q=o.convert(k.texture.type),ne=g(ue,Q);if(q){var H=J(k);e.renderbufferStorageMultisample(e.RENDERBUFFER,H,ne,k.width,k.height)}else e.renderbufferStorage(e.RENDERBUFFER,ne,k.width,k.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function G(I,k){var q=k&&k.isWebGLRenderTargetCube;if(q)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,I),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),E(k.depthTexture,0);var H=r.get(k.depthTexture).__webglTexture;if(k.depthTexture.format===hu)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,H,0);else if(k.depthTexture.format===rd)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,H,0);else throw new Error("Unknown depthTexture format")}function K(I){var k=r.get(I),q=I.isWebGLRenderTargetCube===!0;if(I.depthTexture){if(q)throw new Error("target.depthTexture not supported in Cube render targets");G(k.__webglFramebuffer,I)}else if(q){k.__webglDepthbuffer=[];for(var H=0;H<6;H++)e.bindFramebuffer(e.FRAMEBUFFER,k.__webglFramebuffer[H]),k.__webglDepthbuffer[H]=e.createRenderbuffer(),z(k.__webglDepthbuffer[H],I)}else e.bindFramebuffer(e.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer=e.createRenderbuffer(),z(k.__webglDepthbuffer,I);e.bindFramebuffer(e.FRAMEBUFFER,null)}function W(I){var k=r.get(I),q=r.get(I.texture);I.addEventListener("dispose",_),q.__webglTexture=e.createTexture(),a.memory.textures++;var H=I.isWebGLRenderTargetCube===!0,ue=I.isWebGLMultisampleRenderTarget===!0,Q=d(I);if(H){k.__webglFramebuffer=[];for(var ne=0;ne<6;ne++)k.__webglFramebuffer[ne]=e.createFramebuffer()}else if(k.__webglFramebuffer=e.createFramebuffer(),ue)if(i.isWebGL2){k.__webglMultisampledFramebuffer=e.createFramebuffer(),k.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,k.__webglColorRenderbuffer);var re=o.convert(I.texture.format),ve=o.convert(I.texture.type),xe=g(re,ve),ge=J(I);e.renderbufferStorageMultisample(e.RENDERBUFFER,ge,xe,I.width,I.height),e.bindFramebuffer(e.FRAMEBUFFER,k.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,k.__webglColorRenderbuffer),e.bindRenderbuffer(e.RENDERBUFFER,null),I.depthBuffer&&(k.__webglDepthRenderbuffer=e.createRenderbuffer(),z(k.__webglDepthRenderbuffer,I,!0)),e.bindFramebuffer(e.FRAMEBUFFER,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(H){n.bindTexture(e.TEXTURE_CUBE_MAP,q.__webglTexture),R(e.TEXTURE_CUBE_MAP,I.texture,Q);for(var ne=0;ne<6;ne++)F(k.__webglFramebuffer[ne],I,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+ne);p(I.texture,Q)&&v(e.TEXTURE_CUBE_MAP,I.texture,I.width,I.height),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,q.__webglTexture),R(e.TEXTURE_2D,I.texture,Q),F(k.__webglFramebuffer,I,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),p(I.texture,Q)&&v(e.TEXTURE_2D,I.texture,I.width,I.height),n.bindTexture(e.TEXTURE_2D,null);I.depthBuffer&&K(I)}function $(I){var k=I.texture,q=d(I);if(p(k,q)){var H=I.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,ue=r.get(k).__webglTexture;n.bindTexture(H,ue),v(H,k,I.width,I.height),n.bindTexture(H,null)}}function X(I){if(I.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var k=r.get(I);e.bindFramebuffer(e.READ_FRAMEBUFFER,k.__webglMultisampledFramebuffer),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,k.__webglFramebuffer);var q=I.width,H=I.height,ue=e.COLOR_BUFFER_BIT;I.depthBuffer&&(ue|=e.DEPTH_BUFFER_BIT),I.stencilBuffer&&(ue|=e.STENCIL_BUFFER_BIT),e.blitFramebuffer(0,0,q,H,0,0,q,H,ue,e.NEAREST)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function J(I){return i.isWebGL2&&I.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,I.samples):0}function V(I){var k=I.id,q=a.render.frame;l[k]!==q&&(l[k]=q,I.update())}this.setTexture2D=E,this.setTexture3D=A,this.setTextureCube=C,this.setTextureCubeDynamic=P,this.setupRenderTarget=W,this.updateRenderTargetMipmap=$,this.updateMultisampleRenderTarget=X}function Oq(e,t,n){function r(i){var o;if(i===Ia)return e.REPEAT;if(i===bi)return e.CLAMP_TO_EDGE;if(i===Pu)return e.MIRRORED_REPEAT;if(i===zn)return e.NEAREST;if(i===Pb)return e.NEAREST_MIPMAP_NEAREST;if(i===Cb)return e.NEAREST_MIPMAP_LINEAR;if(i===$n)return e.LINEAR;if(i===gO)return e.LINEAR_MIPMAP_NEAREST;if(i===Wg)return e.LINEAR_MIPMAP_LINEAR;if(i===td)return e.UNSIGNED_BYTE;if(i===R$)return e.UNSIGNED_SHORT_4_4_4_4;if(i===O$)return e.UNSIGNED_SHORT_5_5_5_1;if(i===N$)return e.UNSIGNED_SHORT_5_6_5;if(i===P$)return e.BYTE;if(i===C$)return e.SHORT;if(i===Am)return e.UNSIGNED_SHORT;if(i===L$)return e.INT;if(i===yO)return e.UNSIGNED_INT;if(i===nd)return e.FLOAT;if(i===Lb){if(n.isWebGL2)return e.HALF_FLOAT;if(o=t.get("OES_texture_half_float"),o!==null)return o.HALF_FLOAT_OES}if(i===k$)return e.ALPHA;if(i===$s)return e.RGB;if(i===wo)return e.RGBA;if(i===I$)return e.LUMINANCE;if(i===D$)return e.LUMINANCE_ALPHA;if(i===hu)return e.DEPTH_COMPONENT;if(i===rd)return e.DEPTH_STENCIL;if(i===F$)return e.RED;if(i===ql)return e.FUNC_ADD;if(i===i$)return e.FUNC_SUBTRACT;if(i===o$)return e.FUNC_REVERSE_SUBTRACT;if(i===a$)return e.ZERO;if(i===s$)return e.ONE;if(i===l$)return e.SRC_COLOR;if(i===u$)return e.ONE_MINUS_SRC_COLOR;if(i===dO)return e.SRC_ALPHA;if(i===hO)return e.ONE_MINUS_SRC_ALPHA;if(i===c$)return e.DST_ALPHA;if(i===f$)return e.ONE_MINUS_DST_ALPHA;if(i===d$)return e.DST_COLOR;if(i===h$)return e.ONE_MINUS_DST_COLOR;if(i===p$)return e.SRC_ALPHA_SATURATE;if((i===RA||i===OA||i===NA||i===kA)&&(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null)){if(i===RA)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===OA)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===NA)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===kA)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((i===IA||i===DA||i===FA||i===BA)&&(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null)){if(i===IA)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===DA)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===FA)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===BA)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i===B$&&(o=t.get("WEBGL_compressed_texture_etc1"),o!==null))return o.COMPRESSED_RGB_ETC1_WEBGL;if((i===z$||i===U$||i===j$||i===H$||i===G$||i===V$||i===W$||i===$$||i===Y$||i===Z$||i===X$||i===q$||i===K$||i===J$)&&(o=t.get("WEBGL_compressed_texture_astc"),o!==null))return i;if(i===C0||i===L0){if(n.isWebGL2){if(i===C0)return e.MIN;if(i===L0)return e.MAX}if(o=t.get("EXT_blend_minmax"),o!==null){if(i===C0)return o.MIN_EXT;if(i===L0)return o.MAX_EXT}}if(i===Tm){if(n.isWebGL2)return e.UNSIGNED_INT_24_8;if(o=t.get("WEBGL_depth_texture"),o!==null)return o.UNSIGNED_INT_24_8_WEBGL}return 0}return{convert:r}}function ud(){we.call(this),this.type="Group"}ud.prototype=Object.assign(Object.create(we.prototype),{constructor:ud,isGroup:!0});function ia(){we.call(this),this.type="Camera",this.matrixWorldInverse=new je,this.projectionMatrix=new je,this.projectionMatrixInverse=new je}ia.prototype=Object.assign(Object.create(we.prototype),{constructor:ia,isCamera:!0,copy:function(e,t){return we.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new U),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){we.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function Pn(e,t,n,r){ia.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=r!==void 0?r:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Pn.prototype=Object.assign(Object.create(ia.prototype),{constructor:Pn,isPerspectiveCamera:!0,copy:function(e,t){return ia.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=Xe.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(Xe.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return Xe.RAD2DEG*2*Math.atan(Math.tan(Xe.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(Xe.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(this.view!==null&&this.view.enabled){var a=o.fullWidth,l=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/l,r*=o.width/a,n*=o.height/l}var u=this.filmOffset;u!==0&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=we.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});function km(e){Pn.call(this),this.cameras=e||[]}km.prototype=Object.assign(Object.create(Pn.prototype),{constructor:km,isArrayCamera:!0});var JA=new U,QA=new U;function IO(e,t,n){JA.setFromMatrixPosition(t.matrixWorld),QA.setFromMatrixPosition(n.matrixWorld);var r=JA.distanceTo(QA),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),l=i[14]/(i[10]+1),u=(i[9]+1)/i[5],c=(i[9]-1)/i[5],d=(i[8]-1)/i[0],h=(o[8]+1)/o[0],p=a*d,v=a*h,g=r/(-d+h),y=g*-d;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(y),e.translateZ(g),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var M=a+g,_=l+g,x=p-y,b=v+(r-y),E=u*l/_*M,A=c*l/_*M;e.projectionMatrix.makePerspective(x,b,E,A,M,_)}function DO(e){var t=this,n=null,r=null,i=null,o=[],a=new je,l=new je,u=1,c="stage";typeof window<"u"&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",b,!1));var d=new je,h=new Bn,p=new U,v=new Pn;v.bounds=new Gt(0,0,.5,1),v.layers.enable(1);var g=new Pn;g.bounds=new Gt(.5,0,.5,1),g.layers.enable(2);var y=new km([v,g]);y.layers.enable(1),y.layers.enable(2);function M(){return n!==null&&n.isPresenting===!0}var _,x;function b(){if(M()){var R=n.getEyeParameters("left"),N=R.renderWidth*u,F=R.renderHeight*u;x=e.getPixelRatio(),_=e.getSize(),e.setDrawingBufferSize(N*2,F,1),P.start()}else t.enabled&&e.setDrawingBufferSize(_.width,_.height,x),P.stop()}var E=[];function A(R){for(var N=navigator.getGamepads&&navigator.getGamepads(),F=0,z=0,G=N.length;F<G;F++){var K=N[F];if(K&&(K.id==="Daydream Controller"||K.id==="Gear VR Controller"||K.id==="Oculus Go Controller"||K.id==="OpenVR Gamepad"||K.id.startsWith("Oculus Touch")||K.id.startsWith("Spatial Controller"))){if(z===R)return K;z++}}}function C(){for(var R=0;R<o.length;R++){var N=o[R],F=A(R);if(F!==void 0&&F.pose!==void 0){if(F.pose===null)return;var z=F.pose;z.hasPosition===!1&&N.position.set(.2,-.6,-.05),z.position!==null&&N.position.fromArray(z.position),z.orientation!==null&&N.quaternion.fromArray(z.orientation),N.matrix.compose(N.position,N.quaternion,N.scale),N.matrix.premultiply(a),N.matrix.decompose(N.position,N.quaternion,N.scale),N.matrixWorldNeedsUpdate=!0,N.visible=!0;var G=F.id==="Daydream Controller"?0:1;E[R]!==F.buttons[G].pressed&&(E[R]=F.buttons[G].pressed,E[R]===!0?N.dispatchEvent({type:"selectstart"}):(N.dispatchEvent({type:"selectend"}),N.dispatchEvent({type:"select"})))}else N.visible=!1}}this.enabled=!1,this.getController=function(R){var N=o[R];return N===void 0&&(N=new ud,N.matrixAutoUpdate=!1,N.visible=!1,o[R]=N),N},this.getDevice=function(){return n},this.setDevice=function(R){R!==void 0&&(n=R),P.setContext(R)},this.setFramebufferScaleFactor=function(R){u=R},this.setFrameOfReferenceType=function(R){c=R},this.setPoseTarget=function(R){R!==void 0&&(i=R)},this.getCamera=function(R){var N=c==="stage"?1.6:0;if(n===null)return R.position.set(0,N,0),R;if(n.depthNear=R.near,n.depthFar=R.far,n.getFrameData(r),c==="stage"){var F=n.stageParameters;F?a.fromArray(F.sittingToStandingTransform):a.makeTranslation(0,N,0)}var z=r.pose,G=i!==null?i:R;if(G.matrix.copy(a),G.matrix.decompose(G.position,G.quaternion,G.scale),z.orientation!==null&&(h.fromArray(z.orientation),G.quaternion.multiply(h)),z.position!==null&&(h.setFromRotationMatrix(a),p.fromArray(z.position),p.applyQuaternion(h),G.position.add(p)),G.updateMatrixWorld(),n.isPresenting===!1)return R;v.near=R.near,g.near=R.near,v.far=R.far,g.far=R.far,v.matrixWorldInverse.fromArray(r.leftViewMatrix),g.matrixWorldInverse.fromArray(r.rightViewMatrix),l.getInverse(a),c==="stage"&&(v.matrixWorldInverse.multiply(l),g.matrixWorldInverse.multiply(l));var K=G.parent;K!==null&&(d.getInverse(K.matrixWorld),v.matrixWorldInverse.multiply(d),g.matrixWorldInverse.multiply(d)),v.matrixWorld.getInverse(v.matrixWorldInverse),g.matrixWorld.getInverse(g.matrixWorldInverse),v.projectionMatrix.fromArray(r.leftProjectionMatrix),g.projectionMatrix.fromArray(r.rightProjectionMatrix),IO(y,v,g);var W=n.getLayers();if(W.length){var $=W[0];$.leftBounds!==null&&$.leftBounds.length===4&&v.bounds.fromArray($.leftBounds),$.rightBounds!==null&&$.rightBounds.length===4&&g.bounds.fromArray($.rightBounds)}return C(),y},this.getStandingMatrix=function(){return a},this.isPresenting=M;var P=new Ob;this.setAnimationLoop=function(R){P.setAnimationLoop(R)},this.submitFrame=function(){M()&&n.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",b)}}function Nq(e){var t=e.context,n=null,r=null,i=1,o=null,a="stage",l=null,u=[],c=[];function d(){return r!==null&&o!==null}var h=new Pn;h.layers.enable(1),h.viewport=new Gt;var p=new Pn;p.layers.enable(2),p.viewport=new Gt;var v=new km([h,p]);v.layers.enable(1),v.layers.enable(2),this.enabled=!1,this.getController=function(E){var A=u[E];return A===void 0&&(A=new ud,A.matrixAutoUpdate=!1,A.visible=!1,u[E]=A),A},this.getDevice=function(){return n},this.setDevice=function(E){E!==void 0&&(n=E),E instanceof XRDevice&&t.setCompatibleXRDevice(E)};function g(E){var A=u[c.indexOf(E.inputSource)];A&&A.dispatchEvent({type:E.type})}function y(){e.setFramebuffer(null),b.stop()}this.setFramebufferScaleFactor=function(E){i=E},this.setFrameOfReferenceType=function(E){a=E},this.setSession=function(E){r=E,r!==null&&(r.addEventListener("select",g),r.addEventListener("selectstart",g),r.addEventListener("selectend",g),r.addEventListener("end",y),r.baseLayer=new XRWebGLLayer(r,t,{framebufferScaleFactor:i}),r.requestFrameOfReference(a).then(function(A){o=A,e.setFramebuffer(r.baseLayer.framebuffer),b.setContext(r),b.start()}),c=r.getInputSources(),r.addEventListener("inputsourceschange",function(){c=r.getInputSources();for(var A=0;A<u.length;A++){var C=u[A];C.userData.inputSource=c[A]}}))};function M(E,A){A===null?E.matrixWorld.copy(E.matrix):E.matrixWorld.multiplyMatrices(A.matrixWorld,E.matrix),E.matrixWorldInverse.getInverse(E.matrixWorld)}this.getCamera=function(E){if(d()){var A=E.parent,C=v.cameras;M(v,A);for(var P=0;P<C.length;P++)M(C[P],A);E.matrixWorld.copy(v.matrixWorld);for(var R=E.children,P=0,N=R.length;P<N;P++)R[P].updateMatrixWorld(!0);return IO(v,h,p),v}return E},this.isPresenting=d;var _=null;function x(E,A){if(l=A.getDevicePose(o),l!==null)for(var C=r.baseLayer,P=A.views,R=0;R<P.length;R++){var N=P[R],F=C.getViewport(N),z=l.getViewMatrix(N),G=v.cameras[R];G.matrix.fromArray(z).getInverse(G.matrix),G.projectionMatrix.fromArray(N.projectionMatrix),G.viewport.set(F.x,F.y,F.width,F.height),R===0&&v.matrix.copy(G.matrix)}for(var R=0;R<u.length;R++){var K=u[R],W=c[R];if(W){var $=A.getInputPose(W,o);if($!==null){"targetRay"in $?K.matrix.elements=$.targetRay.transformMatrix:"pointerMatrix"in $&&(K.matrix.elements=$.pointerMatrix),K.matrix.decompose(K.position,K.rotation,K.scale),K.visible=!0;continue}}K.visible=!1}_&&_(E)}var b=new Ob;b.setAnimationLoop(x),this.setAnimationLoop=function(E){_=E},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function Nb(e){e=e||{};var t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=e.context!==void 0?e.context:null,r=e.alpha!==void 0?e.alpha:!1,i=e.depth!==void 0?e.depth:!0,o=e.stencil!==void 0?e.stencil:!0,a=e.antialias!==void 0?e.antialias:!1,l=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,u=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,c=e.powerPreference!==void 0?e.powerPreference:"default",d=null,h=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=pO,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var p=this,v=!1,g=null,y=null,M=null,_=-1,x={geometry:null,program:null,wireframe:!1},b=null,E=null,A=new Gt,C=new Gt,P=null,R=0,N=t.width,F=t.height,z=1,G=new Gt(0,0,N,F),K=new Gt(0,0,N,F),W=!1,$=new Rb,X=new NX,J=!1,V=!1,I=new je,k=new U;function q(){return y===null?z:1}var H;try{var ue={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c};if(t.addEventListener("webglcontextlost",gt,!1),t.addEventListener("webglcontextrestored",dn,!1),H=n||t.getContext("webgl",ue)||t.getContext("experimental-webgl",ue),H===null)throw t.getContext("webgl")!==null?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");H.getShaderPrecisionFormat===void 0&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(B){console.error("THREE.WebGLRenderer: "+B.message)}var Q,ne,re,ve,xe,ge,ae,Te,ze,ye,qe,Ke,Wt,Lt,an,Nn,Rt;function Nt(){Q=new kX(H),ne=new OX(H,Q,e),ne.isWebGL2||(Q.get("WEBGL_depth_texture"),Q.get("OES_texture_float"),Q.get("OES_texture_half_float"),Q.get("OES_texture_half_float_linear"),Q.get("OES_standard_derivatives"),Q.get("OES_element_index_uint"),Q.get("ANGLE_instanced_arrays")),Q.get("OES_texture_float_linear"),Rt=new Oq(H,Q,ne),re=new Lq(H,Q,Rt,ne),re.scissor(C.copy(K).multiplyScalar(z)),re.viewport(A.copy(G).multiplyScalar(z)),ve=new FX(H),xe=new bq,ge=new Rq(H,Q,re,xe,ne,Rt,ve),ae=new MX(H),Te=new IX(H,ae,ve),ze=new UX(Te,ve),Lt=new zX(H),ye=new wq(p,Q,ne),qe=new Mq,Ke=new Cq,Wt=new LX(p,re,ze,l),an=new RX(H,Q,ve,ne),Nn=new DX(H,Q,ve,ne),ve.programs=ye.programs,p.context=H,p.capabilities=ne,p.extensions=Q,p.properties=xe,p.renderLists=qe,p.state=re,p.info=ve}Nt();var Zt=null;typeof navigator<"u"&&(Zt="xr"in navigator?new Nq(p):new DO(p)),this.vr=Zt;var Ar=new kO(p,ze,ne.maxTextureSize);this.shadowMap=Ar,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){var B=Q.get("WEBGL_lose_context");B&&B.loseContext()},this.forceContextRestore=function(){var B=Q.get("WEBGL_lose_context");B&&B.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(B){B!==void 0&&(z=B,this.setSize(N,F,!1))},this.getSize=function(){return{width:N,height:F}},this.setSize=function(B,j,Z){if(Zt.isPresenting()){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}N=B,F=j,t.width=B*z,t.height=j*z,Z!==!1&&(t.style.width=B+"px",t.style.height=j+"px"),this.setViewport(0,0,B,j)},this.getDrawingBufferSize=function(){return{width:N*z,height:F*z}},this.setDrawingBufferSize=function(B,j,Z){N=B,F=j,z=Z,t.width=B*Z,t.height=j*Z,this.setViewport(0,0,B,j)},this.getCurrentViewport=function(){return A},this.setViewport=function(B,j,Z,fe){G.set(B,F-j-fe,Z,fe),re.viewport(A.copy(G).multiplyScalar(z))},this.setScissor=function(B,j,Z,fe){K.set(B,F-j-fe,Z,fe),re.scissor(C.copy(K).multiplyScalar(z))},this.setScissorTest=function(B){re.setScissorTest(W=B)},this.getClearColor=function(){return Wt.getClearColor()},this.setClearColor=function(){Wt.setClearColor.apply(Wt,arguments)},this.getClearAlpha=function(){return Wt.getClearAlpha()},this.setClearAlpha=function(){Wt.setClearAlpha.apply(Wt,arguments)},this.clear=function(B,j,Z){var fe=0;(B===void 0||B)&&(fe|=H.COLOR_BUFFER_BIT),(j===void 0||j)&&(fe|=H.DEPTH_BUFFER_BIT),(Z===void 0||Z)&&(fe|=H.STENCIL_BUFFER_BIT),H.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",gt,!1),t.removeEventListener("webglcontextrestored",dn,!1),qe.dispose(),Ke.dispose(),xe.dispose(),ze.dispose(),Zt.dispose(),nt.stop()};function gt(B){B.preventDefault(),v=!0}function dn(){v=!1,Nt()}function Je(B){var j=B.target;j.removeEventListener("dispose",Je),it(j)}function it(B){ee(B),xe.remove(B)}function ee(B){var j=xe.get(B).program;B.program=void 0,j!==void 0&&ye.releaseProgram(j)}function se(B,j){B.render(function(Z){p.renderBufferImmediate(Z,j)})}this.renderBufferImmediate=function(B,j){re.initAttributes();var Z=xe.get(B);B.hasPositions&&!Z.position&&(Z.position=H.createBuffer()),B.hasNormals&&!Z.normal&&(Z.normal=H.createBuffer()),B.hasUvs&&!Z.uv&&(Z.uv=H.createBuffer()),B.hasColors&&!Z.color&&(Z.color=H.createBuffer());var fe=j.getAttributes();B.hasPositions&&(H.bindBuffer(H.ARRAY_BUFFER,Z.position),H.bufferData(H.ARRAY_BUFFER,B.positionArray,H.DYNAMIC_DRAW),re.enableAttribute(fe.position),H.vertexAttribPointer(fe.position,3,H.FLOAT,!1,0,0)),B.hasNormals&&(H.bindBuffer(H.ARRAY_BUFFER,Z.normal),H.bufferData(H.ARRAY_BUFFER,B.normalArray,H.DYNAMIC_DRAW),re.enableAttribute(fe.normal),H.vertexAttribPointer(fe.normal,3,H.FLOAT,!1,0,0)),B.hasUvs&&(H.bindBuffer(H.ARRAY_BUFFER,Z.uv),H.bufferData(H.ARRAY_BUFFER,B.uvArray,H.DYNAMIC_DRAW),re.enableAttribute(fe.uv),H.vertexAttribPointer(fe.uv,2,H.FLOAT,!1,0,0)),B.hasColors&&(H.bindBuffer(H.ARRAY_BUFFER,Z.color),H.bufferData(H.ARRAY_BUFFER,B.colorArray,H.DYNAMIC_DRAW),re.enableAttribute(fe.color),H.vertexAttribPointer(fe.color,3,H.FLOAT,!1,0,0)),re.disableUnusedAttributes(),H.drawArrays(H.TRIANGLES,0,B.count),B.count=0},this.renderBufferDirect=function(B,j,Z,fe,Ee,lt){var be=Ee.isMesh&&Ee.normalMatrix.determinant()<0;re.setMaterial(fe,be);var Le=cr(B,j,fe,Ee),et=!1;(x.geometry!==Z.id||x.program!==Le.id||x.wireframe!==(fe.wireframe===!0))&&(x.geometry=Z.id,x.program=Le.id,x.wireframe=fe.wireframe===!0,et=!0),Ee.morphTargetInfluences&&(Lt.update(Ee,Z,fe,Le),et=!0);var kt=Z.index,Tt=Z.attributes.position,Ht=1;fe.wireframe===!0&&(kt=Te.getWireframeAttribute(Z),Ht=2);var en,rt=an;kt!==null&&(en=ae.get(kt),rt=Nn,rt.setIndex(en)),et&&(Me(fe,Le,Z),kt!==null&&H.bindBuffer(H.ELEMENT_ARRAY_BUFFER,en.buffer));var ke=1/0;kt!==null?ke=kt.count:Tt!==void 0&&(ke=Tt.count);var ht=Z.drawRange.start*Ht,En=Z.drawRange.count*Ht,ci=lt!==null?lt.start*Ht:0,hn=lt!==null?lt.count*Ht:1/0,ki=Math.max(ht,ci),pa=Math.min(ke,ht+En,ci+hn)-1,No=Math.max(0,pa-ki+1);if(No!==0){if(Ee.isMesh)if(fe.wireframe===!0)re.setLineWidth(fe.wireframeLinewidth*q()),rt.setMode(H.LINES);else switch(Ee.drawMode){case _O:rt.setMode(H.TRIANGLES);break;case nY:rt.setMode(H.TRIANGLE_STRIP);break;case rY:rt.setMode(H.TRIANGLE_FAN);break}else if(Ee.isLine){var ul=fe.linewidth;ul===void 0&&(ul=1),re.setLineWidth(ul*q()),Ee.isLineSegments?rt.setMode(H.LINES):Ee.isLineLoop?rt.setMode(H.LINE_LOOP):rt.setMode(H.LINE_STRIP)}else Ee.isPoints?rt.setMode(H.POINTS):Ee.isSprite&&rt.setMode(H.TRIANGLES);Z&&Z.isInstancedBufferGeometry?Z.maxInstancedCount>0&&rt.renderInstances(Z,ki,No):rt.render(ki,No)}};function Me(B,j,Z){if(Z&&Z.isInstancedBufferGeometry&!ne.isWebGL2&&Q.get("ANGLE_instanced_arrays")===null){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}re.initAttributes();var fe=Z.attributes,Ee=j.getAttributes(),lt=B.defaultAttributeValues;for(var be in Ee){var Le=Ee[be];if(Le>=0){var et=fe[be];if(et!==void 0){var kt=et.normalized,Tt=et.itemSize,Ht=ae.get(et);if(Ht===void 0)continue;var en=Ht.buffer,rt=Ht.type,ke=Ht.bytesPerElement;if(et.isInterleavedBufferAttribute){var ht=et.data,En=ht.stride,ci=et.offset;ht&&ht.isInstancedInterleavedBuffer?(re.enableAttributeAndDivisor(Le,ht.meshPerAttribute),Z.maxInstancedCount===void 0&&(Z.maxInstancedCount=ht.meshPerAttribute*ht.count)):re.enableAttribute(Le),H.bindBuffer(H.ARRAY_BUFFER,en),H.vertexAttribPointer(Le,Tt,rt,kt,En*ke,ci*ke)}else et.isInstancedBufferAttribute?(re.enableAttributeAndDivisor(Le,et.meshPerAttribute),Z.maxInstancedCount===void 0&&(Z.maxInstancedCount=et.meshPerAttribute*et.count)):re.enableAttribute(Le),H.bindBuffer(H.ARRAY_BUFFER,en),H.vertexAttribPointer(Le,Tt,rt,kt,0,0)}else if(lt!==void 0){var hn=lt[be];if(hn!==void 0)switch(hn.length){case 2:H.vertexAttrib2fv(Le,hn);break;case 3:H.vertexAttrib3fv(Le,hn);break;case 4:H.vertexAttrib4fv(Le,hn);break;default:H.vertexAttrib1fv(Le,hn)}}}}re.disableUnusedAttributes()}this.compile=function(B,j){h=Ke.get(B,j),h.init(),B.traverse(function(Z){Z.isLight&&(h.pushLight(Z),Z.castShadow&&h.pushShadow(Z))}),h.setupLights(j),B.traverse(function(Z){if(Z.material)if(Array.isArray(Z.material))for(var fe=0;fe<Z.material.length;fe++)yt(Z.material[fe],B.fog,Z);else yt(Z.material,B.fog,Z)})};var Ye=null;function Re(B){Zt.isPresenting()||Ye&&Ye(B)}var nt=new Ob;nt.setAnimationLoop(Re),typeof window<"u"&&nt.setContext(window),this.setAnimationLoop=function(B){Ye=B,Zt.setAnimationLoop(B),nt.start()},this.render=function(B,j,Z,fe){if(!(j&&j.isCamera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!v){x.geometry=null,x.program=null,x.wireframe=!1,_=-1,b=null,B.autoUpdate===!0&&B.updateMatrixWorld(),j.parent===null&&j.updateMatrixWorld(),Zt.enabled&&(j=Zt.getCamera(j)),h=Ke.get(B,j),h.init(),B.onBeforeRender(p,B,j,Z),I.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),$.setFromMatrix(I),V=this.localClippingEnabled,J=X.init(this.clippingPlanes,V,j),d=qe.get(B,j),d.init(),Mt(B,j,0,p.sortObjects),p.sortObjects===!0&&d.sort(),J&&X.beginShadows();var Ee=h.state.shadowsArray;Ar.render(Ee,B,j),h.setupLights(j),J&&X.endShadows(),this.info.autoReset&&this.info.reset(),Z===void 0&&(Z=null),this.setRenderTarget(Z),Wt.render(d,B,j,fe);var lt=d.opaque,be=d.transparent;if(B.overrideMaterial){var Le=B.overrideMaterial;lt.length&&At(lt,B,j,Le),be.length&&At(be,B,j,Le)}else lt.length&&At(lt,B,j),be.length&&At(be,B,j);Z&&(ge.updateRenderTargetMipmap(Z),ge.updateMultisampleRenderTarget(Z)),re.buffers.depth.setTest(!0),re.buffers.depth.setMask(!0),re.buffers.color.setMask(!0),re.setPolygonOffset(!1),B.onAfterRender(p,B,j),Zt.enabled&&Zt.submitFrame(),d=null,h=null}};function Mt(B,j,Z,fe){if(B.visible!==!1){var Ee=B.layers.test(j.layers);if(Ee){if(B.isGroup)Z=B.renderOrder;else if(B.isLight)h.pushLight(B),B.castShadow&&h.pushShadow(B);else if(B.isSprite){if(!B.frustumCulled||$.intersectsSprite(B)){fe&&k.setFromMatrixPosition(B.matrixWorld).applyMatrix4(I);var lt=ze.update(B),be=B.material;d.push(B,lt,be,Z,k.z,null)}}else if(B.isImmediateRenderObject)fe&&k.setFromMatrixPosition(B.matrixWorld).applyMatrix4(I),d.push(B,null,B.material,Z,k.z,null);else if((B.isMesh||B.isLine||B.isPoints)&&(B.isSkinnedMesh&&B.skeleton.update(),!B.frustumCulled||$.intersectsObject(B))){fe&&k.setFromMatrixPosition(B.matrixWorld).applyMatrix4(I);var lt=ze.update(B),be=B.material;if(Array.isArray(be))for(var Le=lt.groups,et=0,kt=Le.length;et<kt;et++){var Tt=Le[et],Ht=be[Tt.materialIndex];Ht&&Ht.visible&&d.push(B,lt,Ht,Z,k.z,Tt)}else be.visible&&d.push(B,lt,be,Z,k.z,null)}}for(var en=B.children,et=0,kt=en.length;et<kt;et++)Mt(en[et],j,Z,fe)}}function At(B,j,Z,fe){for(var Ee=0,lt=B.length;Ee<lt;Ee++){var be=B[Ee],Le=be.object,et=be.geometry,kt=fe===void 0?be.material:fe,Tt=be.group;if(Z.isArrayCamera){E=Z;for(var Ht=Z.cameras,en=0,rt=Ht.length;en<rt;en++){var ke=Ht[en];if(Le.layers.test(ke.layers)){if("viewport"in ke)re.viewport(A.copy(ke.viewport));else{var ht=ke.bounds,En=ht.x*N,ci=ht.y*F,hn=ht.z*N,ki=ht.w*F;re.viewport(A.set(En,ci,hn,ki).multiplyScalar(z))}h.setupLights(ke),qn(Le,j,ke,et,kt,Tt)}}}else E=null,qn(Le,j,Z,et,kt,Tt)}}function qn(B,j,Z,fe,Ee,lt){if(B.onBeforeRender(p,j,Z,fe,Ee,lt),h=Ke.get(j,E||Z),B.modelViewMatrix.multiplyMatrices(Z.matrixWorldInverse,B.matrixWorld),B.normalMatrix.getNormalMatrix(B.modelViewMatrix),B.isImmediateRenderObject){re.setMaterial(Ee);var be=cr(Z,j.fog,Ee,B);x.geometry=null,x.program=null,x.wireframe=!1,se(B,be)}else p.renderBufferDirect(Z,j.fog,fe,Ee,B,lt);B.onAfterRender(p,j,Z,fe,Ee,lt),h=Ke.get(j,E||Z)}function yt(B,j,Z){var fe=xe.get(B),Ee=h.state.lights,lt=h.state.shadowsArray,be=fe.lightsHash,Le=Ee.state.hash,et=ye.getParameters(B,Ee.state,lt,j,X.numPlanes,X.numIntersection,Z),kt=ye.getProgramCode(B,et),Tt=fe.program,Ht=!0;if(Tt===void 0)B.addEventListener("dispose",Je);else if(Tt.code!==kt)ee(B);else if(be.stateID!==Le.stateID||be.directionalLength!==Le.directionalLength||be.pointLength!==Le.pointLength||be.spotLength!==Le.spotLength||be.rectAreaLength!==Le.rectAreaLength||be.hemiLength!==Le.hemiLength||be.shadowsLength!==Le.shadowsLength)be.stateID=Le.stateID,be.directionalLength=Le.directionalLength,be.pointLength=Le.pointLength,be.spotLength=Le.spotLength,be.rectAreaLength=Le.rectAreaLength,be.hemiLength=Le.hemiLength,be.shadowsLength=Le.shadowsLength,Ht=!1;else{if(et.shaderID!==void 0)return;Ht=!1}if(Ht){if(et.shaderID){var en=Vo[et.shaderID];fe.shader={name:B.type,uniforms:od(en.uniforms),vertexShader:en.vertexShader,fragmentShader:en.fragmentShader}}else fe.shader={name:B.type,uniforms:B.uniforms,vertexShader:B.vertexShader,fragmentShader:B.fragmentShader};B.onBeforeCompile(fe.shader,p),kt=ye.getProgramCode(B,et),Tt=ye.acquireProgram(B,fe.shader,et,kt),fe.program=Tt,B.program=Tt}var rt=Tt.getAttributes();if(B.morphTargets){B.numSupportedMorphTargets=0;for(var ke=0;ke<p.maxMorphTargets;ke++)rt["morphTarget"+ke]>=0&&B.numSupportedMorphTargets++}if(B.morphNormals){B.numSupportedMorphNormals=0;for(var ke=0;ke<p.maxMorphNormals;ke++)rt["morphNormal"+ke]>=0&&B.numSupportedMorphNormals++}var ht=fe.shader.uniforms;(!B.isShaderMaterial&&!B.isRawShaderMaterial||B.clipping===!0)&&(fe.numClippingPlanes=X.numPlanes,fe.numIntersection=X.numIntersection,ht.clippingPlanes=X.uniform),fe.fog=j,be===void 0&&(fe.lightsHash=be={}),be.stateID=Le.stateID,be.directionalLength=Le.directionalLength,be.pointLength=Le.pointLength,be.spotLength=Le.spotLength,be.rectAreaLength=Le.rectAreaLength,be.hemiLength=Le.hemiLength,be.shadowsLength=Le.shadowsLength,B.lights&&(ht.ambientLightColor.value=Ee.state.ambient,ht.directionalLights.value=Ee.state.directional,ht.spotLights.value=Ee.state.spot,ht.rectAreaLights.value=Ee.state.rectArea,ht.pointLights.value=Ee.state.point,ht.hemisphereLights.value=Ee.state.hemi,ht.directionalShadowMap.value=Ee.state.directionalShadowMap,ht.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,ht.spotShadowMap.value=Ee.state.spotShadowMap,ht.spotShadowMatrix.value=Ee.state.spotShadowMatrix,ht.pointShadowMap.value=Ee.state.pointShadowMap,ht.pointShadowMatrix.value=Ee.state.pointShadowMatrix);var En=fe.program.getUniforms(),ci=Za.seqWithValue(En.seq,ht);fe.uniformsList=ci}function cr(B,j,Z,fe){R=0;var Ee=xe.get(Z),lt=h.state.lights,be=Ee.lightsHash,Le=lt.state.hash;if(J&&(V||B!==b)){var et=B===b&&Z.id===_;X.setState(Z.clippingPlanes,Z.clipIntersection,Z.clipShadows,B,Ee,et)}Z.needsUpdate===!1&&(Ee.program===void 0||Z.fog&&Ee.fog!==j||Z.lights&&(be.stateID!==Le.stateID||be.directionalLength!==Le.directionalLength||be.pointLength!==Le.pointLength||be.spotLength!==Le.spotLength||be.rectAreaLength!==Le.rectAreaLength||be.hemiLength!==Le.hemiLength||be.shadowsLength!==Le.shadowsLength)||Ee.numClippingPlanes!==void 0&&(Ee.numClippingPlanes!==X.numPlanes||Ee.numIntersection!==X.numIntersection))&&(Z.needsUpdate=!0),Z.needsUpdate&&(yt(Z,j,fe),Z.needsUpdate=!1);var kt=!1,Tt=!1,Ht=!1,en=Ee.program,rt=en.getUniforms(),ke=Ee.shader.uniforms;if(re.useProgram(en.program)&&(kt=!0,Tt=!0,Ht=!0),Z.id!==_&&(_=Z.id,Tt=!0),kt||b!==B){if(rt.setValue(H,"projectionMatrix",B.projectionMatrix),ne.logarithmicDepthBuffer&&rt.setValue(H,"logDepthBufFC",2/(Math.log(B.far+1)/Math.LN2)),b!==B&&(b=B,Tt=!0,Ht=!0),Z.isShaderMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.envMap){var ht=rt.map.cameraPosition;ht!==void 0&&ht.setValue(H,k.setFromMatrixPosition(B.matrixWorld))}(Z.isMeshPhongMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial||Z.skinning)&&rt.setValue(H,"viewMatrix",B.matrixWorldInverse)}if(Z.skinning){rt.setOptional(H,fe,"bindMatrix"),rt.setOptional(H,fe,"bindMatrixInverse");var En=fe.skeleton;if(En){var ci=En.bones;if(ne.floatVertexTextures){if(En.boneTexture===void 0){var hn=Math.sqrt(ci.length*4);hn=Xe.ceilPowerOfTwo(hn),hn=Math.max(hn,4);var ki=new Float32Array(hn*hn*4);ki.set(En.boneMatrices);var pa=new Lu(ki,hn,hn,wo,nd);pa.needsUpdate=!0,En.boneMatrices=ki,En.boneTexture=pa,En.boneTextureSize=hn}rt.setValue(H,"boneTexture",En.boneTexture),rt.setValue(H,"boneTextureSize",En.boneTextureSize)}else rt.setOptional(H,En,"boneMatrices")}}return Tt&&(rt.setValue(H,"toneMappingExposure",p.toneMappingExposure),rt.setValue(H,"toneMappingWhitePoint",p.toneMappingWhitePoint),Z.lights&&ui(ke,Ht),j&&Z.fog&&sl(ke,j),Z.isMeshBasicMaterial?_n(ke,Z):Z.isMeshLambertMaterial?(_n(ke,Z),ll(ke,Z)):Z.isMeshPhongMaterial?(_n(ke,Z),Z.isMeshToonMaterial?Zg(ke,Z):Oo(ke,Z)):Z.isMeshStandardMaterial?(_n(ke,Z),Z.isMeshPhysicalMaterial?cc(ke,Z):uh(ke,Z)):Z.isMeshMatcapMaterial?(_n(ke,Z),Xg(ke,Z)):Z.isMeshDepthMaterial?(_n(ke,Z),qg(ke,Z)):Z.isMeshDistanceMaterial?(_n(ke,Z),Kg(ke,Z)):Z.isMeshNormalMaterial?(_n(ke,Z),Jg(ke,Z)):Z.isLineBasicMaterial?(cs(ke,Z),Z.isLineDashedMaterial&&fs(ke,Z)):Z.isPointsMaterial?al(ke,Z):Z.isSpriteMaterial?uc(ke,Z):Z.isShadowMaterial&&(ke.color.value=Z.color,ke.opacity.value=Z.opacity),ke.ltc_1!==void 0&&(ke.ltc_1.value=Oe.LTC_1),ke.ltc_2!==void 0&&(ke.ltc_2.value=Oe.LTC_2),Za.upload(H,Ee.uniformsList,ke,p)),Z.isShaderMaterial&&Z.uniformsNeedUpdate===!0&&(Za.upload(H,Ee.uniformsList,ke,p),Z.uniformsNeedUpdate=!1),Z.isSpriteMaterial&&rt.setValue(H,"center",fe.center),rt.setValue(H,"modelViewMatrix",fe.modelViewMatrix),rt.setValue(H,"normalMatrix",fe.normalMatrix),rt.setValue(H,"modelMatrix",fe.matrixWorld),en}function _n(B,j){B.opacity.value=j.opacity,j.color&&(B.diffuse.value=j.color),j.emissive&&B.emissive.value.copy(j.emissive).multiplyScalar(j.emissiveIntensity),j.map&&(B.map.value=j.map),j.alphaMap&&(B.alphaMap.value=j.alphaMap),j.specularMap&&(B.specularMap.value=j.specularMap),j.envMap&&(B.envMap.value=j.envMap,B.flipEnvMap.value=j.envMap.isCubeTexture?-1:1,B.reflectivity.value=j.reflectivity,B.refractionRatio.value=j.refractionRatio,B.maxMipLevel.value=xe.get(j.envMap).__maxMipLevel),j.lightMap&&(B.lightMap.value=j.lightMap,B.lightMapIntensity.value=j.lightMapIntensity),j.aoMap&&(B.aoMap.value=j.aoMap,B.aoMapIntensity.value=j.aoMapIntensity);var Z;j.map?Z=j.map:j.specularMap?Z=j.specularMap:j.displacementMap?Z=j.displacementMap:j.normalMap?Z=j.normalMap:j.bumpMap?Z=j.bumpMap:j.roughnessMap?Z=j.roughnessMap:j.metalnessMap?Z=j.metalnessMap:j.alphaMap?Z=j.alphaMap:j.emissiveMap&&(Z=j.emissiveMap),Z!==void 0&&(Z.isWebGLRenderTarget&&(Z=Z.texture),Z.matrixAutoUpdate===!0&&Z.updateMatrix(),B.uvTransform.value.copy(Z.matrix))}function cs(B,j){B.diffuse.value=j.color,B.opacity.value=j.opacity}function fs(B,j){B.dashSize.value=j.dashSize,B.totalSize.value=j.dashSize+j.gapSize,B.scale.value=j.scale}function al(B,j){B.diffuse.value=j.color,B.opacity.value=j.opacity,B.size.value=j.size*z,B.scale.value=F*.5,B.map.value=j.map,j.map!==null&&(j.map.matrixAutoUpdate===!0&&j.map.updateMatrix(),B.uvTransform.value.copy(j.map.matrix))}function uc(B,j){B.diffuse.value=j.color,B.opacity.value=j.opacity,B.rotation.value=j.rotation,B.map.value=j.map,j.map!==null&&(j.map.matrixAutoUpdate===!0&&j.map.updateMatrix(),B.uvTransform.value.copy(j.map.matrix))}function sl(B,j){B.fogColor.value=j.color,j.isFog?(B.fogNear.value=j.near,B.fogFar.value=j.far):j.isFogExp2&&(B.fogDensity.value=j.density)}function ll(B,j){j.emissiveMap&&(B.emissiveMap.value=j.emissiveMap)}function Oo(B,j){B.specular.value=j.specular,B.shininess.value=Math.max(j.shininess,1e-4),j.emissiveMap&&(B.emissiveMap.value=j.emissiveMap),j.bumpMap&&(B.bumpMap.value=j.bumpMap,B.bumpScale.value=j.bumpScale,j.side===pr&&(B.bumpScale.value*=-1)),j.normalMap&&(B.normalMap.value=j.normalMap,B.normalScale.value.copy(j.normalScale),j.side===pr&&B.normalScale.value.negate()),j.displacementMap&&(B.displacementMap.value=j.displacementMap,B.displacementScale.value=j.displacementScale,B.displacementBias.value=j.displacementBias)}function Zg(B,j){Oo(B,j),j.gradientMap&&(B.gradientMap.value=j.gradientMap)}function uh(B,j){B.roughness.value=j.roughness,B.metalness.value=j.metalness,j.roughnessMap&&(B.roughnessMap.value=j.roughnessMap),j.metalnessMap&&(B.metalnessMap.value=j.metalnessMap),j.emissiveMap&&(B.emissiveMap.value=j.emissiveMap),j.bumpMap&&(B.bumpMap.value=j.bumpMap,B.bumpScale.value=j.bumpScale,j.side===pr&&(B.bumpScale.value*=-1)),j.normalMap&&(B.normalMap.value=j.normalMap,B.normalScale.value.copy(j.normalScale),j.side===pr&&B.normalScale.value.negate()),j.displacementMap&&(B.displacementMap.value=j.displacementMap,B.displacementScale.value=j.displacementScale,B.displacementBias.value=j.displacementBias),j.envMap&&(B.envMapIntensity.value=j.envMapIntensity)}function cc(B,j){uh(B,j),B.reflectivity.value=j.reflectivity,B.clearCoat.value=j.clearCoat,B.clearCoatRoughness.value=j.clearCoatRoughness}function Xg(B,j){j.matcap&&(B.matcap.value=j.matcap),j.bumpMap&&(B.bumpMap.value=j.bumpMap,B.bumpScale.value=j.bumpScale,j.side===pr&&(B.bumpScale.value*=-1)),j.normalMap&&(B.normalMap.value=j.normalMap,B.normalScale.value.copy(j.normalScale),j.side===pr&&B.normalScale.value.negate()),j.displacementMap&&(B.displacementMap.value=j.displacementMap,B.displacementScale.value=j.displacementScale,B.displacementBias.value=j.displacementBias)}function qg(B,j){j.displacementMap&&(B.displacementMap.value=j.displacementMap,B.displacementScale.value=j.displacementScale,B.displacementBias.value=j.displacementBias)}function Kg(B,j){j.displacementMap&&(B.displacementMap.value=j.displacementMap,B.displacementScale.value=j.displacementScale,B.displacementBias.value=j.displacementBias),B.referencePosition.value.copy(j.referencePosition),B.nearDistance.value=j.nearDistance,B.farDistance.value=j.farDistance}function Jg(B,j){j.bumpMap&&(B.bumpMap.value=j.bumpMap,B.bumpScale.value=j.bumpScale,j.side===pr&&(B.bumpScale.value*=-1)),j.normalMap&&(B.normalMap.value=j.normalMap,B.normalScale.value.copy(j.normalScale),j.side===pr&&B.normalScale.value.negate()),j.displacementMap&&(B.displacementMap.value=j.displacementMap,B.displacementScale.value=j.displacementScale,B.displacementBias.value=j.displacementBias)}function ui(B,j){B.ambientLightColor.needsUpdate=j,B.directionalLights.needsUpdate=j,B.pointLights.needsUpdate=j,B.spotLights.needsUpdate=j,B.rectAreaLights.needsUpdate=j,B.hemisphereLights.needsUpdate=j}function Ne(){var B=R;return B>=ne.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+B+" texture units while this GPU supports only "+ne.maxTextures),R+=1,B}this.allocTextureUnit=Ne,this.setTexture2D=function(){var B=!1;return function(Z,fe){Z&&Z.isWebGLRenderTarget&&(B||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),B=!0),Z=Z.texture),ge.setTexture2D(Z,fe)}}(),this.setTexture3D=function(){return function(j,Z){ge.setTexture3D(j,Z)}}(),this.setTexture=function(){var B=!1;return function(Z,fe){B||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),B=!0),ge.setTexture2D(Z,fe)}}(),this.setTextureCube=function(){var B=!1;return function(Z,fe){Z&&Z.isWebGLRenderTargetCube&&(B||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),B=!0),Z=Z.texture),Z&&Z.isCubeTexture||Array.isArray(Z.image)&&Z.image.length===6?ge.setTextureCube(Z,fe):ge.setTextureCubeDynamic(Z,fe)}}(),this.setFramebuffer=function(B){g=B},this.getRenderTarget=function(){return y},this.setRenderTarget=function(B){y=B,B&&xe.get(B).__webglFramebuffer===void 0&&ge.setupRenderTarget(B);var j=g,Z=!1;if(B){var fe=xe.get(B).__webglFramebuffer;B.isWebGLRenderTargetCube?(j=fe[B.activeCubeFace],Z=!0):B.isWebGLMultisampleRenderTarget?j=xe.get(B).__webglMultisampledFramebuffer:j=fe,A.copy(B.viewport),C.copy(B.scissor),P=B.scissorTest}else A.copy(G).multiplyScalar(z),C.copy(K).multiplyScalar(z),P=W;if(M!==j&&(H.bindFramebuffer(H.FRAMEBUFFER,j),M=j),re.viewport(A),re.scissor(C),re.setScissorTest(P),Z){var Ee=xe.get(B.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+B.activeCubeFace,Ee.__webglTexture,B.activeMipMapLevel)}},this.readRenderTargetPixels=function(B,j,Z,fe,Ee,lt){if(!(B&&B.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var be=xe.get(B).__webglFramebuffer;if(be){var Le=!1;be!==M&&(H.bindFramebuffer(H.FRAMEBUFFER,be),Le=!0);try{var et=B.texture,kt=et.format,Tt=et.type;if(kt!==wo&&Rt.convert(kt)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Tt!==td&&Rt.convert(Tt)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Tt===nd&&(ne.isWebGL2||Q.get("OES_texture_float")||Q.get("WEBGL_color_buffer_float")))&&!(Tt===Lb&&(ne.isWebGL2?Q.get("EXT_color_buffer_float"):Q.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}H.checkFramebufferStatus(H.FRAMEBUFFER)===H.FRAMEBUFFER_COMPLETE?j>=0&&j<=B.width-fe&&Z>=0&&Z<=B.height-Ee&&H.readPixels(j,Z,fe,Ee,Rt.convert(kt),Rt.convert(Tt),lt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Le&&H.bindFramebuffer(H.FRAMEBUFFER,M)}}},this.copyFramebufferToTexture=function(B,j,Z){var fe=j.image.width,Ee=j.image.height,lt=Rt.convert(j.format);this.setTexture2D(j,0),H.copyTexImage2D(H.TEXTURE_2D,Z||0,lt,B.x,B.y,fe,Ee,0)},this.copyTextureToTexture=function(B,j,Z,fe){var Ee=j.image.width,lt=j.image.height,be=Rt.convert(Z.format),Le=Rt.convert(Z.type);this.setTexture2D(Z,0),j.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,fe||0,B.x,B.y,Ee,lt,be,Le,j.image.data):H.texSubImage2D(H.TEXTURE_2D,fe||0,B.x,B.y,be,Le,j.image)}}function cd(e,t){this.name="",this.color=new Ie(e),this.density=t!==void 0?t:25e-5}cd.prototype.isFogExp2=!0;cd.prototype.clone=function(){return new cd(this.color,this.density)};cd.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};function fd(e,t,n){this.name="",this.color=new Ie(e),this.near=t!==void 0?t:1,this.far=n!==void 0?n:1e3}fd.prototype.isFog=!0;fd.prototype.clone=function(){return new fd(this.color,this.near,this.far)};fd.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};function dd(){we.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}dd.prototype=Object.assign(Object.create(we.prototype),{constructor:dd,copy:function(e,t){return we.prototype.copy.call(this,e,t),e.background!==null&&(this.background=e.background.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=we.prototype.toJSON.call(this,e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Ou(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Ou.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Ou.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=e!==void 0?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});function Im(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=r===!0}Object.defineProperties(Im.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(Im.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}});function qs(e){We.call(this),this.type="SpriteMaterial",this.color=new Ie(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}qs.prototype=Object.create(We.prototype);qs.prototype.constructor=qs;qs.prototype.isSpriteMaterial=!0;qs.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var Ol;function Rx(e){if(we.call(this),this.type="Sprite",Ol===void 0){Ol=new Ce;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Ou(t,5);Ol.setIndex([0,1,2,0,2,3]),Ol.addAttribute("position",new Im(n,3,0,!1)),Ol.addAttribute("uv",new Im(n,2,3,!1))}this.geometry=Ol,this.material=e!==void 0?e:new qs,this.center=new ce(.5,.5)}Rx.prototype=Object.assign(Object.create(we.prototype),{constructor:Rx,isSprite:!0,raycast:function(){var e=new U,t=new U,n=new U,r=new ce,i=new ce,o=new je,a=new U,l=new U,u=new U,c=new ce,d=new ce,h=new ce;function p(v,g,y,M,_,x){r.subVectors(v,y).addScalar(.5).multiply(M),_!==void 0?(i.x=x*r.x-_*r.y,i.y=_*r.x+x*r.y):i.copy(r),v.copy(g),v.x+=i.x,v.y+=i.y,v.applyMatrix4(o)}return function(g,y){t.setFromMatrixScale(this.matrixWorld),o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var M=this.material.rotation,_,x;M!==0&&(x=Math.cos(M),_=Math.sin(M));var b=this.center;p(a.set(-.5,-.5,0),n,b,t,_,x),p(l.set(.5,-.5,0),n,b,t,_,x),p(u.set(.5,.5,0),n,b,t,_,x),c.set(0,0),d.set(1,0),h.set(1,1);var E=g.ray.intersectTriangle(a,l,u,!1,e);if(!(E===null&&(p(l.set(-.5,.5,0),n,b,t,_,x),d.set(0,1),E=g.ray.intersectTriangle(a,u,l,!1,e),E===null))){var A=g.ray.origin.distanceTo(e);A<g.near||A>g.far||y.push({distance:A,point:e.clone(),uv:mr.getUV(e,a,l,u,c,d,h,new ce),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return we.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this}});function Dm(){we.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}Dm.prototype=Object.assign(Object.create(we.prototype),{constructor:Dm,copy:function(e){we.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new U;return function(n,r){e.setFromMatrixPosition(this.matrixWorld);var i=n.ray.origin.distanceTo(e);this.getObjectForDistance(i).raycast(n,r)}}(),update:function(){var e=new U,t=new U;return function(r){var i=this.levels;if(i.length>1){e.setFromMatrixPosition(r.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var o=e.distanceTo(t);i[0].object.visible=!0;for(var a=1,l=i.length;a<l&&o>=i[a].distance;a++)i[a-1].object.visible=!1,i[a].object.visible=!0;for(;a<l;a++)i[a].object.visible=!1}}}(),toJSON:function(e){var t=we.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}});function Fm(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ar.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new je,this.bindMatrixInverse=new je}Fm.prototype=Object.assign(Object.create(ar.prototype),{constructor:Fm,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Gt,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){ar.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function Ox(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new je)}}Object.assign(Ox.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new je;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new je,t=new je;return function(){for(var r=this.bones,i=this.boneInverses,o=this.boneMatrices,a=this.boneTexture,l=0,u=r.length;l<u;l++){var c=r[l]?r[l].matrixWorld:t;e.multiplyMatrices(c,i[l]),e.toArray(o,l*16)}a!==void 0&&(a.needsUpdate=!0)}}(),clone:function(){return new Ox(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}});function eT(){we.call(this),this.type="Bone"}eT.prototype=Object.assign(Object.create(we.prototype),{constructor:eT,isBone:!0});function on(e){We.call(this),this.type="LineBasicMaterial",this.color=new Ie(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}on.prototype=Object.create(We.prototype);on.prototype.constructor=on;on.prototype.isLineBasicMaterial=!0;on.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};function Ur(e,t,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),we.call(this),this.type="Line",this.geometry=e!==void 0?e:new Ce,this.material=t!==void 0?t:new on({color:Math.random()*16777215})}Ur.prototype=Object.assign(Object.create(we.prototype),{constructor:Ur,isLine:!0,computeLineDistances:function(){var e=new U,t=new U;return function(){var r=this.geometry;if(r.isBufferGeometry)if(r.index===null){for(var i=r.attributes.position,o=[0],a=1,l=i.count;a<l;a++)e.fromBufferAttribute(i,a-1),t.fromBufferAttribute(i,a),o[a]=o[a-1],o[a]+=e.distanceTo(t);r.addAttribute("lineDistance",new _e(o,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry){var u=r.vertices,o=r.lineDistances;o[0]=0;for(var a=1,l=u.length;a<l;a++)o[a]=o[a-1],o[a]+=u[a-1].distanceTo(u[a])}return this}}(),raycast:function(){var e=new je,t=new ac,n=new bo;return function(i,o){var a=i.linePrecision,l=this.geometry,u=this.matrixWorld;if(l.boundingSphere===null&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(u),n.radius+=a,i.ray.intersectsSphere(n)!==!1){e.getInverse(u),t.copy(i.ray).applyMatrix4(e);var c=a/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,h=new U,p=new U,v=new U,g=new U,y=this&&this.isLineSegments?2:1;if(l.isBufferGeometry){var M=l.index,_=l.attributes,x=_.position.array;if(M!==null)for(var b=M.array,E=0,A=b.length-1;E<A;E+=y){var C=b[E],P=b[E+1];h.fromArray(x,C*3),p.fromArray(x,P*3);var R=t.distanceSqToSegment(h,p,g,v);if(!(R>d)){g.applyMatrix4(this.matrixWorld);var N=i.ray.origin.distanceTo(g);N<i.near||N>i.far||o.push({distance:N,point:v.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else for(var E=0,A=x.length/3-1;E<A;E+=y){h.fromArray(x,3*E),p.fromArray(x,3*E+3);var R=t.distanceSqToSegment(h,p,g,v);if(!(R>d)){g.applyMatrix4(this.matrixWorld);var N=i.ray.origin.distanceTo(g);N<i.near||N>i.far||o.push({distance:N,point:v.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}else if(l.isGeometry)for(var F=l.vertices,z=F.length,E=0;E<z-1;E+=y){var R=t.distanceSqToSegment(F[E],F[E+1],g,v);if(!(R>d)){g.applyMatrix4(this.matrixWorld);var N=i.ray.origin.distanceTo(g);N<i.near||N>i.far||o.push({distance:N,point:v.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}}}(),copy:function(e){return we.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}});function fn(e,t){Ur.call(this,e,t),this.type="LineSegments"}fn.prototype=Object.assign(Object.create(Ur.prototype),{constructor:fn,isLineSegments:!0,computeLineDistances:function(){var e=new U,t=new U;return function(){var r=this.geometry;if(r.isBufferGeometry)if(r.index===null){for(var i=r.attributes.position,o=[],a=0,l=i.count;a<l;a+=2)e.fromBufferAttribute(i,a),t.fromBufferAttribute(i,a+1),o[a]=a===0?0:o[a-1],o[a+1]=o[a]+e.distanceTo(t);r.addAttribute("lineDistance",new _e(o,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry)for(var u=r.vertices,o=r.lineDistances,a=0,l=u.length;a<l;a+=2)e.copy(u[a]),t.copy(u[a+1]),o[a]=a===0?0:o[a-1],o[a+1]=o[a]+e.distanceTo(t);return this}}()});function Nx(e,t){Ur.call(this,e,t),this.type="LineLoop"}Nx.prototype=Object.assign(Object.create(Ur.prototype),{constructor:Nx,isLineLoop:!0});function Ks(e){We.call(this),this.type="PointsMaterial",this.color=new Ie(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}Ks.prototype=Object.create(We.prototype);Ks.prototype.constructor=Ks;Ks.prototype.isPointsMaterial=!0;Ks.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};function kx(e,t){we.call(this),this.type="Points",this.geometry=e!==void 0?e:new Ce,this.material=t!==void 0?t:new Ks({color:Math.random()*16777215})}kx.prototype=Object.assign(Object.create(we.prototype),{constructor:kx,isPoints:!0,raycast:function(){var e=new je,t=new ac,n=new bo;return function(i,o){var a=this,l=this.geometry,u=this.matrixWorld,c=i.params.Points.threshold;if(l.boundingSphere===null&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(u),n.radius+=c,i.ray.intersectsSphere(n)===!1)return;e.getInverse(u),t.copy(i.ray).applyMatrix4(e);var d=c/((this.scale.x+this.scale.y+this.scale.z)/3),h=d*d,p=new U,v=new U;function g(R,N){var F=t.distanceSqToPoint(R);if(F<h){t.closestPointToPoint(R,v),v.applyMatrix4(u);var z=i.ray.origin.distanceTo(v);if(z<i.near||z>i.far)return;o.push({distance:z,distanceToRay:Math.sqrt(F),point:v.clone(),index:N,face:null,object:a})}}if(l.isBufferGeometry){var y=l.index,M=l.attributes,_=M.position.array;if(y!==null)for(var x=y.array,b=0,E=x.length;b<E;b++){var A=x[b];p.fromArray(_,A*3),g(p,A)}else for(var b=0,C=_.length/3;b<C;b++)p.fromArray(_,b*3),g(p,b)}else for(var P=l.vertices,b=0,C=P.length;b<C;b++)g(P[b],b)}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function tT(e,t,n,r,i,o,a,l,u){Vt.call(this,e,t,n,r,i,o,a,l,u),this.format=a!==void 0?a:$s,this.minFilter=o!==void 0?o:$n,this.magFilter=i!==void 0?i:$n,this.generateMipmaps=!1}tT.prototype=Object.assign(Object.create(Vt.prototype),{constructor:tT,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function hd(e,t,n,r,i,o,a,l,u,c,d,h){Vt.call(this,null,o,a,l,u,c,r,i,d,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}hd.prototype=Object.create(Vt.prototype);hd.prototype.constructor=hd;hd.prototype.isCompressedTexture=!0;function Bm(e,t,n,r,i,o,a,l,u){Vt.call(this,e,t,n,r,i,o,a,l,u),this.needsUpdate=!0}Bm.prototype=Object.create(Vt.prototype);Bm.prototype.constructor=Bm;Bm.prototype.isCanvasTexture=!0;function zm(e,t,n,r,i,o,a,l,u,c){if(c=c!==void 0?c:hu,c!==hu&&c!==rd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&c===hu&&(n=Am),n===void 0&&c===rd&&(n=Tm),Vt.call(this,null,r,i,o,a,l,c,n,u),this.image={width:e,height:t},this.magFilter=a!==void 0?a:zn,this.minFilter=l!==void 0?l:zn,this.flipY=!1,this.generateMipmaps=!1}zm.prototype=Object.create(Vt.prototype);zm.prototype.constructor=zm;zm.prototype.isDepthTexture=!0;function Nu(){var e=new Uint8Array(3),t=1,n=1,r=$s;Vt.call(this,null,void 0,void 0,void 0,void 0,void 0,r,void 0,void 0,void 0),this.image={data:e,width:t,height:n},this.magFilter=zn,this.minFilter=zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}Nu.prototype=Object.create(Vt.prototype);Nu.prototype.constructor=Nu;Nu.prototype.isDataTexture=!0;Nu.prototype.isCfxTexture=!0;function Um(e){Ce.call(this),this.type="WireframeGeometry";var t=[],n,r,i,o,a,l=[0,0],u={},c,d,h,p,v=["a","b","c"],g;if(e&&e.isGeometry){var y=e.faces;for(n=0,i=y.length;n<i;n++){var M=y[n];for(r=0;r<3;r++)d=M[v[r]],h=M[v[(r+1)%3]],l[0]=Math.min(d,h),l[1]=Math.max(d,h),p=l[0]+","+l[1],u[p]===void 0&&(u[p]={index1:l[0],index2:l[1]})}for(p in u)c=u[p],g=e.vertices[c.index1],t.push(g.x,g.y,g.z),g=e.vertices[c.index2],t.push(g.x,g.y,g.z)}else if(e&&e.isBufferGeometry){var _,x,b,E,A,C,P,R;if(g=new U,e.index!==null){for(_=e.attributes.position,x=e.index,b=e.groups,b.length===0&&(b=[{start:0,count:x.count,materialIndex:0}]),o=0,a=b.length;o<a;++o)for(E=b[o],A=E.start,C=E.count,n=A,i=A+C;n<i;n+=3)for(r=0;r<3;r++)d=x.getX(n+r),h=x.getX(n+(r+1)%3),l[0]=Math.min(d,h),l[1]=Math.max(d,h),p=l[0]+","+l[1],u[p]===void 0&&(u[p]={index1:l[0],index2:l[1]});for(p in u)c=u[p],g.fromBufferAttribute(_,c.index1),t.push(g.x,g.y,g.z),g.fromBufferAttribute(_,c.index2),t.push(g.x,g.y,g.z)}else for(_=e.attributes.position,n=0,i=_.count/3;n<i;n++)for(r=0;r<3;r++)P=3*n+r,g.fromBufferAttribute(_,P),t.push(g.x,g.y,g.z),R=3*n+(r+1)%3,g.fromBufferAttribute(_,R),t.push(g.x,g.y,g.z)}this.addAttribute("position",new _e(t,3))}Um.prototype=Object.create(Ce.prototype);Um.prototype.constructor=Um;function jm(e,t,n){He.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new pd(e,t,n)),this.mergeVertices()}jm.prototype=Object.create(He.prototype);jm.prototype.constructor=jm;function pd(e,t,n){Ce.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r=[],i=[],o=[],a=[],l=1e-5,u=new U,c=new U,d=new U,h=new U,p=new U,v,g;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var y=t+1;for(v=0;v<=n;v++){var M=v/n;for(g=0;g<=t;g++){var _=g/t;e(_,M,c),i.push(c.x,c.y,c.z),_-l>=0?(e(_-l,M,d),h.subVectors(c,d)):(e(_+l,M,d),h.subVectors(d,c)),M-l>=0?(e(_,M-l,d),p.subVectors(c,d)):(e(_,M+l,d),p.subVectors(d,c)),u.crossVectors(h,p).normalize(),o.push(u.x,u.y,u.z),a.push(_,M)}}for(v=0;v<n;v++)for(g=0;g<t;g++){var x=v*y+g,b=v*y+g+1,E=(v+1)*y+g+1,A=(v+1)*y+g;r.push(x,b,A),r.push(b,E,A)}this.setIndex(r),this.addAttribute("position",new _e(i,3)),this.addAttribute("normal",new _e(o,3)),this.addAttribute("uv",new _e(a,2))}pd.prototype=Object.create(Ce.prototype);pd.prototype.constructor=pd;function Hm(e,t,n,r){He.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new ti(e,t,n,r)),this.mergeVertices()}Hm.prototype=Object.create(He.prototype);Hm.prototype.constructor=Hm;function ti(e,t,n,r){Ce.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;var i=[],o=[];a(r),u(n),c(),this.addAttribute("position",new _e(i,3)),this.addAttribute("normal",new _e(i.slice(),3)),this.addAttribute("uv",new _e(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){for(var x=new U,b=new U,E=new U,A=0;A<t.length;A+=3)p(t[A+0],x),p(t[A+1],b),p(t[A+2],E),l(x,b,E,_)}function l(_,x,b,E){var A=Math.pow(2,E),C=[],P,R;for(P=0;P<=A;P++){C[P]=[];var N=_.clone().lerp(b,P/A),F=x.clone().lerp(b,P/A),z=A-P;for(R=0;R<=z;R++)R===0&&P===A?C[P][R]=N:C[P][R]=N.clone().lerp(F,R/z)}for(P=0;P<A;P++)for(R=0;R<2*(A-P)-1;R++){var G=Math.floor(R/2);R%2===0?(h(C[P][G+1]),h(C[P+1][G]),h(C[P][G])):(h(C[P][G+1]),h(C[P+1][G+1]),h(C[P+1][G]))}}function u(_){for(var x=new U,b=0;b<i.length;b+=3)x.x=i[b+0],x.y=i[b+1],x.z=i[b+2],x.normalize().multiplyScalar(_),i[b+0]=x.x,i[b+1]=x.y,i[b+2]=x.z}function c(){for(var _=new U,x=0;x<i.length;x+=3){_.x=i[x+0],_.y=i[x+1],_.z=i[x+2];var b=y(_)/2/Math.PI+.5,E=M(_)/Math.PI+.5;o.push(b,1-E)}v(),d()}function d(){for(var _=0;_<o.length;_+=6){var x=o[_+0],b=o[_+2],E=o[_+4],A=Math.max(x,b,E),C=Math.min(x,b,E);A>.9&&C<.1&&(x<.2&&(o[_+0]+=1),b<.2&&(o[_+2]+=1),E<.2&&(o[_+4]+=1))}}function h(_){i.push(_.x,_.y,_.z)}function p(_,x){var b=_*3;x.x=e[b+0],x.y=e[b+1],x.z=e[b+2]}function v(){for(var _=new U,x=new U,b=new U,E=new U,A=new ce,C=new ce,P=new ce,R=0,N=0;R<i.length;R+=9,N+=6){_.set(i[R+0],i[R+1],i[R+2]),x.set(i[R+3],i[R+4],i[R+5]),b.set(i[R+6],i[R+7],i[R+8]),A.set(o[N+0],o[N+1]),C.set(o[N+2],o[N+3]),P.set(o[N+4],o[N+5]),E.copy(_).add(x).add(b).divideScalar(3);var F=y(E);g(A,N+0,_,F),g(C,N+2,x,F),g(P,N+4,b,F)}}function g(_,x,b,E){E<0&&_.x===1&&(o[x]=_.x-1),b.x===0&&b.z===0&&(o[x]=E/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function M(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}ti.prototype=Object.create(Ce.prototype);ti.prototype.constructor=ti;function Gm(e,t){He.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new md(e,t)),this.mergeVertices()}Gm.prototype=Object.create(He.prototype);Gm.prototype.constructor=Gm;function md(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];ti.call(this,n,r,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}md.prototype=Object.create(ti.prototype);md.prototype.constructor=md;function Vm(e,t){He.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ku(e,t)),this.mergeVertices()}Vm.prototype=Object.create(He.prototype);Vm.prototype.constructor=Vm;function ku(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];ti.call(this,n,r,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}ku.prototype=Object.create(ti.prototype);ku.prototype.constructor=ku;function Wm(e,t){He.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new vd(e,t)),this.mergeVertices()}Wm.prototype=Object.create(He.prototype);Wm.prototype.constructor=Wm;function vd(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];ti.call(this,r,i,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}vd.prototype=Object.create(ti.prototype);vd.prototype.constructor=vd;function $m(e,t){He.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new gd(e,t)),this.mergeVertices()}$m.prototype=Object.create(He.prototype);$m.prototype.constructor=$m;function gd(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];ti.call(this,i,o,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}gd.prototype=Object.create(ti.prototype);gd.prototype.constructor=gd;function Ym(e,t,n,r,i,o){He.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},o!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new yd(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}Ym.prototype=Object.create(He.prototype);Ym.prototype.constructor=Ym;function yd(e,t,n,r,i){Ce.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a=new U,l=new U,u=new ce,c=new U,d,h,p=[],v=[],g=[],y=[];M(),this.setIndex(y),this.addAttribute("position",new _e(p,3)),this.addAttribute("normal",new _e(v,3)),this.addAttribute("uv",new _e(g,2));function M(){for(d=0;d<t;d++)_(d);_(i===!1?t:0),b(),x()}function _(E){c=e.getPointAt(E/t,c);var A=o.normals[E],C=o.binormals[E];for(h=0;h<=r;h++){var P=h/r*Math.PI*2,R=Math.sin(P),N=-Math.cos(P);l.x=N*A.x+R*C.x,l.y=N*A.y+R*C.y,l.z=N*A.z+R*C.z,l.normalize(),v.push(l.x,l.y,l.z),a.x=c.x+n*l.x,a.y=c.y+n*l.y,a.z=c.z+n*l.z,p.push(a.x,a.y,a.z)}}function x(){for(h=1;h<=t;h++)for(d=1;d<=r;d++){var E=(r+1)*(h-1)+(d-1),A=(r+1)*h+(d-1),C=(r+1)*h+d,P=(r+1)*(h-1)+d;y.push(E,A,P),y.push(A,C,P)}}function b(){for(d=0;d<=t;d++)for(h=0;h<=r;h++)u.x=d/t,u.y=h/r,g.push(u.x,u.y)}}yd.prototype=Object.create(Ce.prototype);yd.prototype.constructor=yd;function Zm(e,t,n,r,i,o,a){He.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},a!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new _d(e,t,n,r,i,o)),this.mergeVertices()}Zm.prototype=Object.create(He.prototype);Zm.prototype.constructor=Zm;function _d(e,t,n,r,i,o){Ce.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a=[],l=[],u=[],c=[],d,h,p=new U,v=new U,g=new U,y=new U,M=new U,_=new U,x=new U;for(d=0;d<=n;++d){var b=d/n*i*Math.PI*2;for(z(b,i,o,e,g),z(b+.01,i,o,e,y),_.subVectors(y,g),x.addVectors(y,g),M.crossVectors(_,x),x.crossVectors(M,_),M.normalize(),x.normalize(),h=0;h<=r;++h){var E=h/r*Math.PI*2,A=-t*Math.cos(E),C=t*Math.sin(E);p.x=g.x+(A*x.x+C*M.x),p.y=g.y+(A*x.y+C*M.y),p.z=g.z+(A*x.z+C*M.z),l.push(p.x,p.y,p.z),v.subVectors(p,g).normalize(),u.push(v.x,v.y,v.z),c.push(d/n),c.push(h/r)}}for(h=1;h<=n;h++)for(d=1;d<=r;d++){var P=(r+1)*(h-1)+(d-1),R=(r+1)*h+(d-1),N=(r+1)*h+d,F=(r+1)*(h-1)+d;a.push(P,R,F),a.push(R,N,F)}this.setIndex(a),this.addAttribute("position",new _e(l,3)),this.addAttribute("normal",new _e(u,3)),this.addAttribute("uv",new _e(c,2));function z(G,K,W,$,X){var J=Math.cos(G),V=Math.sin(G),I=W/K*G,k=Math.cos(I);X.x=$*(2+k)*.5*J,X.y=$*(2+k)*V*.5,X.z=$*Math.sin(I)*.5}}_d.prototype=Object.create(Ce.prototype);_d.prototype.constructor=_d;function Xm(e,t,n,r,i){He.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new xd(e,t,n,r,i)),this.mergeVertices()}Xm.prototype=Object.create(He.prototype);Xm.prototype.constructor=Xm;function xd(e,t,n,r,i){Ce.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||Math.PI*2;var o=[],a=[],l=[],u=[],c=new U,d=new U,h=new U,p,v;for(p=0;p<=n;p++)for(v=0;v<=r;v++){var g=v/r*i,y=p/n*Math.PI*2;d.x=(e+t*Math.cos(y))*Math.cos(g),d.y=(e+t*Math.cos(y))*Math.sin(g),d.z=t*Math.sin(y),a.push(d.x,d.y,d.z),c.x=e*Math.cos(g),c.y=e*Math.sin(g),h.subVectors(d,c).normalize(),l.push(h.x,h.y,h.z),u.push(v/r),u.push(p/n)}for(p=1;p<=n;p++)for(v=1;v<=r;v++){var M=(r+1)*p+v-1,_=(r+1)*(p-1)+v-1,x=(r+1)*(p-1)+v,b=(r+1)*p+v;o.push(M,_,b),o.push(_,x,b)}this.setIndex(o),this.addAttribute("position",new _e(a,3)),this.addAttribute("normal",new _e(l,3)),this.addAttribute("uv",new _e(u,2))}xd.prototype=Object.create(Ce.prototype);xd.prototype.constructor=xd;var kq={triangulate:function(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,o=FO(e,0,i,n,!0),a=[];if(!o)return a;var l,u,c,d,h,p,v;if(r&&(o=zq(e,t,o,n)),e.length>80*n){l=c=e[0],u=d=e[1];for(var g=n;g<i;g+=n)h=e[g],p=e[g+1],h<l&&(l=h),p<u&&(u=p),h>c&&(c=h),p>d&&(d=p);v=Math.max(c-l,d-u),v=v!==0?1/v:0}return bd(o,a,n,l,u,v),a}};function FO(e,t,n,r,i){var o,a;if(i===Xq(e,t,n,r)>0)for(o=t;o<n;o+=r)a=nT(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=nT(o,e[o],e[o+1],a);return a&&Rs(a,a.next)&&(Ed(a),a=a.next),a}function wd(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(Rs(n,n.next)||vr(n.prev,n,n.next)===0)){if(Ed(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function bd(e,t,n,r,i,o,a){if(e){!a&&o&&Gq(e,r,i,o);for(var l=e,u,c;e.prev!==e.next;){if(u=e.prev,c=e.next,o?Dq(e,r,i,o):Iq(e)){t.push(u.i/n),t.push(e.i/n),t.push(c.i/n),Ed(e),e=c.next,l=c.next;continue}if(e=c,e===l){a?a===1?(e=Fq(e,t,n),bd(e,t,n,r,i,o,2)):a===2&&Bq(e,t,n,r,i,o):bd(wd(e),t,n,r,i,o,1);break}}}}function Iq(e){var t=e.prev,n=e,r=e.next;if(vr(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(qm(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&vr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Dq(e,t,n,r){var i=e.prev,o=e,a=e.next;if(vr(i,o,a)>=0)return!1;for(var l=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,d=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=Ix(l,u,t,n,r),p=Ix(c,d,t,n,r),v=e.nextZ;v&&v.z<=p;){if(v!==e.prev&&v!==e.next&&qm(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&vr(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(v=e.prevZ;v&&v.z>=h;){if(v!==e.prev&&v!==e.next&&qm(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&vr(v.prev,v,v.next)>=0)return!1;v=v.prevZ}return!0}function Fq(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Rs(i,o)&&BO(i,r,r.next,o)&&Sd(i,o)&&Sd(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Ed(r),Ed(r.next),r=e=o),r=r.next}while(r!==e);return r}function Bq(e,t,n,r,i,o){var a=e;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&$q(a,l)){var u=zO(a,l);a=wd(a,a.next),u=wd(u,u.next),bd(a,t,n,r,i,o),bd(u,t,n,r,i,o);return}l=l.next}a=a.next}while(a!==e)}function zq(e,t,n,r){var i=[],o,a,l,u,c;for(o=0,a=t.length;o<a;o++)l=t[o]*r,u=o<a-1?t[o+1]*r:e.length,c=FO(e,l,u,r,!1),c===c.next&&(c.steiner=!0),i.push(Wq(c));for(i.sort(Uq),o=0;o<i.length;o++)jq(i[o],n),n=wd(n,n.next);return n}function Uq(e,t){return e.x-t.x}function jq(e,t){if(t=Hq(e,t),t){var n=zO(t,e);wd(n,n.next)}}function Hq(e,t){var n=t,r=e.x,i=e.y,o=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var l=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=r&&l>o){if(o=l,l===r){if(i===n.y)return n;if(i===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!a)return null;if(r===o)return a.prev;var u=a,c=a.x,d=a.y,h=1/0,p;for(n=a.next;n!==u;)r>=n.x&&n.x>=c&&r!==n.x&&qm(i<d?r:o,i,c,d,i<d?o:r,i,n.x,n.y)&&(p=Math.abs(i-n.y)/(r-n.x),(p<h||p===h&&n.x>a.x)&&Sd(n,e)&&(a=n,h=p)),n=n.next;return a}function Gq(e,t,n,r){var i=e;do i.z===null&&(i.z=Ix(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Vq(i)}function Vq(e){var t,n,r,i,o,a,l,u,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,l=0,t=0;t<c&&(l++,r=r.nextZ,!!r);t++);for(u=c;l>0||u>0&&r;)l!==0&&(u===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return e}function Ix(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Wq(e){var t=e,n=e;do t.x<n.x&&(n=t),t=t.next;while(t!==e);return n}function qm(e,t,n,r,i,o,a,l){return(i-a)*(t-l)-(e-a)*(o-l)>=0&&(e-a)*(r-l)-(n-a)*(t-l)>=0&&(n-a)*(o-l)-(i-a)*(r-l)>=0}function $q(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Yq(e,t)&&Sd(e,t)&&Sd(t,e)&&Zq(e,t)}function vr(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Rs(e,t){return e.x===t.x&&e.y===t.y}function BO(e,t,n,r){return Rs(e,t)&&Rs(n,r)||Rs(e,r)&&Rs(n,t)?!0:vr(e,t,n)>0!=vr(e,t,r)>0&&vr(n,r,e)>0!=vr(n,r,t)>0}function Yq(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&BO(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Sd(e,t){return vr(e.prev,e,e.next)<0?vr(e,t,e.next)>=0&&vr(e,e.prev,t)>=0:vr(e,t,e.prev)<0||vr(e,e.next,t)<0}function Zq(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function zO(e,t){var n=new Dx(e.i,e.x,e.y),r=new Dx(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function nT(e,t,n,r){var i=new Dx(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ed(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Dx(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Xq(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}var Xa={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return n*.5},isClockWise:function(e){return Xa.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];rT(e),iT(n,e);var o=e.length;t.forEach(rT);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,iT(n,t[a]);for(var l=kq.triangulate(n,r),a=0;a<l.length;a+=3)i.push(l.slice(a,a+3));return i}};function rT(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function iT(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Iu(e,t){He.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new oa(e,t)),this.mergeVertices()}Iu.prototype=Object.create(He.prototype);Iu.prototype.constructor=Iu;Iu.prototype.toJSON=function(){var e=He.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return UO(t,n,e)};function oa(e,t){Ce.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],o=0,a=e.length;o<a;o++){var l=e[o];u(l)}this.addAttribute("position",new _e(r,3)),this.addAttribute("uv",new _e(i,2)),this.computeVertexNormals();function u(c){var d=[],h=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,v=t.depth!==void 0?t.depth:100,g=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:6,M=t.bevelSize!==void 0?t.bevelSize:y-2,_=t.bevelSegments!==void 0?t.bevelSegments:3,x=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:qq;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),v=t.amount);var E,A=!1,C,P,R,N;x&&(E=x.getSpacedPoints(p),A=!0,g=!1,C=x.computeFrenetFrames(p,!1),P=new U,R=new U,N=new U),g||(_=0,y=0,M=0);var F,z,G,K=c.extractPoints(h),W=K.shape,$=K.holes,X=!Xa.isClockWise(W);if(X)for(W=W.reverse(),z=0,G=$.length;z<G;z++)F=$[z],Xa.isClockWise(F)&&($[z]=F.reverse());var J=Xa.triangulateShape(W,$),V=W;for(z=0,G=$.length;z<G;z++)F=$[z],W=W.concat(F);function I(Je,it,ee){return it||console.error("THREE.ExtrudeGeometry: vec does not exist"),it.clone().multiplyScalar(ee).add(Je)}var k,q,H,ue,Q,ne=W.length,re,ve=J.length;function xe(Je,it,ee){var se,Me,Ye,Re=Je.x-it.x,nt=Je.y-it.y,Mt=ee.x-Je.x,At=ee.y-Je.y,qn=Re*Re+nt*nt,yt=Re*At-nt*Mt;if(Math.abs(yt)>Number.EPSILON){var cr=Math.sqrt(qn),_n=Math.sqrt(Mt*Mt+At*At),cs=it.x-nt/cr,fs=it.y+Re/cr,al=ee.x-At/_n,uc=ee.y+Mt/_n,sl=((al-cs)*At-(uc-fs)*Mt)/(Re*At-nt*Mt);se=cs+Re*sl-Je.x,Me=fs+nt*sl-Je.y;var ll=se*se+Me*Me;if(ll<=2)return new ce(se,Me);Ye=Math.sqrt(ll/2)}else{var Oo=!1;Re>Number.EPSILON?Mt>Number.EPSILON&&(Oo=!0):Re<-Number.EPSILON?Mt<-Number.EPSILON&&(Oo=!0):Math.sign(nt)===Math.sign(At)&&(Oo=!0),Oo?(se=-nt,Me=Re,Ye=Math.sqrt(qn)):(se=Re,Me=nt,Ye=Math.sqrt(qn/2))}return new ce(se/Ye,Me/Ye)}for(var ge=[],ae=0,Te=V.length,ze=Te-1,ye=ae+1;ae<Te;ae++,ze++,ye++)ze===Te&&(ze=0),ye===Te&&(ye=0),ge[ae]=xe(V[ae],V[ze],V[ye]);var qe=[],Ke,Wt=ge.concat();for(z=0,G=$.length;z<G;z++){for(F=$[z],Ke=[],ae=0,Te=F.length,ze=Te-1,ye=ae+1;ae<Te;ae++,ze++,ye++)ze===Te&&(ze=0),ye===Te&&(ye=0),Ke[ae]=xe(F[ae],F[ze],F[ye]);qe.push(Ke),Wt=Wt.concat(Ke)}for(k=0;k<_;k++){for(H=k/_,ue=y*Math.cos(H*Math.PI/2),q=M*Math.sin(H*Math.PI/2),ae=0,Te=V.length;ae<Te;ae++)Q=I(V[ae],ge[ae],q),Nt(Q.x,Q.y,-ue);for(z=0,G=$.length;z<G;z++)for(F=$[z],Ke=qe[z],ae=0,Te=F.length;ae<Te;ae++)Q=I(F[ae],Ke[ae],q),Nt(Q.x,Q.y,-ue)}for(q=M,ae=0;ae<ne;ae++)Q=g?I(W[ae],Wt[ae],q):W[ae],A?(R.copy(C.normals[0]).multiplyScalar(Q.x),P.copy(C.binormals[0]).multiplyScalar(Q.y),N.copy(E[0]).add(R).add(P),Nt(N.x,N.y,N.z)):Nt(Q.x,Q.y,0);var Lt;for(Lt=1;Lt<=p;Lt++)for(ae=0;ae<ne;ae++)Q=g?I(W[ae],Wt[ae],q):W[ae],A?(R.copy(C.normals[Lt]).multiplyScalar(Q.x),P.copy(C.binormals[Lt]).multiplyScalar(Q.y),N.copy(E[Lt]).add(R).add(P),Nt(N.x,N.y,N.z)):Nt(Q.x,Q.y,v/p*Lt);for(k=_-1;k>=0;k--){for(H=k/_,ue=y*Math.cos(H*Math.PI/2),q=M*Math.sin(H*Math.PI/2),ae=0,Te=V.length;ae<Te;ae++)Q=I(V[ae],ge[ae],q),Nt(Q.x,Q.y,v+ue);for(z=0,G=$.length;z<G;z++)for(F=$[z],Ke=qe[z],ae=0,Te=F.length;ae<Te;ae++)Q=I(F[ae],Ke[ae],q),A?Nt(Q.x,Q.y+E[p-1].y,E[p-1].x+ue):Nt(Q.x,Q.y,v+ue)}an(),Nn();function an(){var Je=r.length/3;if(g){var it=0,ee=ne*it;for(ae=0;ae<ve;ae++)re=J[ae],Zt(re[2]+ee,re[1]+ee,re[0]+ee);for(it=p+_*2,ee=ne*it,ae=0;ae<ve;ae++)re=J[ae],Zt(re[0]+ee,re[1]+ee,re[2]+ee)}else{for(ae=0;ae<ve;ae++)re=J[ae],Zt(re[2],re[1],re[0]);for(ae=0;ae<ve;ae++)re=J[ae],Zt(re[0]+ne*p,re[1]+ne*p,re[2]+ne*p)}n.addGroup(Je,r.length/3-Je,0)}function Nn(){var Je=r.length/3,it=0;for(Rt(V,it),it+=V.length,z=0,G=$.length;z<G;z++)F=$[z],Rt(F,it),it+=F.length;n.addGroup(Je,r.length/3-Je,1)}function Rt(Je,it){var ee,se;for(ae=Je.length;--ae>=0;){ee=ae,se=ae-1,se<0&&(se=Je.length-1);var Me=0,Ye=p+_*2;for(Me=0;Me<Ye;Me++){var Re=ne*Me,nt=ne*(Me+1),Mt=it+ee+Re,At=it+se+Re,qn=it+se+nt,yt=it+ee+nt;Ar(Mt,At,qn,yt)}}}function Nt(Je,it,ee){d.push(Je),d.push(it),d.push(ee)}function Zt(Je,it,ee){gt(Je),gt(it),gt(ee);var se=r.length/3,Me=b.generateTopUV(n,r,se-3,se-2,se-1);dn(Me[0]),dn(Me[1]),dn(Me[2])}function Ar(Je,it,ee,se){gt(Je),gt(it),gt(se),gt(it),gt(ee),gt(se);var Me=r.length/3,Ye=b.generateSideWallUV(n,r,Me-6,Me-3,Me-2,Me-1);dn(Ye[0]),dn(Ye[1]),dn(Ye[3]),dn(Ye[1]),dn(Ye[2]),dn(Ye[3])}function gt(Je){r.push(d[Je*3+0]),r.push(d[Je*3+1]),r.push(d[Je*3+2])}function dn(Je){i.push(Je.x),i.push(Je.y)}}}oa.prototype=Object.create(Ce.prototype);oa.prototype.constructor=oa;oa.prototype.toJSON=function(){var e=Ce.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return UO(t,n,e)};var qq={generateTopUV:function(e,t,n,r,i){var o=t[n*3],a=t[n*3+1],l=t[r*3],u=t[r*3+1],c=t[i*3],d=t[i*3+1];return[new ce(o,a),new ce(l,u),new ce(c,d)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[n*3],l=t[n*3+1],u=t[n*3+2],c=t[r*3],d=t[r*3+1],h=t[r*3+2],p=t[i*3],v=t[i*3+1],g=t[i*3+2],y=t[o*3],M=t[o*3+1],_=t[o*3+2];return Math.abs(l-d)<.01?[new ce(a,1-u),new ce(c,1-h),new ce(p,1-g),new ce(y,1-_)]:[new ce(l,1-u),new ce(d,1-h),new ce(v,1-g),new ce(M,1-_)]}};function UO(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Km(e,t){He.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Md(e,t)),this.mergeVertices()}Km.prototype=Object.create(He.prototype);Km.prototype.constructor=Km;function Md(e,t){t=t||{};var n=t.font;if(!(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new He;var r=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),oa.call(this,r,t),this.type="TextBufferGeometry"}Md.prototype=Object.create(oa.prototype);Md.prototype.constructor=Md;function Jm(e,t,n,r,i,o,a){He.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Du(e,t,n,r,i,o,a)),this.mergeVertices()}Jm.prototype=Object.create(He.prototype);Jm.prototype.constructor=Jm;function Du(e,t,n,r,i,o,a){Ce.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=r!==void 0?r:0,i=i!==void 0?i:Math.PI*2,o=o!==void 0?o:0,a=a!==void 0?a:Math.PI;var l=o+a,u,c,d=0,h=[],p=new U,v=new U,g=[],y=[],M=[],_=[];for(c=0;c<=n;c++){var x=[],b=c/n;for(u=0;u<=t;u++){var E=u/t;p.x=-e*Math.cos(r+E*i)*Math.sin(o+b*a),p.y=e*Math.cos(o+b*a),p.z=e*Math.sin(r+E*i)*Math.sin(o+b*a),y.push(p.x,p.y,p.z),v.set(p.x,p.y,p.z).normalize(),M.push(v.x,v.y,v.z),_.push(E,1-b),x.push(d++)}h.push(x)}for(c=0;c<n;c++)for(u=0;u<t;u++){var A=h[c][u+1],C=h[c][u],P=h[c+1][u],R=h[c+1][u+1];(c!==0||o>0)&&g.push(A,C,R),(c!==n-1||l<Math.PI)&&g.push(C,P,R)}this.setIndex(g),this.addAttribute("position",new _e(y,3)),this.addAttribute("normal",new _e(M,3)),this.addAttribute("uv",new _e(_,2))}Du.prototype=Object.create(Ce.prototype);Du.prototype.constructor=Du;function Qm(e,t,n,r,i,o){He.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Ad(e,t,n,r,i,o)),this.mergeVertices()}Qm.prototype=Object.create(He.prototype);Qm.prototype.constructor=Qm;function Ad(e,t,n,r,i,o){Ce.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=i!==void 0?i:0,o=o!==void 0?o:Math.PI*2,n=n!==void 0?Math.max(3,n):8,r=r!==void 0?Math.max(1,r):1;var a=[],l=[],u=[],c=[],d,h=e,p=(t-e)/r,v=new U,g=new ce,y,M;for(y=0;y<=r;y++){for(M=0;M<=n;M++)d=i+M/n*o,v.x=h*Math.cos(d),v.y=h*Math.sin(d),l.push(v.x,v.y,v.z),u.push(0,0,1),g.x=(v.x/t+1)/2,g.y=(v.y/t+1)/2,c.push(g.x,g.y);h+=p}for(y=0;y<r;y++){var _=y*(n+1);for(M=0;M<n;M++){d=M+_;var x=d,b=d+n+1,E=d+n+2,A=d+1;a.push(x,b,A),a.push(b,E,A)}}this.setIndex(a),this.addAttribute("position",new _e(l,3)),this.addAttribute("normal",new _e(u,3)),this.addAttribute("uv",new _e(c,2))}Ad.prototype=Object.create(Ce.prototype);Ad.prototype.constructor=Ad;function ev(e,t,n,r){He.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Td(e,t,n,r)),this.mergeVertices()}ev.prototype=Object.create(He.prototype);ev.prototype.constructor=ev;function Td(e,t,n,r){Ce.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||Math.PI*2,r=Xe.clamp(r,0,Math.PI*2);var i=[],o=[],a=[],l,u=1/t,c=new U,d=new ce,h,p;for(h=0;h<=t;h++){var v=n+h*u*r,g=Math.sin(v),y=Math.cos(v);for(p=0;p<=e.length-1;p++)c.x=e[p].x*g,c.y=e[p].y,c.z=e[p].x*y,o.push(c.x,c.y,c.z),d.x=h/t,d.y=p/(e.length-1),a.push(d.x,d.y)}for(h=0;h<t;h++)for(p=0;p<e.length-1;p++){l=p+h*e.length;var M=l,_=l+e.length,x=l+e.length+1,b=l+1;i.push(M,_,b),i.push(_,x,b)}if(this.setIndex(i),this.addAttribute("position",new _e(o,3)),this.addAttribute("uv",new _e(a,2)),this.computeVertexNormals(),r===Math.PI*2){var E=this.attributes.normal.array,A=new U,C=new U,P=new U;for(l=t*e.length*3,h=0,p=0;h<e.length;h++,p+=3)A.x=E[p+0],A.y=E[p+1],A.z=E[p+2],C.x=E[l+p+0],C.y=E[l+p+1],C.z=E[l+p+2],P.addVectors(A,C).normalize(),E[p+0]=E[l+p+0]=P.x,E[p+1]=E[l+p+1]=P.y,E[p+2]=E[l+p+2]=P.z}}Td.prototype=Object.create(Ce.prototype);Td.prototype.constructor=Td;function Fu(e,t){He.call(this),this.type="ShapeGeometry",typeof t=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Bu(e,t)),this.mergeVertices()}Fu.prototype=Object.create(He.prototype);Fu.prototype.constructor=Fu;Fu.prototype.toJSON=function(){var e=He.prototype.toJSON.call(this),t=this.parameters.shapes;return jO(t,e)};function Bu(e,t){Ce.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(var u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(n),this.addAttribute("position",new _e(r,3)),this.addAttribute("normal",new _e(i,3)),this.addAttribute("uv",new _e(o,2));function c(d){var h,p,v,g=r.length/3,y=d.extractPoints(t),M=y.shape,_=y.holes;for(Xa.isClockWise(M)===!1&&(M=M.reverse()),h=0,p=_.length;h<p;h++)v=_[h],Xa.isClockWise(v)===!0&&(_[h]=v.reverse());var x=Xa.triangulateShape(M,_);for(h=0,p=_.length;h<p;h++)v=_[h],M=M.concat(v);for(h=0,p=M.length;h<p;h++){var b=M[h];r.push(b.x,b.y,0),i.push(0,0,1),o.push(b.x,b.y)}for(h=0,p=x.length;h<p;h++){var E=x[h],A=E[0]+g,C=E[1]+g,P=E[2]+g;n.push(A,C,P),l+=3}}}Bu.prototype=Object.create(Ce.prototype);Bu.prototype.constructor=Bu;Bu.prototype.toJSON=function(){var e=Ce.prototype.toJSON.call(this),t=this.parameters.shapes;return jO(t,e)};function jO(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function tv(e,t){Ce.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1;var n=[],r=Math.cos(Xe.DEG2RAD*t),i=[0,0],o={},a,l,u,c=["a","b","c"],d;e.isBufferGeometry?(d=new He,d.fromBufferGeometry(e)):d=e.clone(),d.mergeVertices(),d.computeFaceNormals();for(var h=d.vertices,p=d.faces,v=0,g=p.length;v<g;v++)for(var y=p[v],M=0;M<3;M++)a=y[c[M]],l=y[c[(M+1)%3]],i[0]=Math.min(a,l),i[1]=Math.max(a,l),u=i[0]+","+i[1],o[u]===void 0?o[u]={index1:i[0],index2:i[1],face1:v,face2:void 0}:o[u].face2=v;for(u in o){var _=o[u];if(_.face2===void 0||p[_.face1].normal.dot(p[_.face2].normal)<=r){var x=h[_.index1];n.push(x.x,x.y,x.z),x=h[_.index2],n.push(x.x,x.y,x.z)}}this.addAttribute("position",new _e(n,3))}tv.prototype=Object.create(Ce.prototype);tv.prototype.constructor=tv;function zu(e,t,n,r,i,o,a,l){He.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:l},this.fromBufferGeometry(new rs(e,t,n,r,i,o,a,l)),this.mergeVertices()}zu.prototype=Object.create(He.prototype);zu.prototype.constructor=zu;function rs(e,t,n,r,i,o,a,l){Ce.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:l};var u=this;e=e!==void 0?e:1,t=t!==void 0?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=o!==void 0?o:!1,a=a!==void 0?a:0,l=l!==void 0?l:Math.PI*2;var c=[],d=[],h=[],p=[],v=0,g=[],y=n/2,M=0;_(),o===!1&&(e>0&&x(!0),t>0&&x(!1)),this.setIndex(c),this.addAttribute("position",new _e(d,3)),this.addAttribute("normal",new _e(h,3)),this.addAttribute("uv",new _e(p,2));function _(){var b,E,A=new U,C=new U,P=0,R=(t-e)/n;for(E=0;E<=i;E++){var N=[],F=E/i,z=F*(t-e)+e;for(b=0;b<=r;b++){var G=b/r,K=G*l+a,W=Math.sin(K),$=Math.cos(K);C.x=z*W,C.y=-F*n+y,C.z=z*$,d.push(C.x,C.y,C.z),A.set(W,R,$).normalize(),h.push(A.x,A.y,A.z),p.push(G,1-F),N.push(v++)}g.push(N)}for(b=0;b<r;b++)for(E=0;E<i;E++){var X=g[E][b],J=g[E+1][b],V=g[E+1][b+1],I=g[E][b+1];c.push(X,J,I),c.push(J,V,I),P+=6}u.addGroup(M,P,0),M+=P}function x(b){var E,A,C,P=new ce,R=new U,N=0,F=b===!0?e:t,z=b===!0?1:-1;for(A=v,E=1;E<=r;E++)d.push(0,y*z,0),h.push(0,z,0),p.push(.5,.5),v++;for(C=v,E=0;E<=r;E++){var G=E/r,K=G*l+a,W=Math.cos(K),$=Math.sin(K);R.x=F*$,R.y=y*z,R.z=F*W,d.push(R.x,R.y,R.z),h.push(0,z,0),P.x=W*.5+.5,P.y=$*.5*z+.5,p.push(P.x,P.y),v++}for(E=0;E<r;E++){var X=A+E,J=C+E;b===!0?c.push(J,J+1,X):c.push(J+1,J,X),N+=3}u.addGroup(M,N,b===!0?1:2),M+=N}}rs.prototype=Object.create(Ce.prototype);rs.prototype.constructor=rs;function nv(e,t,n,r,i,o,a){zu.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}nv.prototype=Object.create(zu.prototype);nv.prototype.constructor=nv;function rv(e,t,n,r,i,o,a){rs.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}rv.prototype=Object.create(rs.prototype);rv.prototype.constructor=rv;function iv(e,t,n,r){He.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Pd(e,t,n,r)),this.mergeVertices()}iv.prototype=Object.create(He.prototype);iv.prototype.constructor=iv;function Pd(e,t,n,r){Ce.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=t!==void 0?Math.max(3,t):8,n=n!==void 0?n:0,r=r!==void 0?r:Math.PI*2;var i=[],o=[],a=[],l=[],u,c,d=new U,h=new ce;for(o.push(0,0,0),a.push(0,0,1),l.push(.5,.5),c=0,u=3;c<=t;c++,u+=3){var p=n+c/t*r;d.x=e*Math.cos(p),d.y=e*Math.sin(p),o.push(d.x,d.y,d.z),a.push(0,0,1),h.x=(o[u]/e+1)/2,h.y=(o[u+1]/e+1)/2,l.push(h.x,h.y)}for(u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.addAttribute("position",new _e(o,3)),this.addAttribute("normal",new _e(a,3)),this.addAttribute("uv",new _e(l,2))}Pd.prototype=Object.create(Ce.prototype);Pd.prototype.constructor=Pd;const Cr=Object.freeze(Object.defineProperty({__proto__:null,BoxBufferGeometry:Ru,BoxGeometry:Om,CircleBufferGeometry:Pd,CircleGeometry:iv,ConeBufferGeometry:rv,ConeGeometry:nv,CylinderBufferGeometry:rs,CylinderGeometry:zu,DodecahedronBufferGeometry:gd,DodecahedronGeometry:$m,EdgesGeometry:tv,ExtrudeBufferGeometry:oa,ExtrudeGeometry:Iu,IcosahedronBufferGeometry:vd,IcosahedronGeometry:Wm,LatheBufferGeometry:Td,LatheGeometry:ev,OctahedronBufferGeometry:ku,OctahedronGeometry:Vm,ParametricBufferGeometry:pd,ParametricGeometry:jm,PlaneBufferGeometry:ts,PlaneGeometry:Nm,PolyhedronBufferGeometry:ti,PolyhedronGeometry:Hm,RingBufferGeometry:Ad,RingGeometry:Qm,ShapeBufferGeometry:Bu,ShapeGeometry:Fu,SphereBufferGeometry:Du,SphereGeometry:Jm,TetrahedronBufferGeometry:md,TetrahedronGeometry:Gm,TextBufferGeometry:Md,TextGeometry:Km,TorusBufferGeometry:xd,TorusGeometry:Xm,TorusKnotBufferGeometry:_d,TorusKnotGeometry:Zm,TubeBufferGeometry:yd,TubeGeometry:Ym,WireframeGeometry:Um},Symbol.toStringTag,{value:"Module"}));function Uu(e){We.call(this),this.type="ShadowMaterial",this.color=new Ie(0),this.transparent=!0,this.setValues(e)}Uu.prototype=Object.create(We.prototype);Uu.prototype.constructor=Uu;Uu.prototype.isShadowMaterial=!0;Uu.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.color.copy(e.color),this};function Cd(e){ei.call(this,e),this.type="RawShaderMaterial"}Cd.prototype=Object.create(ei.prototype);Cd.prototype.constructor=Cd;Cd.prototype.isRawShaderMaterial=!0;function aa(e){We.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ie(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$g,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}aa.prototype=Object.create(We.prototype);aa.prototype.constructor=aa;aa.prototype.isMeshStandardMaterial=!0;aa.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function ju(e){aa.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}ju.prototype=Object.create(aa.prototype);ju.prototype.constructor=ju;ju.prototype.isMeshPhysicalMaterial=!0;ju.prototype.copy=function(e){return aa.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this};function So(e){We.call(this),this.type="MeshPhongMaterial",this.color=new Ie(16777215),this.specular=new Ie(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$g,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}So.prototype=Object.create(We.prototype);So.prototype.constructor=So;So.prototype.isMeshPhongMaterial=!0;So.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Hu(e){So.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}Hu.prototype=Object.create(So.prototype);Hu.prototype.constructor=Hu;Hu.prototype.isMeshToonMaterial=!0;Hu.prototype.copy=function(e){return So.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this};function Gu(e){We.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$g,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Gu.prototype=Object.create(We.prototype);Gu.prototype.constructor=Gu;Gu.prototype.isMeshNormalMaterial=!0;Gu.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Vu(e){We.call(this),this.type="MeshLambertMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Vu.prototype=Object.create(We.prototype);Vu.prototype.constructor=Vu;Vu.prototype.isMeshLambertMaterial=!0;Vu.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Wu(e){We.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ie(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$g,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}Wu.prototype=Object.create(We.prototype);Wu.prototype.constructor=Wu;Wu.prototype.isMeshMatcapMaterial=!0;Wu.prototype.copy=function(e){return We.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function $u(e){on.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}$u.prototype=Object.create(on.prototype);$u.prototype.constructor=$u;$u.prototype.isLineDashedMaterial=!0;$u.prototype.copy=function(e){return on.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};const Kq=Object.freeze(Object.defineProperty({__proto__:null,LineBasicMaterial:on,LineDashedMaterial:$u,Material:We,MeshBasicMaterial:Pi,MeshDepthMaterial:Zs,MeshDistanceMaterial:Xs,MeshLambertMaterial:Vu,MeshMatcapMaterial:Wu,MeshNormalMaterial:Gu,MeshPhongMaterial:So,MeshPhysicalMaterial:ju,MeshStandardMaterial:aa,MeshToonMaterial:Hu,PointsMaterial:Ks,RawShaderMaterial:Cd,ShaderMaterial:ei,ShadowMaterial:Uu,SpriteMaterial:qs},Symbol.toStringTag,{value:"Module"}));var gr={arraySlice:function(e,t,n){return gr.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(o,a){return e[o]-e[a]}for(var n=e.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(t),r},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var l=n[o]*t,u=0;u!==t;++u)i[a++]=e[l+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];o!==void 0&&o[r]===void 0;)o=e[i++];if(o!==void 0){var a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(t.push(o.time),n.push.apply(n,a)),o=e[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(t.push(o.time),n.push(a)),o=e[i++];while(o!==void 0)}}};function Ei(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(Ei.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(r===void 0){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(!(e>=i)){var l=t[1];e<l&&(n=2,i=l);for(var a=n-2;;){if(i===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0;break n}break e}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],i=t[n-1],i===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Ei.prototype,{beforeStart_:Ei.prototype.copySampleValue_,afterEnd_:Ei.prototype.copySampleValue_});function Fx(e,t,n,r){Ei.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}Fx.prototype=Object.assign(Object.create(Ei.prototype),{constructor:Fx,DefaultSettings_:{endingStart:Cu,endingEnd:Cu},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Kl:i=e,a=2*t-n;break;case Cm:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(l===void 0)switch(this.getSettings_().endingEnd){case Kl:o=e,l=2*n-t;break;case Cm:o=1,l=n+r[1]-r[0];break;default:o=e-1,l=t}var u=(n-t)*.5,c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,p=this._weightNext,v=(n-t)/(r-t),g=v*v,y=g*v,M=-h*y+2*h*g-h*v,_=(1+h)*y+(-1.5-2*h)*g+(-.5+h)*v+1,x=(-1-p)*y+(1.5+p)*g+.5*v,b=p*y-p*g,E=0;E!==a;++E)i[E]=M*o[c+E]+_*o[u+E]+x*o[l+E]+b*o[d+E];return i}});function ov(e,t,n,r){Ei.call(this,e,t,n,r)}ov.prototype=Object.assign(Object.create(Ei.prototype),{constructor:ov,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(n-t)/(r-t),d=1-c,h=0;h!==a;++h)i[h]=o[u+h]*d+o[l+h]*c;return i}});function Bx(e,t,n,r){Ei.call(this,e,t,n,r)}Bx.prototype=Object.assign(Object.create(Ei.prototype),{constructor:Bx,interpolate_:function(e){return this.copySampleValue_(e-1)}});function sr(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=gr.convertArray(t,this.TimeBufferType),this.values=gr.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}Object.assign(sr,{toJSON:function(e){var t=e.constructor,n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:gr.convertArray(e.times,Array),values:gr.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}});Object.assign(sr.prototype,{constructor:sr,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Rp,InterpolantFactoryMethodDiscrete:function(e){return new Bx(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new ov(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Fx(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Pm:t=this.InterpolantFactoryMethodDiscrete;break;case Rp:t=this.InterpolantFactoryMethodLinear;break;case O0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Pm;case this.InterpolantFactoryMethodLinear:return Rp;case this.InterpolantFactoryMethodSmooth:return O0}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(e!==1)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;o!==-1&&n[o]>t;)--o;if(++o,i!==0||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=gr.arraySlice(n,i,o),this.values=gr.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;i===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var l=n[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&gr.isTypedArray(r))for(var a=0,u=r.length;a!==u;++a){var c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===O0,i=1,o=e.length-1,a=1;a<o;++a){var l=!1,u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==u[0]))if(r)l=!0;else for(var d=a*n,h=d-n,p=d+n,v=0;v!==n;++v){var g=t[d+v];if(g!==t[h+v]||g!==t[p+v]){l=!0;break}}if(l){if(a!==i){e[i]=e[a];for(var y=a*n,M=i*n,v=0;v!==n;++v)t[M+v]=t[y+v]}++i}}if(o>0){e[i]=e[o];for(var y=o*n,M=i*n,v=0;v!==n;++v)t[M+v]=t[y+v];++i}return i!==e.length&&(this.times=gr.arraySlice(e,0,i),this.values=gr.arraySlice(t,0,i*n)),this}});function zx(e,t,n){sr.call(this,e,t,n)}zx.prototype=Object.assign(Object.create(sr.prototype),{constructor:zx,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Pm,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Ux(e,t,n,r){sr.call(this,e,t,n,r)}Ux.prototype=Object.assign(Object.create(sr.prototype),{constructor:Ux,ValueTypeName:"color"});function Ld(e,t,n,r){sr.call(this,e,t,n,r)}Ld.prototype=Object.assign(Object.create(sr.prototype),{constructor:Ld,ValueTypeName:"number"});function jx(e,t,n,r){Ei.call(this,e,t,n,r)}jx.prototype=Object.assign(Object.create(Ei.prototype),{constructor:jx,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=(n-t)/(r-t),c=l+a;l!==c;l+=4)Bn.slerpFlat(i,0,o,l-a,o,l,u);return i}});function av(e,t,n,r){sr.call(this,e,t,n,r)}av.prototype=Object.assign(Object.create(sr.prototype),{constructor:av,ValueTypeName:"quaternion",DefaultInterpolation:Rp,InterpolantFactoryMethodLinear:function(e){return new jx(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function Hx(e,t,n,r){sr.call(this,e,t,n,r)}Hx.prototype=Object.assign(Object.create(sr.prototype),{constructor:Hx,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Pm,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Rd(e,t,n,r){sr.call(this,e,t,n,r)}Rd.prototype=Object.assign(Object.create(sr.prototype),{constructor:Rd,ValueTypeName:"vector"});function ho(e,t,n){this.name=e,this.tracks=n,this.duration=t!==void 0?t:-1,this.uuid=Xe.generateUUID(),this.duration<0&&this.resetDuration()}function Jq(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ld;case"vector":case"vector2":case"vector3":case"vector4":return Rd;case"color":return Ux;case"quaternion":return av;case"bool":case"boolean":return zx;case"string":return Hx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function Qq(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=Jq(e.type);if(e.times===void 0){var n=[],r=[];gr.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(ho,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(Qq(n[i]).scale(r));return new ho(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(sr.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var l=[],u=[];l.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=gr.getKeyframeOrder(l);l=gr.sortedArray(l,1,c),u=gr.sortedArray(u,1,c),!r&&l[0]===0&&(l.push(i),u.push(u[0])),o.push(new Ld(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/n))}return new ho(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var l=e[o],u=l.name.match(i);if(u&&u.length>1){var c=u[1],d=r[c];d||(r[c]=d=[]),d.push(l)}}var h=[];for(var c in r)h.push(ho.CreateFromMorphTargetSequence(c,r[c],t,n));return h},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(b,E,A,C,P){if(A.length!==0){var R=[],N=[];gr.flattenJSON(A,R,N,C),R.length!==0&&P.push(new b(E,R,N))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(!(!c||c.length===0))if(c[0].morphTargets){for(var d={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var p=0;p<c[h].morphTargets.length;p++)d[c[h].morphTargets[p]]=-1;for(var v in d){for(var g=[],y=[],p=0;p!==c[h].morphTargets.length;++p){var M=c[h];g.push(M.time),y.push(M.morphTarget===v?1:0)}r.push(new Ld(".morphTargetInfluence["+v+"]",g,y))}o=d.length*(a||1)}else{var _=".bones["+t[u].name+"]";n(Rd,_+".position",c,"pos",r),n(av,_+".quaternion",c,"rot",r),n(Rd,_+".scale",c,"scl",r)}}if(r.length===0)return null;var x=new ho(i,o,r);return x}});Object.assign(ho.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,n=0,r=e.length;n!==r;++n){var i=this.tracks[n];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}});var Yu={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function HO(e,t,n){var r=this,i=!1,o=0,a=0,l=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(u){a++,i===!1&&r.onStart!==void 0&&r.onStart(u,o,a),i=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(i=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this}}var li=new HO,Bi={};function ha(e){this.manager=e!==void 0?e:li}Object.assign(ha.prototype,{load:function(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Yu.get(e);if(o!==void 0)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;if(Bi[e]!==void 0){Bi[e].push({onLoad:t,onProgress:n,onError:r});return}var a=/^data:(.*?)(;base64)?,(.*)$/,l=e.match(a);if(l){var u=l[1],c=!!l[2],d=l[3];d=decodeURIComponent(d),c&&(d=atob(d));try{var h,p=(this.responseType||"").toLowerCase();switch(p){case"arraybuffer":case"blob":for(var v=new Uint8Array(d.length),g=0;g<d.length;g++)v[g]=d.charCodeAt(g);p==="blob"?h=new Blob([v.buffer],{type:u}):h=v.buffer;break;case"document":var y=new DOMParser;h=y.parseFromString(d,u);break;case"json":h=JSON.parse(d);break;default:h=d;break}setTimeout(function(){t&&t(h),i.manager.itemEnd(e)},0)}catch(x){setTimeout(function(){r&&r(x),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{Bi[e]=[],Bi[e].push({onLoad:t,onProgress:n,onError:r});var M=new XMLHttpRequest;M.open("GET",e,!0),M.addEventListener("load",function(x){var b=this.response;Yu.add(e,b);var E=Bi[e];if(delete Bi[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var A=0,C=E.length;A<C;A++){var P=E[A];P.onLoad&&P.onLoad(b)}i.manager.itemEnd(e)}else{for(var A=0,C=E.length;A<C;A++){var P=E[A];P.onError&&P.onError(x)}i.manager.itemError(e),i.manager.itemEnd(e)}},!1),M.addEventListener("progress",function(x){for(var b=Bi[e],E=0,A=b.length;E<A;E++){var C=b[E];C.onProgress&&C.onProgress(x)}},!1),M.addEventListener("error",function(x){var b=Bi[e];delete Bi[e];for(var E=0,A=b.length;E<A;E++){var C=b[E];C.onError&&C.onError(x)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),M.addEventListener("abort",function(x){var b=Bi[e];delete Bi[e];for(var E=0,A=b.length;E<A;E++){var C=b[E];C.onError&&C.onError(x)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),this.responseType!==void 0&&(M.responseType=this.responseType),this.withCredentials!==void 0&&(M.withCredentials=this.withCredentials),M.overrideMimeType&&M.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(var _ in this.requestHeader)M.setRequestHeader(_,this.requestHeader[_]);M.send(null)}return i.manager.itemStart(e),M},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});function eK(e){this.manager=e!==void 0?e:li}Object.assign(eK.prototype,{load:function(e,t,n,r){var i=this,o=new ha(i.manager);o.setPath(i.path),o.load(e,function(a){t(i.parse(JSON.parse(a)))},n,r)},parse:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=ho.parse(e[r]);n.push(i)}t(n)},setPath:function(e){return this.path=e,this}});function tK(e){this.manager=e!==void 0?e:li,this._parser=null}Object.assign(tK.prototype,{load:function(e,t,n,r){var i=this,o=[],a=new hd;a.image=o;var l=new ha(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer");function u(p){l.load(e[p],function(v){var g=i._parser(v,!0);o[p]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(a.minFilter=$n),a.format=g.format,a.needsUpdate=!0,t&&t(a))},n,r)}if(Array.isArray(e))for(var c=0,d=0,h=e.length;d<h;++d)u(d);else l.load(e,function(p){var v=i._parser(p,!0);if(v.isCubemap)for(var g=v.mipmaps.length/v.mipmapCount,y=0;y<g;y++){o[y]={mipmaps:[]};for(var M=0;M<v.mipmapCount;M++)o[y].mipmaps.push(v.mipmaps[y*v.mipmapCount+M]),o[y].format=v.format,o[y].width=v.width,o[y].height=v.height}else a.image.width=v.width,a.image.height=v.height,a.mipmaps=v.mipmaps;v.mipmapCount===1&&(a.minFilter=$n),a.format=v.format,a.needsUpdate=!0,t&&t(a)},n,r);return a},setPath:function(e){return this.path=e,this}});function nK(e){this.manager=e!==void 0?e:li,this._parser=null}Object.assign(nK.prototype,{load:function(e,t,n,r){var i=this,o=new Lu,a=new ha(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,function(l){var u=i._parser(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:bi,o.wrapT=u.wrapT!==void 0?u.wrapT:bi,o.magFilter=u.magFilter!==void 0?u.magFilter:$n,o.minFilter=u.minFilter!==void 0?u.minFilter:Wg,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps),u.mipmapCount===1&&(o.minFilter=$n),o.needsUpdate=!0,t&&t(o,u))},n,r),o},setPath:function(e){return this.path=e,this}});function Yg(e){this.manager=e!==void 0?e:li}Object.assign(Yg.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Yu.get(e);if(o!==void 0)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function l(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1),Yu.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(c){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1),r&&r(c),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}});function GO(e){this.manager=e!==void 0?e:li}Object.assign(GO.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new ns,o=new Yg(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function l(c){o.load(e[c],function(d){i.images[c]=d,a++,a===6&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(var u=0;u<e.length;++u)l(u);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}});function kb(e){this.manager=e!==void 0?e:li}Object.assign(kb.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new Vt,o=new Yg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){i.image=a;var l=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;i.format=l?$s:wo,i.needsUpdate=!0,t!==void 0&&t(i)},n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}});function Fe(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Fe.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){e===void 0&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t=[],n,r=this.getPoint(0),i,o=0;for(t.push(0),i=1;i<=e;i++)n=this.getPoint(i/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n=this.getLengths(),r=0,i=n.length,o;t?o=t:o=e*n[i-1];for(var a=0,l=i-1,u;a<=l;)if(r=Math.floor(a+(l-a)/2),u=n[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,n[r]===o)return r/(i-1);var c=n[r],d=n[r+1],h=d-c,p=(o-c)/h,v=(r+p)/(i-1);return v},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),o=this.getPoint(r),a=o.clone().sub(i);return a.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n=new U,r=[],i=[],o=[],a=new U,l=new je,u,c,d;for(u=0;u<=e;u++)c=u/e,r[u]=this.getTangentAt(c),r[u].normalize();i[0]=new U,o[0]=new U;var h=Number.MAX_VALUE,p=Math.abs(r[0].x),v=Math.abs(r[0].y),g=Math.abs(r[0].z);for(p<=h&&(h=p,n.set(1,0,0)),v<=h&&(h=v,n.set(0,1,0)),g<=h&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]),u=1;u<=e;u++)i[u]=i[u-1].clone(),o[u]=o[u-1].clone(),a.crossVectors(r[u-1],r[u]),a.length()>Number.EPSILON&&(a.normalize(),d=Math.acos(Xe.clamp(r[u-1].dot(r[u]),-1,1)),i[u].applyMatrix4(l.makeRotationAxis(a,d))),o[u].crossVectors(r[u],i[u]);if(t===!0)for(d=Math.acos(Xe.clamp(i[0].dot(i[e]),-1,1)),d/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(d=-d),u=1;u<=e;u++)i[u].applyMatrix4(l.makeRotationAxis(r[u],d*u)),o[u].crossVectors(r[u],i[u]);return{tangents:r,normals:i,binormals:o}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function Ci(e,t,n,r,i,o,a,l){Fe.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=l||0}Ci.prototype=Object.create(Fe.prototype);Ci.prototype.constructor=Ci;Ci.prototype.isEllipseCurve=!0;Ci.prototype.getPoint=function(e,t){for(var n=t||new ce,r=Math.PI*2,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(o?i=0:i=r),this.aClockwise===!0&&!o&&(i===r?i=-r:i=i-r);var a=this.aStartAngle+e*i,l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){var c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,p=u-this.aY;l=h*c-p*d+this.aX,u=h*d+p*c+this.aY}return n.set(l,u)};Ci.prototype.copy=function(e){return Fe.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};Ci.prototype.toJSON=function(){var e=Fe.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};Ci.prototype.fromJSON=function(e){return Fe.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function Od(e,t,n,r,i,o){Ci.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}Od.prototype=Object.create(Ci.prototype);Od.prototype.constructor=Od;Od.prototype.isArcCurve=!0;function Ib(){var e=0,t=0,n=0,r=0;function i(o,a,l,u){e=o,t=l,n=-3*o+3*a-2*l-u,r=2*o-2*a+l+u}return{initCatmullRom:function(o,a,l,u,c){i(a,l,c*(l-o),c*(u-a))},initNonuniformCatmullRom:function(o,a,l,u,c,d,h){var p=(a-o)/c-(l-o)/(c+d)+(l-a)/d,v=(l-a)/d-(u-a)/(d+h)+(u-l)/h;p*=d,v*=d,i(a,l,p,v)},calc:function(o){var a=o*o,l=a*o;return e+t*o+n*a+r*l}}}var rp=new U,k0=new Ib,I0=new Ib,D0=new Ib;function ni(e,t,n,r){Fe.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}ni.prototype=Object.create(Fe.prototype);ni.prototype.constructor=ni;ni.prototype.isCatmullRomCurve3=!0;ni.prototype.getPoint=function(e,t){var n=t||new U,r=this.points,i=r.length,o=(i-(this.closed?0:1))*e,a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/i)+1)*i:l===0&&a===i-1&&(a=i-2,l=1);var u,c,d,h;if(this.closed||a>0?u=r[(a-1)%i]:(rp.subVectors(r[0],r[1]).add(r[0]),u=rp),c=r[a%i],d=r[(a+1)%i],this.closed||a+2<i?h=r[(a+2)%i]:(rp.subVectors(r[i-1],r[i-2]).add(r[i-1]),h=rp),this.curveType==="centripetal"||this.curveType==="chordal"){var p=this.curveType==="chordal"?.5:.25,v=Math.pow(u.distanceToSquared(c),p),g=Math.pow(c.distanceToSquared(d),p),y=Math.pow(d.distanceToSquared(h),p);g<1e-4&&(g=1),v<1e-4&&(v=g),y<1e-4&&(y=g),k0.initNonuniformCatmullRom(u.x,c.x,d.x,h.x,v,g,y),I0.initNonuniformCatmullRom(u.y,c.y,d.y,h.y,v,g,y),D0.initNonuniformCatmullRom(u.z,c.z,d.z,h.z,v,g,y)}else this.curveType==="catmullrom"&&(k0.initCatmullRom(u.x,c.x,d.x,h.x,this.tension),I0.initCatmullRom(u.y,c.y,d.y,h.y,this.tension),D0.initCatmullRom(u.z,c.z,d.z,h.z,this.tension));return n.set(k0.calc(l),I0.calc(l),D0.calc(l)),n};ni.prototype.copy=function(e){Fe.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};ni.prototype.toJSON=function(){var e=Fe.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};ni.prototype.fromJSON=function(e){Fe.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(new U().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function oT(e,t,n,r,i){var o=(r-t)*.5,a=(i-n)*.5,l=e*e,u=e*l;return(2*n-2*r+o+a)*u+(-3*n+3*r-2*o-a)*l+o*e+n}function rK(e,t){var n=1-e;return n*n*t}function iK(e,t){return 2*(1-e)*e*t}function oK(e,t){return e*e*t}function _f(e,t,n,r){return rK(e,t)+iK(e,n)+oK(e,r)}function aK(e,t){var n=1-e;return n*n*n*t}function sK(e,t){var n=1-e;return 3*n*n*e*t}function lK(e,t){return 3*(1-e)*e*e*t}function uK(e,t){return e*e*e*t}function xf(e,t,n,r,i){return aK(e,t)+sK(e,n)+lK(e,r)+uK(e,i)}function Eo(e,t,n,r){Fe.call(this),this.type="CubicBezierCurve",this.v0=e||new ce,this.v1=t||new ce,this.v2=n||new ce,this.v3=r||new ce}Eo.prototype=Object.create(Fe.prototype);Eo.prototype.constructor=Eo;Eo.prototype.isCubicBezierCurve=!0;Eo.prototype.getPoint=function(e,t){var n=t||new ce,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(xf(e,r.x,i.x,o.x,a.x),xf(e,r.y,i.y,o.y,a.y)),n};Eo.prototype.copy=function(e){return Fe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Eo.prototype.toJSON=function(){var e=Fe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Eo.prototype.fromJSON=function(e){return Fe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function sa(e,t,n,r){Fe.call(this),this.type="CubicBezierCurve3",this.v0=e||new U,this.v1=t||new U,this.v2=n||new U,this.v3=r||new U}sa.prototype=Object.create(Fe.prototype);sa.prototype.constructor=sa;sa.prototype.isCubicBezierCurve3=!0;sa.prototype.getPoint=function(e,t){var n=t||new U,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(xf(e,r.x,i.x,o.x,a.x),xf(e,r.y,i.y,o.y,a.y),xf(e,r.z,i.z,o.z,a.z)),n};sa.prototype.copy=function(e){return Fe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};sa.prototype.toJSON=function(){var e=Fe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};sa.prototype.fromJSON=function(e){return Fe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function ri(e,t){Fe.call(this),this.type="LineCurve",this.v1=e||new ce,this.v2=t||new ce}ri.prototype=Object.create(Fe.prototype);ri.prototype.constructor=ri;ri.prototype.isLineCurve=!0;ri.prototype.getPoint=function(e,t){var n=t||new ce;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};ri.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};ri.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()};ri.prototype.copy=function(e){return Fe.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};ri.prototype.toJSON=function(){var e=Fe.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};ri.prototype.fromJSON=function(e){return Fe.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Mo(e,t){Fe.call(this),this.type="LineCurve3",this.v1=e||new U,this.v2=t||new U}Mo.prototype=Object.create(Fe.prototype);Mo.prototype.constructor=Mo;Mo.prototype.isLineCurve3=!0;Mo.prototype.getPoint=function(e,t){var n=t||new U;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Mo.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Mo.prototype.copy=function(e){return Fe.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Mo.prototype.toJSON=function(){var e=Fe.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Mo.prototype.fromJSON=function(e){return Fe.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ao(e,t,n){Fe.call(this),this.type="QuadraticBezierCurve",this.v0=e||new ce,this.v1=t||new ce,this.v2=n||new ce}Ao.prototype=Object.create(Fe.prototype);Ao.prototype.constructor=Ao;Ao.prototype.isQuadraticBezierCurve=!0;Ao.prototype.getPoint=function(e,t){var n=t||new ce,r=this.v0,i=this.v1,o=this.v2;return n.set(_f(e,r.x,i.x,o.x),_f(e,r.y,i.y,o.y)),n};Ao.prototype.copy=function(e){return Fe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Ao.prototype.toJSON=function(){var e=Fe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Ao.prototype.fromJSON=function(e){return Fe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function la(e,t,n){Fe.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new U,this.v1=t||new U,this.v2=n||new U}la.prototype=Object.create(Fe.prototype);la.prototype.constructor=la;la.prototype.isQuadraticBezierCurve3=!0;la.prototype.getPoint=function(e,t){var n=t||new U,r=this.v0,i=this.v1,o=this.v2;return n.set(_f(e,r.x,i.x,o.x),_f(e,r.y,i.y,o.y),_f(e,r.z,i.z,o.z)),n};la.prototype.copy=function(e){return Fe.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};la.prototype.toJSON=function(){var e=Fe.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};la.prototype.fromJSON=function(e){return Fe.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function To(e){Fe.call(this),this.type="SplineCurve",this.points=e||[]}To.prototype=Object.create(Fe.prototype);To.prototype.constructor=To;To.prototype.isSplineCurve=!0;To.prototype.getPoint=function(e,t){var n=t||new ce,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,l=r[o===0?o:o-1],u=r[o],c=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return n.set(oT(a,l.x,u.x,c.x,d.x),oT(a,l.y,u.y,c.y,d.y)),n};To.prototype.copy=function(e){Fe.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this};To.prototype.toJSON=function(){var e=Fe.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e};To.prototype.fromJSON=function(e){Fe.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(new ce().fromArray(r))}return this};const VO=Object.freeze(Object.defineProperty({__proto__:null,ArcCurve:Od,CatmullRomCurve3:ni,CubicBezierCurve:Eo,CubicBezierCurve3:sa,EllipseCurve:Ci,LineCurve:ri,LineCurve3:Mo,QuadraticBezierCurve:Ao,QuadraticBezierCurve3:la,SplineCurve:To},Symbol.toStringTag,{value:"Module"}));function Da(){Fe.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Da.prototype=Object.assign(Object.create(Fe.prototype),{constructor:Da,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ri(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),l=a===0?0:1-i/a;return o.getPointAt(l)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t=[],n,r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a),u=0;u<l.length;u++){var c=l[u];n&&n.equals(c)||(t.push(c),n=c)}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Fe.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Fe.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Fe.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(new VO[r.type]().fromJSON(r))}return this}});function po(e){Da.call(this),this.type="Path",this.currentPoint=new ce,e&&this.setFromPoints(e)}po.prototype=Object.assign(Object.create(Da.prototype),{constructor:po,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new ri(this.currentPoint.clone(),new ce(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new Ao(this.currentPoint.clone(),new ce(e,t),new ce(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,o){var a=new Eo(this.currentPoint.clone(),new ce(e,t),new ce(n,r),new ce(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new To(t);this.curves.push(n),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,l=this.currentPoint.y;this.absarc(e+a,t+l,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,l){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+u,t+c,n,r,i,o,a,l)},absellipse:function(e,t,n,r,i,o,a,l){var u=new Ci(e,t,n,r,i,o,a,l);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var d=u.getPoint(1);this.currentPoint.copy(d)},copy:function(e){return Da.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Da.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Da.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function Fs(e){po.call(this,e),this.uuid=Xe.generateUUID(),this.type="Shape",this.holes=[]}Fs.prototype=Object.assign(Object.create(po.prototype),{constructor:Fs,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){po.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=po.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){po.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(new po().fromJSON(r))}return this}});function Sn(e,t){we.call(this),this.type="Light",this.color=new Ie(e),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}Sn.prototype=Object.assign(Object.create(we.prototype),{constructor:Sn,isLight:!0,copy:function(e){return we.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=we.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function Gx(e,t,n){Sn.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(we.DefaultUp),this.updateMatrix(),this.groundColor=new Ie(t)}Gx.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Gx,isHemisphereLight:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function lc(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new ce(512,512),this.map=null,this.matrix=new je}Object.assign(lc.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e={};return this.bias!==0&&(e.bias=this.bias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function Vx(){lc.call(this,new Pn(50,1,.5,500))}Vx.prototype=Object.assign(Object.create(lc.prototype),{constructor:Vx,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=Xe.RAD2DEG*2*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;(n!==t.fov||r!==t.aspect||i!==t.far)&&(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}});function Wx(e,t,n,r,i,o){Sn.call(this,e,t),this.type="SpotLight",this.position.copy(we.DefaultUp),this.updateMatrix(),this.target=new we,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=r!==void 0?r:Math.PI/3,this.penumbra=i!==void 0?i:0,this.decay=o!==void 0?o:1,this.shadow=new Vx}Wx.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Wx,isSpotLight:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function $x(e,t,n,r){Sn.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(i){this.intensity=i/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=r!==void 0?r:1,this.shadow=new lc(new Pn(90,1,.5,500))}$x.prototype=Object.assign(Object.create(Sn.prototype),{constructor:$x,isPointLight:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function Zu(e,t,n,r,i,o){ia.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=n!==void 0?n:1,this.bottom=r!==void 0?r:-1,this.near=i!==void 0?i:.1,this.far=o!==void 0?o:2e3,this.updateProjectionMatrix()}Zu.prototype=Object.assign(Object.create(ia.prototype),{constructor:Zu,isOrthographicCamera:!0,copy:function(e,t){return ia.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),d=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;i+=d*(this.view.offsetX/u),o=i+d*(this.view.width/u),a-=h*(this.view.offsetY/c),l=a-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,l,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=we.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function Yx(){lc.call(this,new Zu(-5,5,5,-5,.5,500))}Yx.prototype=Object.assign(Object.create(lc.prototype),{constructor:Yx});function Zx(e,t){Sn.call(this,e,t),this.type="DirectionalLight",this.position.copy(we.DefaultUp),this.updateMatrix(),this.target=new we,this.shadow=new Yx}Zx.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Zx,isDirectionalLight:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function Xx(e,t){Sn.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}Xx.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Xx,isAmbientLight:!0});function qx(e,t,n,r){Sn.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=r!==void 0?r:10}qx.prototype=Object.assign(Object.create(Sn.prototype),{constructor:qx,isRectAreaLight:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Sn.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});function Db(e){this.manager=e!==void 0?e:li,this.textures={}}Object.assign(Db.prototype,{load:function(e,t,n,r){var i=this,o=new ha(i.manager);o.setPath(i.path),o.load(e,function(a){t(i.parse(JSON.parse(a)))},n,r)},parse:function(e){var t=this.textures;function n(u){return t[u]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",u),t[u]}var r=new Kq[e.type];if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular.setHex(e.specular),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearCoat!==void 0&&(r.clearCoat=e.clearCoat),e.clearCoatRoughness!==void 0&&(r.clearCoatRoughness=e.clearCoatRoughness),e.vertexColors!==void 0&&(r.vertexColors=e.vertexColors),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(r.skinning=e.skinning),e.morphTargets!==void 0&&(r.morphTargets=e.morphTargets),e.dithering!==void 0&&(r.dithering=e.dithering),e.visible!==void 0&&(r.visible=e.visible),e.userData!==void 0&&(r.userData=e.userData),e.uniforms!==void 0)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=new Ie().setHex(o.value);break;case"v2":r.uniforms[i].value=new ce().fromArray(o.value);break;case"v3":r.uniforms[i].value=new U().fromArray(o.value);break;case"v4":r.uniforms[i].value=new Gt().fromArray(o.value);break;case"m3":r.uniforms[i].value=new ir().fromArray(o.value);case"m4":r.uniforms[i].value=new je().fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){var l=e.normalScale;Array.isArray(l)===!1&&(l=[l,l]),r.normalScale=new ce().fromArray(l)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var WO={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function $O(e){this.manager=e!==void 0?e:li}Object.assign($O.prototype,{load:function(e,t,n,r){var i=this,o=new ha(i.manager);o.setPath(i.path),o.load(e,function(a){t(i.parse(JSON.parse(a)))},n,r)},parse:function(e){var t=new Ce,n=e.data.index;if(n!==void 0){var r=new aT[n.type](n.array);t.setIndex(new at(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o],r=new aT[a.type](a.array);t.addAttribute(o,new at(r,a.itemSize,a.normalized))}var l=e.data.groups||e.data.drawcalls||e.data.offsets;if(l!==void 0)for(var u=0,c=l.length;u!==c;++u){var d=l[u];t.addGroup(d.start,d.count,d.materialIndex)}var h=e.data.boundingSphere;if(h!==void 0){var p=new U;h.center!==void 0&&p.fromArray(h.center),t.boundingSphere=new bo(p,h.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var aT={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function YO(e){this.manager=e!==void 0?e:li,this.resourcePath=""}Object.assign(YO.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,o=this.path===void 0?WO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new ha(i.manager);a.setPath(this.path),a.load(e,function(l){var u=null;try{u=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}var c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}i.parse(u,t)},n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,function(){t!==void 0&&t(l)}),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a);return e.animations&&(l.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&t!==void 0&&t(l),l},parseShape:function(e){var t={};if(e!==void 0)for(var n=0,r=e.length;n<r;n++){var i=new Fs().fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(e!==void 0)for(var r=new $O,i=0,o=e.length;i<o;i++){var a,l=e[i];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Cr[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Cr[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Cr[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Cr[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Cr[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Cr[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Cr[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Cr[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Cr[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Cr[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Cr[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Cr[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var h=[],u=0,c=l.shapes.length;u<c;u++){var d=t[l.shapes[u]];h.push(d)}a=new Cr[l.type](h,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var h=[],u=0,c=l.shapes.length;u<c;u++){var d=t[l.shapes[u]];h.push(d)}var p=l.options.extrudePath;p!==void 0&&(l.options.extrudePath=new VO[p.type]().fromJSON(p)),a=new Cr[l.type](h,l.options);break;case"BufferGeometry":a=r.parse(l);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var v=new THREE.LegacyJSONLoader;a=v.parse(l,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),n[l.uuid]=a}return n},parseMaterials:function(e,t){var n={},r={};if(e!==void 0){var i=new Db;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var l=e[o];if(l.type==="MultiMaterial"){for(var u=[],c=0;c<l.materials.length;c++){var d=l.materials[c];n[d.uuid]===void 0&&(n[d.uuid]=i.parse(d)),u.push(n[d.uuid])}r[l.uuid]=u}else r[l.uuid]=i.parse(l),n[l.uuid]=r[l.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=ho.parse(r);r.uuid!==void 0&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(y){return n.manager.itemStart(y),a.load(y,function(){n.manager.itemEnd(y)},void 0,function(){n.manager.itemError(y),n.manager.itemEnd(y)})}if(e!==void 0&&e.length>0){var o=new HO(t),a=new Yg(o);a.setCrossOrigin(this.crossOrigin);for(var l=0,u=e.length;l<u;l++){var c=e[l],d=c.url;if(Array.isArray(d)){r[c.uuid]=[];for(var h=0,p=d.length;h<p;h++){var v=d[h],g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(v)?v:n.resourcePath+v;r[c.uuid].push(i(g))}}else{var g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;r[c.uuid]=i(g)}}}return r},parseTextures:function(e,t){function n(u,c){return typeof u=="number"?u:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",u),c[u])}var r={};if(e!==void 0)for(var i=0,o=e.length;i<o;i++){var a=e[i];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var l;Array.isArray(t[a.image])?l=new ns(t[a.image]):l=new Vt(t[a.image]),l.needsUpdate=!0,l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.mapping!==void 0&&(l.mapping=n(a.mapping,cK)),a.offset!==void 0&&l.offset.fromArray(a.offset),a.repeat!==void 0&&l.repeat.fromArray(a.repeat),a.center!==void 0&&l.center.fromArray(a.center),a.rotation!==void 0&&(l.rotation=a.rotation),a.wrap!==void 0&&(l.wrapS=n(a.wrap[0],sT),l.wrapT=n(a.wrap[1],sT)),a.format!==void 0&&(l.format=a.format),a.type!==void 0&&(l.type=a.type),a.encoding!==void 0&&(l.encoding=a.encoding),a.minFilter!==void 0&&(l.minFilter=n(a.minFilter,lT)),a.magFilter!==void 0&&(l.magFilter=n(a.magFilter,lT)),a.anisotropy!==void 0&&(l.anisotropy=a.anisotropy),a.flipY!==void 0&&(l.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(l.unpackAlignment=a.unpackAlignment),r[a.uuid]=l}return r},parseObject:function(e,t,n){var r;function i(g){return t[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),t[g]}function o(g){if(g!==void 0){if(Array.isArray(g)){for(var y=[],M=0,_=g.length;M<_;M++){var x=g[M];n[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),y.push(n[x])}return y}return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),n[g]}}switch(e.type){case"Scene":r=new dd,e.background!==void 0&&Number.isInteger(e.background)&&(r.background=new Ie(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?r.fog=new fd(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(r.fog=new cd(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Pn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(r.focus=e.focus),e.zoom!==void 0&&(r.zoom=e.zoom),e.filmGauge!==void 0&&(r.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(r.filmOffset=e.filmOffset),e.view!==void 0&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Zu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(r.zoom=e.zoom),e.view!==void 0&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Xx(e.color,e.intensity);break;case"DirectionalLight":r=new Zx(e.color,e.intensity);break;case"PointLight":r=new $x(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new qx(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Wx(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Gx(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(e.geometry),l=o(e.material);a.bones&&a.bones.length>0?r=new Fm(a,l):r=new ar(a,l);break;case"LOD":r=new Dm;break;case"Line":r=new Ur(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":r=new Nx(i(e.geometry),o(e.material));break;case"LineSegments":r=new fn(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":r=new kx(i(e.geometry),o(e.material));break;case"Sprite":r=new Rx(o(e.material));break;case"Group":r=new ud;break;default:r=new we}if(r.uuid=e.uuid,e.name!==void 0&&(r.name=e.name),e.matrix!==void 0?(r.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(e.position!==void 0&&r.position.fromArray(e.position),e.rotation!==void 0&&r.rotation.fromArray(e.rotation),e.quaternion!==void 0&&r.quaternion.fromArray(e.quaternion),e.scale!==void 0&&r.scale.fromArray(e.scale)),e.castShadow!==void 0&&(r.castShadow=e.castShadow),e.receiveShadow!==void 0&&(r.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(r.shadow.bias=e.shadow.bias),e.shadow.radius!==void 0&&(r.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&r.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(r.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(r.visible=e.visible),e.frustumCulled!==void 0&&(r.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(r.renderOrder=e.renderOrder),e.userData!==void 0&&(r.userData=e.userData),e.layers!==void 0&&(r.layers.mask=e.layers),e.children!==void 0)for(var u=e.children,c=0;c<u.length;c++)r.add(this.parseObject(u[c],t,n));if(e.type==="LOD")for(var d=e.levels,h=0;h<d.length;h++){var p=d[h],v=r.getObjectByProperty("uuid",p.object);v!==void 0&&r.addLevel(v,p.distance)}return r}});var cK={UVMapping:Eb,CubeReflectionMapping:Mb,CubeRefractionMapping:bx,EquirectangularReflectionMapping:mO,EquirectangularRefractionMapping:Sx,SphericalReflectionMapping:vO,CubeUVReflectionMapping:Ab,CubeUVRefractionMapping:Tb},sT={RepeatWrapping:Ia,ClampToEdgeWrapping:bi,MirroredRepeatWrapping:Pu},lT={NearestFilter:zn,NearestMipMapNearestFilter:Pb,NearestMipMapLinearFilter:Cb,LinearFilter:$n,LinearMipMapNearestFilter:gO,LinearMipMapLinearFilter:Wg};function uT(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=e!==void 0?e:li,this.options=void 0}uT.prototype={constructor:uT,setOptions:function(t){return this.options=t,this},load:function(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Yu.get(e);if(o!==void 0)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;fetch(e).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,i.options)}).then(function(a){Yu.add(e,a),t&&t(a),i.manager.itemEnd(e)}).catch(function(a){r&&r(a),i.manager.itemError(e),i.manager.itemEnd(e)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}};function ZO(){this.type="ShapePath",this.color=new Ie,this.subPaths=[],this.currentPath=null}Object.assign(ZO.prototype,{moveTo:function(e,t){this.currentPath=new po,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n($){for(var X=[],J=0,V=$.length;J<V;J++){var I=$[J],k=new Fs;k.curves=I.curves,X.push(k)}return X}function r($,X){for(var J=X.length,V=!1,I=J-1,k=0;k<J;I=k++){var q=X[I],H=X[k],ue=H.x-q.x,Q=H.y-q.y;if(Math.abs(Q)>Number.EPSILON){if(Q<0&&(q=X[k],ue=-ue,H=X[I],Q=-Q),$.y<q.y||$.y>H.y)continue;if($.y===q.y){if($.x===q.x)return!0}else{var ne=Q*($.x-q.x)-ue*($.y-q.y);if(ne===0)return!0;if(ne<0)continue;V=!V}}else{if($.y!==q.y)continue;if(H.x<=$.x&&$.x<=q.x||q.x<=$.x&&$.x<=H.x)return!0}}return V}var i=Xa.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return n(o);var a,l,u,c=[];if(o.length===1)return l=o[0],u=new Fs,u.curves=l.curves,c.push(u),c;var d=!i(o[0].getPoints());d=e?!d:d;var h=[],p=[],v=[],g=0,y;p[g]=void 0,v[g]=[];for(var M=0,_=o.length;M<_;M++)l=o[M],y=l.getPoints(),a=i(y),a=e?!a:a,a?(!d&&p[g]&&g++,p[g]={s:new Fs,p:y},p[g].s.curves=l.curves,d&&g++,v[g]=[]):v[g].push({h:l,p:y[0]});if(!p[0])return n(o);if(p.length>1){for(var x=!1,b=[],E=0,A=p.length;E<A;E++)h[E]=[];for(var E=0,A=p.length;E<A;E++)for(var C=v[E],P=0;P<C.length;P++){for(var R=C[P],N=!0,F=0;F<p.length;F++)r(R.p,p[F].p)&&(E!==F&&b.push({froms:E,tos:F,hole:P}),N?(N=!1,h[F].push(R)):x=!0);N&&h[E].push(R)}b.length>0&&(x||(v=h))}for(var z,M=0,G=p.length;M<G;M++){u=p[M].s,c.push(u),z=v[M];for(var K=0,W=z.length;K<W;K++)u.holes.push(z[K].h)}return c}});function XO(e){this.type="Font",this.data=e}Object.assign(XO.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);for(var n=[],r=fK(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}});function fK(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],l=0,u=0,c=0;c<r.length;c++){var d=r[c];if(d===`
`)l=0,u-=o;else{var h=dK(d,i,l,u,n);l+=h.offsetX,a.push(h.path)}}return a}function dK(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a=new ZO,l,u,c,d,h,p,v,g;if(o.o)for(var y=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),M=0,_=y.length;M<_;){var x=y[M++];switch(x){case"m":l=y[M++]*t+n,u=y[M++]*t+r,a.moveTo(l,u);break;case"l":l=y[M++]*t+n,u=y[M++]*t+r,a.lineTo(l,u);break;case"q":c=y[M++]*t+n,d=y[M++]*t+r,h=y[M++]*t+n,p=y[M++]*t+r,a.quadraticCurveTo(h,p,c,d);break;case"b":c=y[M++]*t+n,d=y[M++]*t+r,h=y[M++]*t+n,p=y[M++]*t+r,v=y[M++]*t+n,g=y[M++]*t+r,a.bezierCurveTo(h,p,v,g,c,d);break}}return{offsetX:o.ha*t,path:a}}}function hK(e){this.manager=e!==void 0?e:li}Object.assign(hK.prototype,{load:function(e,t,n,r){var i=this,o=new ha(this.manager);o.setPath(this.path),o.load(e,function(a){var l;try{l=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),l=JSON.parse(a.substring(65,a.length-2))}var u=i.parse(l);t&&t(u)},n,r)},parse:function(e){return new XO(e)},setPath:function(e){return this.path=e,this}});function sv(){}sv.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}};Object.assign(sv.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:yf,NormalBlending:du,AdditiveBlending:yx,SubtractiveBlending:_x,MultiplyBlending:xx,CustomBlending:fO},t=new Ie,n=new kb,r=new Db;return function(o,a,l){var u={};function c(v,g,y,M,_){var x=a+v,b=sv.Handlers.get(x),E;b!==null?E=b.load(x):(n.setCrossOrigin(l),E=n.load(x)),g!==void 0&&(E.repeat.fromArray(g),g[0]!==1&&(E.wrapS=Ia),g[1]!==1&&(E.wrapT=Ia)),y!==void 0&&E.offset.fromArray(y),M!==void 0&&(M[0]==="repeat"&&(E.wrapS=Ia),M[0]==="mirror"&&(E.wrapS=Pu),M[1]==="repeat"&&(E.wrapT=Ia),M[1]==="mirror"&&(E.wrapT=Pu)),_!==void 0&&(E.anisotropy=_);var A=Xe.generateUUID();return u[A]=E,A}var d={uuid:Xe.generateUUID(),type:"MeshLambertMaterial"};for(var h in o){var p=o[h];switch(h){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":d.name=p;break;case"blending":d.blending=e[p];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",h,"is no longer supported.");break;case"colorDiffuse":d.color=t.fromArray(p).getHex();break;case"colorSpecular":d.specular=t.fromArray(p).getHex();break;case"colorEmissive":d.emissive=t.fromArray(p).getHex();break;case"specularCoef":d.shininess=p;break;case"shading":p.toLowerCase()==="basic"&&(d.type="MeshBasicMaterial"),p.toLowerCase()==="phong"&&(d.type="MeshPhongMaterial"),p.toLowerCase()==="standard"&&(d.type="MeshStandardMaterial");break;case"mapDiffuse":d.map=c(p,o.mapDiffuseRepeat,o.mapDiffuseOffset,o.mapDiffuseWrap,o.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":d.emissiveMap=c(p,o.mapEmissiveRepeat,o.mapEmissiveOffset,o.mapEmissiveWrap,o.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":d.lightMap=c(p,o.mapLightRepeat,o.mapLightOffset,o.mapLightWrap,o.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":d.aoMap=c(p,o.mapAORepeat,o.mapAOOffset,o.mapAOWrap,o.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":d.bumpMap=c(p,o.mapBumpRepeat,o.mapBumpOffset,o.mapBumpWrap,o.mapBumpAnisotropy);break;case"mapBumpScale":d.bumpScale=p;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":d.normalMap=c(p,o.mapNormalRepeat,o.mapNormalOffset,o.mapNormalWrap,o.mapNormalAnisotropy);break;case"mapNormalFactor":d.normalScale=p;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":d.specularMap=c(p,o.mapSpecularRepeat,o.mapSpecularOffset,o.mapSpecularWrap,o.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":d.metalnessMap=c(p,o.mapMetalnessRepeat,o.mapMetalnessOffset,o.mapMetalnessWrap,o.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":d.roughnessMap=c(p,o.mapRoughnessRepeat,o.mapRoughnessOffset,o.mapRoughnessWrap,o.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":d.alphaMap=c(p,o.mapAlphaRepeat,o.mapAlphaOffset,o.mapAlphaWrap,o.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":d.side=pr;break;case"doubleSided":d.side=lh;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),d.opacity=p;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":d[h]=p;break;case"vertexColors":p===!0&&(d.vertexColors=ic),p==="face"&&(d.vertexColors=cO);break;default:console.error("THREE.Loader.createMaterial: Unsupported",h,p);break}}return d.type==="MeshBasicMaterial"&&delete d.emissive,d.type!=="MeshPhongMaterial"&&delete d.specular,d.opacity<1&&(d.transparent=!0),r.setTextures(u),r.parse(d)}}()});var ip,qO={getContext:function(){return ip===void 0&&(ip=new(window.AudioContext||window.webkitAudioContext)),ip},setContext:function(e){ip=e}};function KO(e){this.manager=e!==void 0?e:li}Object.assign(KO.prototype,{load:function(e,t,n,r){var i=new ha(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,function(o){var a=o.slice(0),l=qO.getContext();l.decodeAudioData(a,function(u){t(u)})},n,r)},setPath:function(e){return this.path=e,this}});function pK(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Pn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}Object.assign(pK.prototype,{update:function(){var e,t,n,r,i,o,a,l,u=new je,c=new je;return function(h){var p=e!==this||t!==h.focus||n!==h.fov||r!==h.aspect*this.aspect||i!==h.near||o!==h.far||a!==h.zoom||l!==this.eyeSep;if(p){e=this,t=h.focus,n=h.fov,r=h.aspect*this.aspect,i=h.near,o=h.far,a=h.zoom;var v=h.projectionMatrix.clone();l=this.eyeSep/2;var g=l*i/t,y=i*Math.tan(Xe.DEG2RAD*n*.5)/a,M,_;c.elements[12]=-l,u.elements[12]=l,M=-y*r+g,_=y*r+g,v.elements[0]=2*i/(_-M),v.elements[8]=(_+M)/(_-M),this.cameraL.projectionMatrix.copy(v),M=-y*r-g,_=y*r-g,v.elements[0]=2*i/(_-M),v.elements[8]=(_+M)/(_-M),this.cameraR.projectionMatrix.copy(v)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(u)}}()});function lv(e,t,n,r){we.call(this),this.type="CubeCamera";var i=90,o=1,a=new Pn(i,o,e,t);a.up.set(0,-1,0),a.lookAt(new U(1,0,0)),this.add(a);var l=new Pn(i,o,e,t);l.up.set(0,-1,0),l.lookAt(new U(-1,0,0)),this.add(l);var u=new Pn(i,o,e,t);u.up.set(0,0,1),u.lookAt(new U(0,1,0)),this.add(u);var c=new Pn(i,o,e,t);c.up.set(0,0,-1),c.lookAt(new U(0,-1,0)),this.add(c);var d=new Pn(i,o,e,t);d.up.set(0,-1,0),d.lookAt(new U(0,0,1)),this.add(d);var h=new Pn(i,o,e,t);h.up.set(0,-1,0),h.lookAt(new U(0,0,-1)),this.add(h),r=r||{format:$s,magFilter:$n,minFilter:$n},this.renderTarget=new id(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(p,v){this.parent===null&&this.updateMatrixWorld();var g=p.getRenderTarget(),y=this.renderTarget,M=y.texture.generateMipmaps;y.texture.generateMipmaps=!1,y.activeCubeFace=0,p.render(v,a,y),y.activeCubeFace=1,p.render(v,l,y),y.activeCubeFace=2,p.render(v,u,y),y.activeCubeFace=3,p.render(v,c,y),y.activeCubeFace=4,p.render(v,d,y),y.texture.generateMipmaps=M,y.activeCubeFace=5,p.render(v,h,y),p.setRenderTarget(g)},this.clear=function(p,v,g,y){for(var M=p.getRenderTarget(),_=this.renderTarget,x=0;x<6;x++)_.activeCubeFace=x,p.setRenderTarget(_),p.clear(v,g,y);p.setRenderTarget(M)}}lv.prototype=Object.create(we.prototype);lv.prototype.constructor=lv;function JO(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(JO.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=(typeof performance>"u"?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});function cT(){we.call(this),this.type="AudioListener",this.context=qO.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}cT.prototype=Object.assign(Object.create(we.prototype),{constructor:cT,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new U,t=new Bn,n=new U,r=new U,i=new JO;return function(a){we.prototype.updateMatrixWorld.call(this,a);var l=this.context.listener,u=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),l.positionX){var c=this.context.currentTime+this.timeDelta;l.positionX.linearRampToValueAtTime(e.x,c),l.positionY.linearRampToValueAtTime(e.y,c),l.positionZ.linearRampToValueAtTime(e.z,c),l.forwardX.linearRampToValueAtTime(r.x,c),l.forwardY.linearRampToValueAtTime(r.y,c),l.forwardZ.linearRampToValueAtTime(r.z,c),l.upX.linearRampToValueAtTime(u.x,c),l.upY.linearRampToValueAtTime(u.y,c),l.upZ.linearRampToValueAtTime(u.z,c)}else l.setPosition(e.x,e.y,e.z),l.setOrientation(r.x,r.y,r.z,u.x,u.y,u.z)}}()});function Nd(e){we.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}Nd.prototype=Object.assign(Object.create(we.prototype),{constructor:Nd,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}var e=this.context.createBufferSource();return e.buffer=this.buffer,e.detune.value=this.detune,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){return this.detune=e,this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});function fT(e){Nd.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}fT.prototype=Object.assign(Object.create(Nd.prototype),{constructor:fT,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new U,t=new Bn,n=new U,r=new U;return function(o){if(we.prototype.updateMatrixWorld.call(this,o),this.isPlaying!==!1){this.matrixWorld.decompose(e,t,n),r.set(0,0,1).applyQuaternion(t);var a=this.panner;if(a.positionX){var l=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(e.x,l),a.positionY.linearRampToValueAtTime(e.y,l),a.positionZ.linearRampToValueAtTime(e.z,l),a.orientationX.linearRampToValueAtTime(r.x,l),a.orientationY.linearRampToValueAtTime(r.y,l),a.orientationZ.linearRampToValueAtTime(r.z,l)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z)}}}()});function QO(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}Object.assign(QO.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}});function eN(e,t,n){this.binding=e,this.valueSize=n;var r=Float64Array,i;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(n*4),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(eN.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(o===0){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{o+=t;var l=t/o;this._mixBufferRegion(n,i,0,l,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=t*3;this._mixBufferRegion(n,r,a,1-i,t)}for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*3;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){Bn.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var l=t+a;e[l]=e[l]*o+e[n+a]*r}}});var F0="\\[\\]\\.:\\/";function tN(e,t,n){var r=n||xr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}Object.assign(tN.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function xr(e,t,n){this.path=t,this.parsedPath=n||xr.parseTrackName(t),this.node=xr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(xr,{Composite:tN,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new xr.Composite(e,t,n):new xr(e,t,n)},sanitizeNodeName:function(){var e=new RegExp("["+F0+"]","g");return function(n){return n.replace(/\s/g,"_").replace(e,"")}}(),parseTrackName:function(){var e="[^"+F0+"]",t="[^"+F0.replace("\\.","")+"]",n=/((?:WC+[\/:])*)/.source.replace("WC",e),r=/(WCOD+)?/.source.replace("WCOD",t),i=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",e),o=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",e),a=new RegExp("^"+n+r+i+o+"$"),l=["material","materials","bones"];return function(c){var d=a.exec(c);if(!d)throw new Error("PropertyBinding: Cannot parse trackName: "+c);var h={nodeName:d[2],objectName:d[3],objectIndex:d[4],propertyName:d[5],propertyIndex:d[6]},p=h.nodeName&&h.nodeName.lastIndexOf(".");if(p!==void 0&&p!==-1){var v=h.nodeName.substring(p+1);l.indexOf(v)!==-1&&(h.nodeName=h.nodeName.substring(0,p),h.objectName=v)}if(h.propertyName===null||h.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+c);return h}}(),findNode:function(e,t){if(!t||t===""||t==="root"||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){var r=function(o){for(var a=0;a<o.length;a++){var l=o[a];if(l.name===t||l.uuid===t)return l;var u=r(l.children);if(u)return u}return null},i=r(e.children);if(i)return i}return null}});Object.assign(xr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)t[n++]=r[i]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=t[n++]},function(t,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){for(var r=this.resolvedProperty,i=0,o=r.length;i!==o;++i)r[i]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=xr.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(o!==void 0){if(e[o]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[o]}}var l=e[r];if(l===void 0){var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}var c=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?c=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(c=this.Versioning.MatrixWorldNeedsUpdate);var d=this.BindingType.Direct;if(i!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(var a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=i}else l.fromArray!==void 0&&l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(xr.prototype,{_getValue_unbound:xr.prototype.getValue,_setValue_unbound:xr.prototype.setValue});function mK(){this.uuid=Xe.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}Object.assign(mK.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,l=a.length,u=void 0,c=0,d=arguments.length;c!==d;++c){var h=arguments[c],p=h.uuid,v=r[p];if(v===void 0){v=t++,r[p]=v,e.push(h);for(var g=0,y=l;g!==y;++g)a[g].push(new xr(h,i[g],o[g]))}else if(v<n){u=e[v];var M=--n,_=e[M];r[_.uuid]=v,e[v]=_,r[p]=M,e[M]=h;for(var g=0,y=l;g!==y;++g){var x=a[g],b=x[M],E=x[v];x[v]=b,E===void 0&&(E=new xr(h,i[g],o[g])),x[M]=E}}else e[v]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=t){var d=t++,h=e[d];n[h.uuid]=c,e[c]=h,n[u]=d,e[d]=l;for(var p=0,v=i;p!==v;++p){var g=r[p],y=g[d],M=g[c];g[c]=y,g[d]=M}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,l=arguments.length;a!==l;++a){var u=arguments[a],c=u.uuid,d=r[c];if(d!==void 0)if(delete r[c],d<n){var h=--n,p=e[h],v=--t,g=e[v];r[p.uuid]=d,e[d]=p,r[g.uuid]=h,e[h]=g,e.pop();for(var y=0,M=o;y!==M;++y){var _=i[y],x=_[h],b=_[v];_[d]=x,_[h]=b,_.pop()}}else{var v=--t,g=e[v];r[g.uuid]=d,e[d]=g,e.pop();for(var y=0,M=o;y!==M;++y){var _=i[y];_[d]=_[v],_.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(r!==void 0)return i[r];var o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,d=new Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(d);for(var h=c,p=l.length;h!==p;++h){var v=l[h];d[h]=new xr(v,e,t)}return d},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=n,o[n]=l,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}});function nN(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:Cu,endingEnd:Cu},l=0;l!==i;++l){var u=r[l].createInterpolant(null);o[l]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=eY,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(nN.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var l=o.parameterPositions,u=o.sampleValues;return l[0]=i,l[1]=i+n,u[0]=e/a,u[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}var i=this._startTime;if(i!==null){var o=(e-i)*n;if(o<0||n===0)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),l=this._updateWeight(e);if(l>0)for(var u=this._interpolants,c=this._propertyBindings,d=0,h=u.length;d!==h;++d)u[d].evaluate(a),c[d].accumulate(r,l)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(n!==null){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(n!==null){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=r===tY;if(e===0)return i===-1?t:o&&(i&1)===1?n-t:t;if(r===Q$){i===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else if(t<0)t=0;else break e;this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(i===-1&&(e>=0?(i=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var l=this.repetitions-i;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){var u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&(i&1)===1)return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Kl,r.endingEnd=Kl):(e?r.endingStart=this.zeroSlopeAtStart?Kl:Cu:r.endingStart=Cm,t?r.endingEnd=this.zeroSlopeAtEnd?Kl:Cu:r.endingEnd=Cm)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,l=o.sampleValues;return a[0]=i,l[0]=t,a[1]=i+e,l[1]=n,this}});function dT(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}dT.prototype=Object.assign(Object.create(us.prototype),{constructor:dT,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,l=n.uuid,u=this._bindingsByRootAndName,c=u[l];c===void 0&&(c={},u[l]=c);for(var d=0;d!==i;++d){var h=r[d],p=h.name,v=c[p];if(v!==void 0)o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,p));continue}var g=t&&t._propertyBindings[d].binding.parsedPath;v=new eN(xr.create(n,p,g),h.ValueTypeName,h.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,p),o[d]=v}a[d].resultBuffer=v.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var l=i[o];l.useCount++===0&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];--i.useCount===0&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;var d=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];--i.referenceCount===0&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;i===void 0&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return n===void 0&&(n=new ov(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i=typeof e=="string"?ho.findByName(n,e):e,o=i!==null?i.uuid:e,a=this._actionsByClip[o],l=null;if(a!==void 0){var u=a.actionByRoot[r];if(u!==void 0)return u;l=a.knownActions[0],i===null&&(i=l._clip)}if(i===null)return null;var c=new nN(this,i,t);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i=typeof e=="string"?ho.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){var l=t[a];l._update(r,e,i,o)}for(var u=this._bindings,c=this._nActiveBindings,a=0;a!==c;++a)u[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(i!==void 0){for(var o=i.knownActions,a=0,l=o.length;a!==l;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=c,t[c]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,l=a[t];if(l!==void 0)for(var u in l){var c=l[u];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});function Kx(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}Kx.prototype.clone=function(){return new Kx(this.value.clone===void 0?this.value:this.value.clone())};function hT(){Ce.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}hT.prototype=Object.assign(Object.create(Ce.prototype),{constructor:hT,isInstancedBufferGeometry:!0,copy:function(e){return Ce.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)}});function pT(e,t,n){Ou.call(this,e,t),this.meshPerAttribute=n||1}pT.prototype=Object.assign(Object.create(Ou.prototype),{constructor:pT,isInstancedInterleavedBuffer:!0,copy:function(e){return Ou.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}});function mT(e,t,n,r){typeof n=="number"&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),at.call(this,e,t,n),this.meshPerAttribute=r||1}mT.prototype=Object.assign(Object.create(at.prototype),{constructor:mT,isInstancedBufferAttribute:!0,copy:function(e){return at.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}});function vK(e,t,n,r){this.ray=new ac(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function vT(e,t){return e.distance-t.distance}function Jx(e,t,n,r){if(e.visible!==!1&&(e.raycast(t,n),r===!0))for(var i=e.children,o=0,a=i.length;o<a;o++)Jx(i[o],t,n,!0)}Object.assign(vK.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return Jx(e,this,r,t),r.sort(vT),r},intersectObjects:function(e,t,n){var r=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)Jx(e[i],this,r,t);return r.sort(vT),r}});function gK(e,t,n){return this.radius=e!==void 0?e:1,this.phi=t!==void 0?t:0,this.theta=n!==void 0?n:0,this}Object.assign(gK.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Xe.clamp(t/this.radius,-1,1))),this}});function yK(e,t,n){return this.radius=e!==void 0?e:1,this.theta=t!==void 0?t:0,this.y=n!==void 0?n:0,this}Object.assign(yK.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});function rN(e,t){this.min=e!==void 0?e:new ce(1/0,1/0),this.max=t!==void 0?t:new ce(-1/0,-1/0)}Object.assign(rN.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new ce;return function(n,r){var i=e.copy(r).multiplyScalar(.5);return this.min.copy(n).sub(i),this.max.copy(n).add(i),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new ce),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new ce),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new ce),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new ce),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new ce;return function(n){var r=e.copy(n).clamp(this.min,this.max);return r.sub(n).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function iN(e,t){this.start=e!==void 0?e:new U,this.end=t!==void 0?t:new U}Object.assign(iN.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new U),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new U),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return t===void 0&&(console.warn("THREE.Line3: .at() target is now required"),t=new U),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new U,t=new U;return function(r,i){e.subVectors(r,this.start),t.subVectors(this.end,this.start);var o=t.dot(t),a=t.dot(e),l=a/o;return i&&(l=Xe.clamp(l,0,1)),l}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return n===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new U),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function uv(e){we.call(this),this.material=e,this.render=function(){}}uv.prototype=Object.create(we.prototype);uv.prototype.constructor=uv;uv.prototype.isImmediateRenderObject=!0;function cv(e,t,n,r){this.object=e,this.size=t!==void 0?t:1;var i=n!==void 0?n:16711680,o=r!==void 0?r:1,a=0,l=this.object.geometry;l&&l.isGeometry?a=l.faces.length*3:l&&l.isBufferGeometry&&(a=l.attributes.normal.count);var u=new Ce,c=new _e(a*2*3,3);u.addAttribute("position",c),fn.call(this,u,new on({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}cv.prototype=Object.create(fn.prototype);cv.prototype.constructor=cv;cv.prototype.update=function(){var e=new U,t=new U,n=new ir;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var o=this.object.matrixWorld,a=this.geometry.attributes.position,l=this.object.geometry;if(l&&l.isGeometry)for(var u=l.vertices,c=l.faces,d=0,h=0,p=c.length;h<p;h++)for(var v=c[h],g=0,y=v.vertexNormals.length;g<y;g++){var M=u[v[i[g]]],_=v.vertexNormals[g];e.copy(M).applyMatrix4(o),t.copy(_).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(d,e.x,e.y,e.z),d=d+1,a.setXYZ(d,t.x,t.y,t.z),d=d+1}else if(l&&l.isBufferGeometry)for(var x=l.attributes.position,b=l.attributes.normal,d=0,g=0,y=x.count;g<y;g++)e.set(x.getX(g),x.getY(g),x.getZ(g)).applyMatrix4(o),t.set(b.getX(g),b.getY(g),b.getZ(g)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(d,e.x,e.y,e.z),d=d+1,a.setXYZ(d,t.x,t.y,t.z),d=d+1;a.needsUpdate=!0}}();function kd(e,t){we.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Ce,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1,a=32;i<a;i++,o++){var l=i/a*Math.PI*2,u=o/a*Math.PI*2;r.push(Math.cos(l),Math.sin(l),1,Math.cos(u),Math.sin(u),1)}n.addAttribute("position",new _e(r,3));var c=new on({fog:!1});this.cone=new fn(n,c),this.add(this.cone),this.update()}kd.prototype=Object.create(we.prototype);kd.prototype.constructor=kd;kd.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};kd.prototype.update=function(){var e=new U;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}();function oN(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,oN(e.children[n]));return t}function Id(e){for(var t=oN(e),n=new Ce,r=[],i=[],o=new Ie(0,0,1),a=new Ie(0,1,0),l=0;l<t.length;l++){var u=t[l];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new _e(r,3)),n.addAttribute("color",new _e(i,3));var c=new on({vertexColors:ic,depthTest:!1,depthWrite:!1,transparent:!0});fn.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}Id.prototype=Object.create(fn.prototype);Id.prototype.constructor=Id;Id.prototype.updateMatrixWorld=function(){var e=new U,t=new je,n=new je;return function(i){var o=this.bones,a=this.geometry,l=a.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var u=0,c=0;u<o.length;u++){var d=o[u];d.parent&&d.parent.isBone&&(t.multiplyMatrices(n,d.matrixWorld),e.setFromMatrixPosition(t),l.setXYZ(c,e.x,e.y,e.z),t.multiplyMatrices(n,d.parent.matrixWorld),e.setFromMatrixPosition(t),l.setXYZ(c+1,e.x,e.y,e.z),c+=2)}a.getAttribute("position").needsUpdate=!0,we.prototype.updateMatrixWorld.call(this,i)}}();function Dd(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new Du(t,4,2),i=new Pi({wireframe:!0,fog:!1});ar.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}Dd.prototype=Object.create(ar.prototype);Dd.prototype.constructor=Dd;Dd.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};Dd.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};function Fd(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=[1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],r=new Ce;r.addAttribute("position",new _e(n,3)),r.computeBoundingSphere();var i=new on({fog:!1});Ur.call(this,r,i);var o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],a=new Ce;a.addAttribute("position",new _e(o,3)),a.computeBoundingSphere(),this.add(new ar(a,new Pi({side:THREE.BackSide,fog:!1}))),this.update()}Fd.prototype=Object.create(Ur.prototype);Fd.prototype.constructor=Fd;Fd.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),this.color!==void 0)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}};Fd.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};function Bd(e,t,n){we.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new ku(t);r.rotateY(Math.PI*.5),this.material=new Pi({wireframe:!0,fog:!1}),this.color===void 0&&(this.material.vertexColors=ic);var i=r.getAttribute("position"),o=new Float32Array(i.count*3);r.addAttribute("color",new at(o,3)),this.add(new ar(r,this.material)),this.update()}Bd.prototype=Object.create(we.prototype);Bd.prototype.constructor=Bd;Bd.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};Bd.prototype.update=function(){var e=new U,t=new Ie,n=new Ie;return function(){var i=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var o=i.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,l=o.count;a<l;a++){var u=a<l/2?t:n;o.setXYZ(a,u.r,u.g,u.b)}o.needsUpdate=!0}i.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}();function fv(e,t,n,r){e=e||10,t=t||10,n=new Ie(n!==void 0?n:4473924),r=new Ie(r!==void 0?r:8947848);for(var i=t/2,o=e/t,a=e/2,l=[],u=[],c=0,d=0,h=-a;c<=t;c++,h+=o){l.push(-a,0,h,a,0,h),l.push(h,0,-a,h,0,a);var p=c===i?n:r;p.toArray(u,d),d+=3,p.toArray(u,d),d+=3,p.toArray(u,d),d+=3,p.toArray(u,d),d+=3}var v=new Ce;v.addAttribute("position",new _e(l,3)),v.addAttribute("color",new _e(u,3));var g=new on({vertexColors:ic});fn.call(this,v,g)}fv.prototype=Object.create(fn.prototype);fv.prototype.constructor=fv;function Qx(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new Ie(i!==void 0?i:4473924),o=new Ie(o!==void 0?o:8947848);var a=[],l=[],u,c,d,h,p,v,g;for(h=0;h<=t;h++)d=h/t*(Math.PI*2),u=Math.sin(d)*e,c=Math.cos(d)*e,a.push(0,0,0),a.push(u,0,c),g=h&1?i:o,l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b);for(h=0;h<=n;h++)for(g=h&1?i:o,v=e-e/n*h,p=0;p<r;p++)d=p/r*(Math.PI*2),u=Math.sin(d)*v,c=Math.cos(d)*v,a.push(u,0,c),l.push(g.r,g.g,g.b),d=(p+1)/r*(Math.PI*2),u=Math.sin(d)*v,c=Math.cos(d)*v,a.push(u,0,c),l.push(g.r,g.g,g.b);var y=new Ce;y.addAttribute("position",new _e(a,3)),y.addAttribute("color",new _e(l,3));var M=new on({vertexColors:ic});fn.call(this,y,M)}Qx.prototype=Object.create(fn.prototype);Qx.prototype.constructor=Qx;function dv(e,t,n,r){this.object=e,this.size=t!==void 0?t:1;var i=n!==void 0?n:16776960,o=r!==void 0?r:1,a=0,l=this.object.geometry;l&&l.isGeometry?a=l.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new Ce,c=new _e(a*2*3,3);u.addAttribute("position",c),fn.call(this,u,new on({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}dv.prototype=Object.create(fn.prototype);dv.prototype.constructor=dv;dv.prototype.update=function(){var e=new U,t=new U,n=new ir;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry,l=a.vertices,u=a.faces,c=0,d=0,h=u.length;d<h;d++){var p=u[d],v=p.normal;e.copy(l[p.a]).add(l[p.b]).add(l[p.c]).divideScalar(3).applyMatrix4(i),t.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c=c+1,o.setXYZ(c,t.x,t.y,t.z),c=c+1}o.needsUpdate=!0}}();function zd(e,t,n){we.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);var r=new Ce;r.addAttribute("position",new _e([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new on({fog:!1});this.lightPlane=new Ur(r,i),this.add(this.lightPlane),r=new Ce,r.addAttribute("position",new _e([0,0,0,0,0,1],3)),this.targetLine=new Ur(r,i),this.add(this.targetLine),this.update()}zd.prototype=Object.create(we.prototype);zd.prototype.constructor=zd;zd.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};zd.prototype.update=function(){var e=new U,t=new U,n=new U;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}();function hv(e){var t=new Ce,n=new on({color:16777215,vertexColors:cO}),r=[],i=[],o={},a=new Ie(16755200),l=new Ie(16711680),u=new Ie(43775),c=new Ie(16777215),d=new Ie(3355443);h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",l),h("p","n2",l),h("p","n3",l),h("p","n4",l),h("u1","u2",u),h("u2","u3",u),h("u3","u1",u),h("c","t",c),h("p","c",d),h("cn1","cn2",d),h("cn3","cn4",d),h("cf1","cf2",d),h("cf3","cf4",d);function h(v,g,y){p(v,y),p(g,y)}function p(v,g){r.push(0,0,0),i.push(g.r,g.g,g.b),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.addAttribute("position",new _e(r,3)),t.addAttribute("color",new _e(i,3)),fn.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}hv.prototype=Object.create(fn.prototype);hv.prototype.constructor=hv;hv.prototype.update=function(){var e,t,n=new U,r=new ia;function i(o,a,l,u){n.set(a,l,u).unproject(r);var c=t[o];if(c!==void 0)for(var d=e.getAttribute("position"),h=0,p=c.length;h<p;h++)d.setXYZ(c[h],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap;var a=1,l=1;r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-a,-l,-1),i("n2",a,-l,-1),i("n3",-a,l,-1),i("n4",a,l,-1),i("f1",-a,-l,1),i("f2",a,-l,1),i("f3",-a,l,1),i("f4",a,l,1),i("u1",a*.7,l*1.1,-1),i("u2",-a*.7,l*1.1,-1),i("u3",0,l*2,-1),i("cf1",-a,0,1),i("cf2",a,0,1),i("cf3",0,-l,1),i("cf4",0,l,1),i("cn1",-a,0,-1),i("cn2",a,0,-1),i("cn3",0,-l,-1),i("cn4",0,l,-1),e.getAttribute("position").needsUpdate=!0}}();function Js(e,t){this.object=e,t===void 0&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),i=new Ce;i.setIndex(new at(n,1)),i.addAttribute("position",new at(r,3)),fn.call(this,i,new on({color:t})),this.matrixAutoUpdate=!1,this.update()}Js.prototype=Object.create(fn.prototype);Js.prototype.constructor=Js;Js.prototype.update=function(){var e=new es;return function(n){if(n!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&e.setFromObject(this.object),!e.isEmpty()){var r=e.min,i=e.max,o=this.geometry.attributes.position,a=o.array;a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=r.x,a[4]=i.y,a[5]=i.z,a[6]=r.x,a[7]=r.y,a[8]=i.z,a[9]=i.x,a[10]=r.y,a[11]=i.z,a[12]=i.x,a[13]=i.y,a[14]=r.z,a[15]=r.x,a[16]=i.y,a[17]=r.z,a[18]=r.x,a[19]=r.y,a[20]=r.z,a[21]=i.x,a[22]=r.y,a[23]=r.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();Js.prototype.setFromObject=function(e){return this.object=e,this.update(),this};Js.prototype.copy=function(e){return fn.prototype.copy.call(this,e),this.object=e.object,this};Js.prototype.clone=function(){return new this.constructor().copy(this)};function pv(e,t){this.type="Box3Helper",this.box=e;var n=t!==void 0?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Ce;o.setIndex(new at(r,1)),o.addAttribute("position",new _e(i,3)),fn.call(this,o,new on({color:n})),this.geometry.computeBoundingSphere()}pv.prototype=Object.create(fn.prototype);pv.prototype.constructor=pv;pv.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),we.prototype.updateMatrixWorld.call(this,e))};function mv(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=t===void 0?1:t;var r=n!==void 0?n:16776960,i=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new Ce;o.addAttribute("position",new _e(i,3)),o.computeBoundingSphere(),Ur.call(this,o,new on({color:r}));var a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new Ce;l.addAttribute("position",new _e(a,3)),l.computeBoundingSphere(),this.add(new ar(l,new Pi({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}mv.prototype=Object.create(Ur.prototype);mv.prototype.constructor=mv;mv.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?pr:sh,this.lookAt(this.plane.normal),we.prototype.updateMatrixWorld.call(this,e)};var op,B0;function is(e,t,n,r,i,o){we.call(this),e===void 0&&(e=new THREE.Vector3(0,0,1)),t===void 0&&(t=new THREE.Vector3(0,0,0)),n===void 0&&(n=1),r===void 0&&(r=16776960),i===void 0&&(i=.2*n),o===void 0&&(o=.2*i),op===void 0&&(op=new Ce,op.addAttribute("position",new _e([0,0,0,0,1,0],3)),B0=new rs(0,.5,1,5,1),B0.translate(0,-.5,0)),this.position.copy(t),this.line=new Ur(op,new on({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ar(B0,new Pi({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}is.prototype=Object.create(we.prototype);is.prototype.constructor=is;is.prototype.setDirection=function(){var e=new U,t;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(r.z,0,-r.x).normalize(),t=Math.acos(r.y),this.quaternion.setFromAxisAngle(e,t))}}();is.prototype.setLength=function(e,t,n){t===void 0&&(t=.2*e),n===void 0&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()};is.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)};is.prototype.copy=function(e){return we.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this};is.prototype.clone=function(){return new this.constructor().copy(this)};function e1(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ce;r.addAttribute("position",new _e(t,3)),r.addAttribute("color",new _e(n,3));var i=new on({vertexColors:ic});fn.call(this,r,i)}e1.prototype=Object.create(fn.prototype);e1.prototype.constructor=e1;Fe.create=function(e,t){return e.prototype=Object.create(Fe.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(Da.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new He,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new U(i.x,i.y,i.z||0))}return t}});Object.assign(po.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(ni.prototype);Object.create(ni.prototype);function aN(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ni.call(this,e),this.type="catmullrom"}aN.prototype=Object.create(ni.prototype);Object.assign(aN.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});fv.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Id.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(sv.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),WO.extractUrlBase(e)}});Object.assign(YO.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}});Object.assign(rN.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(es.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});iN.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(Xe,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Xe.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Xe.ceilPowerOfTwo(e)}});Object.assign(ir.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(je.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return e===void 0&&(e=new U),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}});Go.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};Bn.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(ac.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(mr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(mr,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),mr.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),mr.getNormal(e,t,n,r)}});Object.assign(Fs.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Iu(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Fu(this,e)}});Object.assign(ce.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(U.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Gt.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(He.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}});Object.assign(we.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}});Object.defineProperties(we.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(Dm.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(Ox.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Fm.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Fe.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});Pn.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(Sn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(at.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}});Object.assign(Ce.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(Ce.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.assign(oa.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(Kx.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(We.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ie}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===lO}}});Object.defineProperties(So.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(ei.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(Nb.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}});Object.defineProperties(Nb.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(kO.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Qi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(DO.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}});Nd.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this,n=new KO;return n.load(e,function(r){t.setBuffer(r)}),this};QO.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};lv.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};Ys.crossOrigin=void 0;Ys.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new kb;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o};Ys.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new GO;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o};Ys.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ys.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};//! CONFIG
const _K="",xK="files[]";var jc=!1,gT;function wK(e){const t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return new Blob([r],{type:n})}class bK{constructor(){ES(this,"requestScreenshot",(t,n)=>new Promise(r=>{this.createTempCanvas(),t=t||_K,n=n||xK,jc=!0,setTimeout(()=>{const i=this.canvas.toDataURL("image/jpeg",.92),o=new FormData;o.append(n,wK(i),"quasar-store_qs-dispatch_screenshot.png"),fetch(t,{method:"POST",mode:"cors",body:o}).then(a=>a.text()).then(a=>{var l,u;a=JSON.parse(a),r((l=a==null?void 0:a.attachments[0])==null?void 0:l.proxy_url),jc=!1,typeof((u=this==null?void 0:this.canvas)==null?void 0:u.remove)=="function"&&this.canvas.remove(),this.canvas=!1})},1e3)}));window.addEventListener("resize",this.resize);const t=new Zu(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4);t.position.z=0,t.setViewOffset(window.innerWidth,window.innerHeight,0,0,window.innerWidth,window.innerHeight);const n=new dd,r=new Qi(window.innerWidth,window.innerHeight,{minFilter:$n,magFilter:zn,format:wo,type:td}),i=new Nu;i.needsUpdate=!0;const o=new ei({uniforms:{tDiffuse:{value:i}},vertexShader:`
			varying vec2 vUv;

			void main() {
				vUv = vec2(uv.x, 1.0-uv.y);
				gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
			}
`,fragmentShader:`
			varying vec2 vUv;
			uniform sampler2D tDiffuse;

			void main() {
				gl_FragColor = texture2D(tDiffuse, vUv);
			}
`});this.material=o;const a=new ts(window.innerWidth,window.innerHeight),l=new ar(a,o);l.position.z=-100,n.add(l);const u=new Nb;u.setSize(window.innerWidth,window.innerHeight),u.autoClear=!1;let c=document.createElement("div");c.id="three-game-render",document.body.append(c),c.appendChild(u.domElement),c.style.display="none",this.renderer=u,this.rtTexture=r,this.sceneRTT=n,this.cameraRTT=t,this.gameTexture=i,this.animate=this.animate.bind(this),requestAnimationFrame(this.animate)}resize(t){const n=new Zu(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4);if(t===!0)n.setViewOffset(window.innerWidth,window.innerHeight,0,0,window.innerWidth,window.innerHeight);else{const a=Math.floor(window.innerHeight*10/23);n.setViewOffset(window.innerWidth,window.innerHeight,window.innerWidth/3.8,0,a,window.innerHeight)}this.cameraRTT=n;const r=new dd,i=new ts(window.innerWidth,window.innerHeight),o=new ar(i,this.material);o.position.z=-100,r.add(o),this.sceneRTT=r,this.rtTexture=new Qi(window.innerWidth,window.innerHeight,{minFilter:$n,magFilter:zn,format:wo,type:td}),this.renderer.setSize(window.innerWidth,window.innerHeight)}animate(){if(requestAnimationFrame(this.animate),jc){this.renderer.clear(),this.renderer.render(this.sceneRTT,this.cameraRTT,this.rtTexture,!0);const t=new Uint8Array(window.innerWidth*window.innerHeight*4);this.renderer.readRenderTargetPixels(this.rtTexture,0,0,window.innerWidth,window.innerHeight,t),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight;const n=new Uint8ClampedArray(t.buffer),r=this.canvas.getContext("2d"),i=new ImageData(n,window.innerWidth,window.innerHeight);r.putImageData(i,0,0)}}createTempCanvas(){this.canvas=document.createElement("canvas"),this.canvas.style.display="inline",this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}renderToTarget(t){this.resize(!1),this.canvas=t,jc=!0}stop(){jc=!1,this.canvas&&this.canvas.style.display!="none"&&(this.canvas.style.display="none"),this.resize(!0)}}setTimeout(()=>{gT=new bK,window.MainRender=gT},1e3);const SK=bC({palette:{mode:"dark",primary:{main:"#0D80D8"}}});$c.render(w.jsx(V5,{theme:SK,children:w.jsx(e$,{children:w.jsx(qU,{children:w.jsx(ZU,{children:w.jsx(n9,{children:w.jsx(LV,{children:w.jsx(J7,{})})})})})})}),document.getElementById("root"));
